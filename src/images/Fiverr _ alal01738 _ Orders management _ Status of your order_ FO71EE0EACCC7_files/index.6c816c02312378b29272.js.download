/*! For license information please see index.6c816c02312378b29272.js.LICENSE */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("gofor"),require("react-dom/server"),require("ua-parser-js"),require("classnames"),require("lodash"),require("react"),require("react-dom"),require("react-redux"),require("redux"),require("prop-types"),require("axios")):"function"==typeof define&&define.amd?define(["gofor","react-dom/server","ua-parser-js","classnames","lodash","react","react-dom","react-redux","redux","prop-types","axios"],t):"object"==typeof exports?exports.AttachmentsPreview=t(require("gofor"),require("react-dom/server"),require("ua-parser-js"),require("classnames"),require("lodash"),require("react"),require("react-dom"),require("react-redux"),require("redux"),require("prop-types"),require("axios")):e.AttachmentsPreview=t(e.Gofor,e.ReactDOMServer16,e.uaParser,e.classNames,e._,e.React16,e.ReactDOM16,e.ReactRedux,e.Redux,e.PropTypes,e.axios)}("undefined"!=typeof self?self:this,(function(e,t,n,r,o,i,a,c,u,s,l){return function(e){function t(t){for(var n,r,i=t[0],a=t[1],c=0,u=[];c<i.length;c++)r=i[c],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&u.push(o[r][0]),o[r]=0;for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n]);for(s&&s(t);u.length;)u.shift()()}var n={},r={1:0},o={1:0};function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.e=function(e){var t=[];r[e]?t.push(r[e]):0!==r[e]&&{0:1}[e]&&t.push(r[e]=new Promise((function(t,n){for(var o=({0:"MembersTagsInput"}[e]||e)+"."+{0:"ffd2072ffd9fdb6e205d"}[e]+".css",a=i.p+o,c=document.getElementsByTagName("link"),u=0;u<c.length;u++){var s=(f=c[u]).getAttribute("data-href")||f.getAttribute("href");if("stylesheet"===f.rel&&(s===o||s===a))return t()}var l=document.getElementsByTagName("style");for(u=0;u<l.length;u++){var f;if((s=(f=l[u]).getAttribute("data-href"))===o||s===a)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var o=t&&t.target&&t.target.src||a,i=new Error("Loading CSS chunk "+e+" failed.\n("+o+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=o,delete r[e],p.parentNode.removeChild(p),n(i)},p.href=a,document.getElementsByTagName("head")[0].appendChild(p)})).then((function(){r[e]=0})));var n=o[e];if(0!==n)if(n)t.push(n[2]);else{var a=new Promise((function(t,r){n=o[e]=[t,r]}));t.push(n[2]=a);var c,u=document.createElement("script");u.charset="utf-8",u.timeout=120,i.nc&&u.setAttribute("nonce",i.nc),u.src=function(e){return i.p+""+({0:"MembersTagsInput"}[e]||e)+"."+{0:"23d5153a3cb1509f27ad"}[e]+".js"}(e);var s=new Error;c=function(t){u.onerror=u.onload=null,clearTimeout(l);var n=o[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;s.message="Loading chunk "+e+" failed.\n("+r+": "+i+")",s.name="ChunkLoadError",s.type=r,s.request=i,n[1](s)}o[e]=void 0}};var l=setTimeout((function(){c({type:"timeout",target:u})}),12e4);u.onerror=u.onload=c,document.head.appendChild(u)}return Promise.all(t)},i.m=e,i.c=n,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="https://npm-assets.fiverrcdn.com/assets/@fiverr-private/attachments_preview/",i.oe=function(e){throw console.error(e),e};var a=("undefined"!=typeof self?self:this).webpackJsonpAttachmentsPreview=("undefined"!=typeof self?self:this).webpackJsonpAttachmentsPreview||[],c=a.push.bind(a);a.push=t,a=a.slice();for(var u=0;u<a.length;u++)t(a[u]);var s=c;return i(i.s="tjUo")}({"+5jU":function(e,t,n){var r=n("HMbd");e.exports=function(e,t){var n=Number(t);return r(e,-n)}},"/APW":function(e,t,n){e.exports={}},"/BZf":function(e,t,n){e.exports={}},"/LN1":function(e,t,n){var r=n("ZmXw");e.exports=function(e,t){var n=Number(t);return r(e,12*n)}},"/ngF":function(e,t,n){e.exports={}},"/r2+":function(e,t,n){e.exports={}},"/tz4":function(e,t,n){"use strict";t.__esModule=!0;var r=i(n("cDcd")),o=i(n("acCH"));function i(e){return e&&e.__esModule?e:{default:e}}t.default=r.default.createContext||o.default,e.exports=t.default},"/v4g":function(e,t,n){var r=n("92xy"),o=r.MOBILE_DEVICE,i=r.TABLET_DEVICE,a=r.IOS_OS_NAME,c=r.ANDROID_OS_NAME;e.exports={isMobile:function(e){return e===o},isTouch:function(e){return[o,i].includes(e)},isIos:function(e){return e===a},isAndroid:function(e){return e===c}}},"0mZD":function(e,t,n){e.exports={}},"0u2M":function(e,t,n){var r=n("54Wo");e.exports=function(e,t){var n=r(e,t)/36e5;return n>0?Math.floor(n):Math.ceil(n)}},"0upW":function(e,t,n){e.exports={}},"1CCG":function(e,t,n){var r=n("CXhC");e.exports=function(e,t){var n=r(e),o=r(t),i=n.getTime()-6e4*n.getTimezoneOffset(),a=o.getTime()-6e4*o.getTimezoneOffset();return Math.round((i-a)/864e5)}},"1NYb":function(e,t,n){e.exports={}},"2GTP":function(e,t,n){e.exports={}},"2mcs":function(e,t,n){"use strict";var r=n("ohE5");e.exports=r},"34Te":function(t,n){t.exports=e},"3xeu":function(e,t,n){e.exports={}},"42q0":function(e,t,n){e.exports={}},"4SjE":function(e,t,n){e.exports={}},"4coB":function(e,t,n){var r=n("eoPS");e.exports=function(e,t){var n=Number(t);return r(e,-n)}},"4v8u":function(e,t,n){var r=n("iUbB");e.exports=function(e,t){var n=Number(t);return r(e,-n)}},"54Wo":function(e,t,n){var r=n("yNUO");e.exports=function(e,t){var n=r(e),o=r(t);return n.getTime()-o.getTime()}},"5kYJ":function(e,t,n){"use strict";(function(e){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"a",(function(){return o}));var o="object"===("undefined"==typeof window?"undefined":r(window))&&window.window===window&&window||"object"===(void 0===e?"undefined":r(e))&&e.global===e&&e||"object"===("undefined"==typeof self?"undefined":r(self))&&self.self===self&&self}).call(this,n("yLpj"))},"5o66":function(e,t,n){e.exports={}},"5tzR":function(e,t,n){e.exports={}},"63aE":function(e,t,n){e.exports={}},"6DAA":function(e,t,n){var r=n("kOWh");e.exports=function(){var e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],t=["January","February","March","April","May","June","July","August","September","October","November","December"],n=["Su","Mo","Tu","We","Th","Fr","Sa"],o=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],i=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],a=["AM","PM"],c=["am","pm"],u=["a.m.","p.m."],s={MMM:function(t){return e[t.getMonth()]},MMMM:function(e){return t[e.getMonth()]},dd:function(e){return n[e.getDay()]},ddd:function(e){return o[e.getDay()]},dddd:function(e){return i[e.getDay()]},A:function(e){return e.getHours()/12>=1?a[1]:a[0]},a:function(e){return e.getHours()/12>=1?c[1]:c[0]},aa:function(e){return e.getHours()/12>=1?u[1]:u[0]}};return["M","D","DDD","d","Q","W"].forEach((function(e){s[e+"o"]=function(t,n){return function(e){var t=e%100;if(t>20||t<10)switch(t%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd"}return e+"th"}(n[e](t))}})),{formatters:s,formattingTokensRegExp:r(s)}}},"7B8A":function(e,t,n){var r=n("yNUO");e.exports=function(e,t){var n=r(e).getTime(),o=Number(t);return new Date(n+o)}},"7ITC":function(e,n){e.exports=t},"7pFD":function(e,t,n){var r=n("O8cK");e.exports=function(e,t){var n=r(e,t)/7;return n>0?Math.floor(n):Math.ceil(n)}},"8KLM":function(e,t,n){e.exports={}},"8WJ7":function(e,t,n){e.exports={}},"8c1N":function(e,t){e.exports=function(e){if(navigator.clipboard)return navigator.clipboard.writeText(e).catch((function(e){throw void 0!==e?e:new DOMException("The request is not allowed","NotAllowedError")}));var t=document.createElement("span");t.textContent=e,t.style.whiteSpace="pre",t.style.webkitUserSelect="auto",t.style.userSelect="all",document.body.appendChild(t);var n=window.getSelection(),r=window.document.createRange();n.removeAllRanges(),r.selectNode(t),n.addRange(r);var o=!1;try{o=window.document.execCommand("copy")}catch(e){console.log("error",e)}return n.removeAllRanges(),window.document.body.removeChild(t),o?Promise.resolve():Promise.reject(new DOMException("The request is not allowed","NotAllowedError"))}},"8gNx":function(e,t,n){e.exports={}},"8oih":function(e,t,n){e.exports={}},"8rrE":function(e,t){e.exports=n},"92xy":function(e,t){e.exports={MOBILE_DEVICE:"mobile",TABLET_DEVICE:"tablet",DESKTOP_DEVICE:"desktop",IOS_OS_NAME:"iOS",ANDROID_OS_NAME:"Android"}},"9vja":function(e,t,n){e.exports={}},AgLS:function(e,t,n){e.exports={}},BNVo:function(e,t,n){e.exports={}},BWB6:function(e,t,n){e.exports={}},C88J:function(e,t,n){e.exports={}},CNSe:function(e,t,n){"use strict";var r=n("cDcd"),o=n.n(r),i=n("rf6O"),a=n.n(i),c=n("K2gz"),u=n.n(c),s={SQUARE:"square",CIRCLE:"circle"};n("5tzR");var l=function(e){var t,n,r,i=e.src,a=e.className,c=e.size,s=e.shape,l=e.username,f=e.color,p=u()("fit-avatar-figure",a,"fit-avatar-".concat(s,"-shape")),d=u()((r=f,(n="fit-avatar-white-font")in(t={})?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t)),h={fontSize:c},m=l[0],v=i?{backgroundImage:"url(".concat(i,")")}:null;return f&&(h.backgroundColor=f),o.a.createElement("figure",{style:h,className:p},o.a.createElement("figcaption",{className:d},m),o.a.createElement("span",{className:"fit-avatar-image",style:v}))};l.propTypes={username:a.a.string.isRequired,src:a.a.string,size:a.a.number,shape:a.a.oneOf(Object.values(s)),color:a.a.string,className:a.a.string},l.defaultProps={size:24,shape:s.CIRCLE},Object.assign(l,{SHAPES:s});t.a=l},CXhC:function(e,t,n){var r=n("yNUO");e.exports=function(e){var t=r(e);return t.setHours(0,0,0,0),t}},DLwQ:function(e,t,n){e.exports={}},DT56:function(e,t,n){var r=n("yNUO");e.exports=function(e,t){var n=r(e).getTime(),o=r(t).getTime();return n<o?-1:n>o?1:0}},DhUG:function(e,t,n){e.exports={}},EjUJ:function(e,t,n){e.exports={}},Ev1t:function(e,t,n){var r=n("ZmXw");e.exports=function(e,t){var n=Number(t);return r(e,-n)}},F809:function(e,t,n){var r=n("yNUO"),o=n("sunR"),i=n("DT56");e.exports=function(e,t){var n=r(e),a=r(t),c=i(n,a),u=Math.abs(o(n,a));return n.setMonth(n.getMonth()-c*u),c*(u-(i(n,a)===-c))}},G8wA:function(e,t,n){"use strict";(function(e){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"a",(function(){return o}));var o="object"===("undefined"==typeof window?"undefined":r(window))&&window.window===window&&window||"object"===(void 0===e?"undefined":r(e))&&e.global===e&&e||"object"===("undefined"==typeof self?"undefined":r(self))&&self.self===self&&self}).call(this,n("yLpj"))},GLf8:function(e,t,n){var r=n("crfB");e.exports=function(e,t){var n=Number(t);return r(e,-n)}},GiKe:function(e,t,n){e.exports={}},HMbd:function(e,t,n){var r=n("7B8A");e.exports=function(e,t){var n=Number(t);return r(e,36e5*n)}},Hf1y:function(e,t,n){e.exports={}},J5wj:function(e,t,n){e.exports={}},JhRV:function(e,t,n){e.exports={}},K2Ro:function(e,t,n){e.exports={}},K2gz:function(e,t){e.exports=r},KbMU:function(e,t,n){e.exports={}},Kpyc:function(e,t,n){var r=n("yNUO");e.exports=function(e,t){var n=r(e),o=r(t);return n.getFullYear()-o.getFullYear()}},L7qC:function(e,t,n){e.exports={}},LZbM:function(e,t){e.exports=function(){var e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};return{localize:function(t,n,r){var o;return r=r||{},o="string"==typeof e[t]?e[t]:1===n?e[t].one:e[t].other.replace("{{count}}",n),r.addSuffix?r.comparison>0?"in "+o:o+" ago":o}}}},M96Z:function(e,t,n){(function(e){var r,o,i,a;function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}"undefined"!=typeof self&&self,a=function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===c(e)&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(t,n){t.exports=e},function(e,t,n){"use strict";n.r(t),n.d(t,"CLASS_NO_MODAL_CLICK",(function(){return a}));var r=n(0),o="function"==typeof Symbol&&"symbol"===c(Symbol.iterator)?function(e){return c(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":c(e)},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a="modal-no-click",u="togglerWillOpen",s="togglerDidOpen",l="togglerWillClose",f="togglerDidClose",p="shouldPreventCloseAction";function d(e){return"function"==typeof e}var h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==c(t)&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.CLASS_NO_MODAL_CLICK=a,n.notPropagatingElements=new Set,n.open=function(){var e=function(){n.setState({isOpen:!0},(function(){n.bindClickListener(),d(n[s])&&n[s]()}))};if(d(n[u])){if(n[u](e),!n[u].length)return e()}else e()},n.close=function(){var e=function(){n.setState({isOpen:!1},(function(){n.removeClickListener(),d(n[f])&&n[f]()}))};if(d(n[l])){if(n[l](e),!n[l].length)return e()}else e()},n.toggle=function(){return n.state.isOpen?n.close():n.open()},n.bindClickListener=function(){!1!==n.props.bindBodyClickListener&&document.body.addEventListener("click",n.onBodyClick)},n.removeClickListener=function(){return document.body.removeEventListener("click",n.onBodyClick)},n.shouldPreventPropagationByClassName=function(e){return!(!e||!e.classList)&&e.classList.contains(n.CLASS_NO_MODAL_CLICK)},n.shouldPreventPropagationByElement=function(e){if(!e)return!1;if(!e.contains)return!1;if(!n.notPropagatingElements.size)return!1;if(n.notPropagatingElements.has(e))return!0;var t=!0,r=!1,o=void 0;try{for(var i,a=n.notPropagatingElements[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var c=i.value;if(c.contains&&c.contains(e))return!0}}catch(e){r=!0,o=e}finally{try{!t&&a.return&&a.return()}finally{if(r)throw o}}return!1},n.preventCloseAction=function(e){if(e)return n.notPropagatingElements.has(e)?null:void n.notPropagatingElements.add(e)},n.onBodyClick=n.onBodyClick.bind(n),n.state={isOpen:e.defaultOpen||!1},[u,s,l,f,p].forEach((function(t){d(n[t])?n[t]=n[t].bind(n):d(e[t])&&(n[t]=e[t].bind(n))}),n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+c(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidMount",value:function(){this.state.isOpen&&this.bindClickListener()}},{key:"componentWillUnmount",value:function(){this.removeClickListener()}},{key:"onBodyClick",value:function(e){var t=e.target;return this.state.isOpen?d(this.shouldPreventCloseAction)&&!0===this.shouldPreventCloseAction(t)||this.shouldPreventPropagationByClassName(t)||this.shouldPreventPropagationByElement(t)?null:void this.close():null}},{key:"render",value:function(){var e=this.props.children,t=void 0===e?"undefined":o(e);if("undefined"!==t&&"function"!==t)throw new TypeError("Toggler: `children` must be a function");var n=this.close,r=this.open,i=this.toggle,a=this.CLASS_NO_MODAL_CLICK,c=this.preventCloseAction,u=this.state.isOpen,s=this.toggleContent?this.toggleContent.bind(this):e;return s?s({isOpen:u,close:n,open:r,toggle:i,CLASS_NO_MODAL_CLICK:a,preventCloseAction:c}):null}}]),t}(r.Component);h.defaultProps={defaultOpen:!1},t.default=h}])},"object"===c(t)&&"object"===c(e)?e.exports=a(n("cDcd")):(o=[n("cDcd")],void 0===(i="function"==typeof(r=a)?r.apply(t,o):r)||(e.exports=i))}).call(this,n("YuTi")(e))},NL8O:function(e,t,n){e.exports={}},O8cK:function(e,t,n){var r=n("yNUO"),o=n("1CCG"),i=n("DT56");e.exports=function(e,t){var n=r(e),a=r(t),c=i(n,a),u=Math.abs(o(n,a));return n.setDate(n.getDate()-c*u),c*(u-(i(n,a)===-c))}},PYbR:function(e,t,n){e.exports={}},QF1z:function(e,t,n){e.exports={}},RJeW:function(e,t,n){var r=n("iWRJ"),o=n("tMf1");e.exports=function(e){var t=r(e),n=new Date(0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),o(n)}},S4c2:function(e,t,n){e.exports={}},UOKO:function(e,t,n){e.exports={}},Uek0:function(e,t,n){e.exports={}},UfCg:function(e,t,n){e.exports={}},"Us+F":function(e,t,n){var r=n("LZbM"),o=n("6DAA");e.exports={distanceInWords:r(),format:o()}},UwGb:function(e,t,n){e.exports={}},VBar:function(e,t,n){var r=n("yNUO");e.exports=function(e){var t=r(e),n=t.getFullYear(),o=t.getMonth(),i=new Date(0);return i.setFullYear(n,o+1,0),i.setHours(0,0,0,0),i.getDate()}},VGX7:function(e,t){e.exports=function(e){var t=new Date(e.getTime()),n=t.getTimezoneOffset();return t.setSeconds(0,0),6e4*n+t.getTime()%6e4}},VgKM:function(e,t,n){var r=n("pqiq").DEFAULT_LOCALE;t.DEFAULT_CONTEXT={locale:r,userId:0,country:"",countryCode:"",pageCtxId:"",isPro:!1,abTests:{},userAgent:"",knownCrawler:!1,csrfToken:"",browserLanguage:"",currency:"",pathParameters:{},queryParameters:{},userGuid:"",url:"",ip:"",referrer:"",organizationId:"",isMobile:!1,isTouch:!1,isIos:!1}},VnGc:function(e,t,n){e.exports={}},VyMU:function(e,t,n){e.exports={}},"W+43":function(e,t,n){e.exports={}},WA8B:function(e,t,n){var r=n("yNUO"),o=n("pLeS"),i=n("1CCG");e.exports=function(e){var t=r(e);return i(t,o(t))+1}},"X/MV":function(e,t,n){e.exports={}},YHI1:function(e,t,n){e.exports={}},YLtl:function(e,t){e.exports=o},YuTi:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},ZGZG:function(e,t,n){e.exports={}},ZOkH:function(e,t,n){e.exports={uid:"ub43d7ab5"}},ZXDK:function(e,t,n){var r=n("54Wo");e.exports=function(e,t){var n=r(e,t)/6e4;return n>0?Math.floor(n):Math.ceil(n)}},ZmXw:function(e,t,n){var r=n("yNUO"),o=n("VBar");e.exports=function(e,t){var n=r(e),i=Number(t),a=n.getMonth()+i,c=new Date(0);c.setFullYear(n.getFullYear(),a,1),c.setHours(0,0,0,0);var u=o(c);return n.setMonth(a,Math.min(u,n.getDate())),n}},acCH:function(e,t,n){"use strict";t.__esModule=!0;var r=n("cDcd"),o=(a(r),a(n("rf6O"))),i=a(n("fZtv"));a(n("2mcs"));function a(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}t.default=function(e,t){var n,a,f="__create-react-context-"+(0,i.default)()+"__",p=function(e){function n(){var t,r;c(this,n);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return t=r=u(this,e.call.apply(e,[this].concat(i))),r.emitter=l(r.props.value),u(r,t)}return s(n,e),n.prototype.getChildContext=function(){var e;return(e={})[f]=this.emitter,e},n.prototype.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n=this.props.value,r=e.value,o=void 0;((i=n)===(a=r)?0!==i||1/i==1/a:i!=i&&a!=a)?o=0:(o="function"==typeof t?t(n,r):1073741823,0!==(o|=0)&&this.emitter.set(e.value,o))}var i,a},n.prototype.render=function(){return this.props.children},n}(r.Component);p.childContextTypes=((n={})[f]=o.default.object.isRequired,n);var d=function(t){function n(){var e,r;c(this,n);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return e=r=u(this,t.call.apply(t,[this].concat(i))),r.state={value:r.getValue()},r.onUpdate=function(e,t){0!=((0|r.observedBits)&t)&&r.setState({value:r.getValue()})},u(r,e)}return s(n,t),n.prototype.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=null==t?1073741823:t},n.prototype.componentDidMount=function(){this.context[f]&&this.context[f].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=null==e?1073741823:e},n.prototype.componentWillUnmount=function(){this.context[f]&&this.context[f].off(this.onUpdate)},n.prototype.getValue=function(){return this.context[f]?this.context[f].get():e},n.prototype.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(r.Component);return d.contextTypes=((a={})[f]=o.default.object,a),{Provider:p,Consumer:d}},e.exports=t.default},b8ws:function(e,t,n){var r=n("yNUO"),o=n("Kpyc"),i=n("DT56");e.exports=function(e,t){var n=r(e),a=r(t),c=i(n,a),u=Math.abs(o(n,a));return n.setFullYear(n.getFullYear()-c*u),c*(u-(i(n,a)===-c))}},b9PR:function(e,t,n){e.exports={}},bKmE:function(e,t,n){e.exports={}},bL1F:function(e,t,n){e.exports={}},bdgK:function(e,t,n){"use strict";(function(e){var n=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var o=r[n];e.call(t,o[1],o[0])}},t}()}(),r="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,o=void 0!==e&&e.Math===Math?e:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),i="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(o):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var a=["top","right","bottom","left","width","height","size","weight"],c="undefined"!=typeof MutationObserver,u=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,o=0;function a(){n&&(n=!1,e()),r&&u()}function c(){i(a)}function u(){var e=Date.now();if(n){if(e-o<2)return;r=!0}else n=!0,r=!1,setTimeout(c,t);o=e}return u}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){r&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),c?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){r&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;a.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),s=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var o=r[n];Object.defineProperty(e,o,{value:t[o],enumerable:!1,writable:!1,configurable:!0})}return e},l=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||o},f=y(0,0,0,0);function p(e){return parseFloat(e)||0}function d(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+p(e["border-"+n+"-width"])}),0)}function h(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return f;var r=l(e).getComputedStyle(e),o=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var o=r[n],i=e["padding-"+o];t[o]=p(i)}return t}(r),i=o.left+o.right,a=o.top+o.bottom,c=p(r.width),u=p(r.height);if("border-box"===r.boxSizing&&(Math.round(c+i)!==t&&(c-=d(r,"left","right")+i),Math.round(u+a)!==n&&(u-=d(r,"top","bottom")+a)),!function(e){return e===l(e).document.documentElement}(e)){var s=Math.round(c+i)-t,h=Math.round(u+a)-n;1!==Math.abs(s)&&(c-=s),1!==Math.abs(h)&&(u-=h)}return y(o.left,o.top,c,u)}var m="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof l(e).SVGGraphicsElement}:function(e){return e instanceof l(e).SVGElement&&"function"==typeof e.getBBox};function v(e){return r?m(e)?function(e){var t=e.getBBox();return y(0,0,t.width,t.height)}(e):h(e):f}function y(e,t,n,r){return{x:e,y:t,width:n,height:r}}var b=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=y(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=v(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),g=function(e,t){var n,r,o,i,a,c,u,l=(r=(n=t).x,o=n.y,i=n.width,a=n.height,c="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,u=Object.create(c.prototype),s(u,{x:r,y:o,width:i,height:a,top:o,right:r+i,bottom:a+o,left:r}),u);s(this,{target:e,contentRect:l})},O=function(){function e(e,t,r){if(this.activeObservations_=[],this.observations_=new n,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=r}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof l(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new b(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof l(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new g(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),w="undefined"!=typeof WeakMap?new WeakMap:new n,C=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=u.getInstance(),r=new O(t,n,this);w.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){C.prototype[e]=function(){var t;return(t=w.get(this))[e].apply(t,arguments)}}));var E=void 0!==o.ResizeObserver?o.ResizeObserver:C;t.a=E}).call(this,n("yLpj"))},bmcz:function(e,t,n){e.exports={}},boaV:function(e,t,n){e.exports={}},cDcd:function(e,t){e.exports=i},cLZm:function(e,t,n){e.exports={}},cPJV:function(e,t,n){var r=n("WA8B"),o=n("gfz1"),i=n("iWRJ"),a=n("yNUO"),c=n("fupu"),u=n("Us+F");var s={M:function(e){return e.getMonth()+1},MM:function(e){return p(e.getMonth()+1,2)},Q:function(e){return Math.ceil((e.getMonth()+1)/3)},D:function(e){return e.getDate()},DD:function(e){return p(e.getDate(),2)},DDD:function(e){return r(e)},DDDD:function(e){return p(r(e),3)},d:function(e){return e.getDay()},E:function(e){return e.getDay()||7},W:function(e){return o(e)},WW:function(e){return p(o(e),2)},YY:function(e){return p(e.getFullYear(),4).substr(2)},YYYY:function(e){return p(e.getFullYear(),4)},GG:function(e){return String(i(e)).substr(2)},GGGG:function(e){return i(e)},H:function(e){return e.getHours()},HH:function(e){return p(e.getHours(),2)},h:function(e){var t=e.getHours();return 0===t?12:t>12?t%12:t},hh:function(e){return p(s.h(e),2)},m:function(e){return e.getMinutes()},mm:function(e){return p(e.getMinutes(),2)},s:function(e){return e.getSeconds()},ss:function(e){return p(e.getSeconds(),2)},S:function(e){return Math.floor(e.getMilliseconds()/100)},SS:function(e){return p(Math.floor(e.getMilliseconds()/10),2)},SSS:function(e){return p(e.getMilliseconds(),3)},Z:function(e){return f(e.getTimezoneOffset(),":")},ZZ:function(e){return f(e.getTimezoneOffset())},X:function(e){return Math.floor(e.getTime()/1e3)},x:function(e){return e.getTime()}};function l(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|]$/g,""):e.replace(/\\/g,"")}function f(e,t){t=t||"";var n=e>0?"-":"+",r=Math.abs(e),o=r%60;return n+p(Math.floor(r/60),2)+t+p(o,2)}function p(e,t){for(var n=Math.abs(e).toString();n.length<t;)n="0"+n;return n}e.exports=function(e,t,n){var r=t?String(t):"YYYY-MM-DDTHH:mm:ss.SSSZ",o=(n||{}).locale,i=u.format.formatters,f=u.format.formattingTokensRegExp;o&&o.format&&o.format.formatters&&(i=o.format.formatters,o.format.formattingTokensRegExp&&(f=o.format.formattingTokensRegExp));var p=a(e);return c(p)?function(e,t,n){var r,o,i=e.match(n),a=i.length;for(r=0;r<a;r++)o=t[i[r]]||s[i[r]],i[r]=o||l(i[r]);return function(e){for(var t="",n=0;n<a;n++)i[n]instanceof Function?t+=i[n](e,s):t+=i[n];return t}}(r,i,f)(p):"Invalid Date"}},crfB:function(e,t,n){var r=n("7B8A");e.exports=function(e,t){var n=Number(t);return r(e,6e4*n)}},ctoA:function(e,t,n){e.exports={}},cyMd:function(e,t,n){e.exports={}},d73j:function(e,t,n){e.exports={}},eQpz:function(e,t,n){e.exports={}},em3a:function(e,t,n){var r,o;(function(){return 0}).constructor("return this")(),e.exports=(r=n("cDcd"),o=n("faye"),function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=19)}([function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t){e.exports=r},function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return a})),n.d(t,"b",(function(){return c})),n.d(t,"f",(function(){return p}));var r="POS_TOP",o="POS_BOTTOM",i="POS_LEFT",a="POS_RIGHT",c="POS_CENTER",u={right:0},s={left:0},l={left:"50%"},f={position:"fixed",zIndex:99999};function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(null===e)return{};var n=e.vertical,r=e.horizontal;return Object.assign({},f,n===o?{bottom:"".concat(t,"px")}:{top:"".concat(t,"px")},r===c?l:{},r===i?s:{},r===a?u:{})}},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){e.exports=n(22)()},,function(e,t,n){"use strict";function r(e){var t="".concat(Date.now()).slice(-8),n="".concat(Math.random()).slice(2),r=t+n;return e?"".concat(e,"_").concat(r):t+n}var o=n(17),i=n.n(o),a=n(1),c=n.n(a),u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return c.a.isValidElement(e)?c.a.cloneElement(e,t):"function"==typeof e?e(t):null===e||["undefined","boolean"].includes(i()(e))?null:e};n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return u}))},function(e,t,n){var r=n(3);e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){r(e,t,n[t])}))}return e}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t,n){var r=n(17),o=n(0);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?o(e):t}},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},function(e,t,n){var r=n(21);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},function(e,t,n){var r=n(24);e.exports=function(e,t){if(null==e)return{};var n,o,i=r(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}},function(e,t){e.exports=o},,,function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(t){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?e.exports=r=function(e){return n(e)}:e.exports=r=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)},r(t)}e.exports=r},,function(e,t,n){"use strict";n.r(t);var r=n(7),o=n.n(r),i=n(8),a=n.n(i),c=n(9),u=n.n(c),s=n(10),l=n.n(s),f=n(11),p=n.n(f),d=n(12),h=n.n(d),m=n(0),v=n.n(m),y=n(3),b=n.n(y),g=n(1),O=n.n(g),w=n(14),C=n.n(w),E=n(4),S=n.n(E),_=n(6),k=n(2),T=n(13),P=n.n(T),j={position:"relative",padding:0,margin:0,listStyleType:"none"},R=function(e){var t=e.shown,n=e.removed,r={opacity:0,transition:"opacity .5s"};return t&&Object.assign(r,{opacity:1,transform:"scale(1)"}),n&&Object.assign(r,{transform:"scale(.9)",transition:"opacity .3s, transform .3s"}),r},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.sticky||e.timeout===1/0},I=function(e,t){var n="number"==typeof e?e:t;return n<200?200+n:n},x=function(e){function t(){var e,n;a()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=l()(this,(e=p()(t)).call.apply(e,[this].concat(o))),b()(v()(v()(n)),"state",{shown:!1}),b()(v()(v()(n)),"createRef",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{addEventListener:function(){return null}};n.toastRef=e})),b()(v()(v()(n)),"open",(function(){return n.setState({isOpen:!0},n.toastDidOpen)})),b()(v()(v()(n)),"startTimeout",(function(){var e=n.props.toast;if(!N(e)){var t=I(n.remaining,e.timeout);n.clearTimeout(),n.timeout=setTimeout(n.close,t),n.ends=Date.now()+t,n.remaining=void 0}})),b()(v()(v()(n)),"clearTimeout",(function(){N(n.props.toast)||(n.remaining=n.calcRemaining(),clearTimeout(n.timeout))})),b()(v()(v()(n)),"calcRemaining",(function(){return n.ends-Date.now()})),b()(v()(v()(n)),"close",(function(){if(!n.state.removed){var e=n.toastRef;n.clearTimeout(),n.setState({shown:!1,removed:!0},(function(){e.addEventListener("transitionend",(function t(r){r.target===e&&(e.removeEventListener(r.type,t),n.setState({isOpen:!1},n.props.remove))}))}))}})),n}return h()(t,e),u()(t,[{key:"componentDidMount",value:function(){setTimeout(this.open)}},{key:"componentWillUnmount",value:function(){this.clearTimeout()}},{key:"toastDidOpen",value:function(){var e=this,t=this.toastRef,n=this.props,r=n.setHeight,o=n.toast;setTimeout((function(){e.setState({shown:!0},(function(){r(o.id,t.clientHeight),e.startTimeout()}))}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.dismiss,r=t.toast,i=t.pauseOnHover,a=t.position,c=P()(t,["dismiss","toast","pauseOnHover","position"]),u=this.state,s=u.shown,l=u.removed;return O.a.createElement("div",{ref:this.createRef,onMouseEnter:function(){return i&&e.clearTimeout()},onMouseLeave:function(){return i&&e.startTimeout()},style:R({shown:s,removed:l}),className:this.className},Object(_.b)(r.content,o()({toastId:r.id,dismiss:this.dismiss,onClick:r.onClick?function(e){return r.onClick(e,r,n)}:void 0,calcRemaining:this.calcRemaining,trayPosition:a},c)))}},{key:"className",get:function(){var e=this;return["shown","removed"].reduce((function(t,n){return e.state[n]?"".concat(t," ").concat(n):t}),"bt-toast")}},{key:"dismiss",get:function(){var e=this.props,t=e.toast,n=e.dismiss;return"function"==typeof t.dismiss?function(e){return t.dismiss(e,t,n)}:n}}]),t}(g.Component),A=x;x.defaultProps={pauseOnHover:!0,toast:{}};var L=function(e){function t(e){var n;return a()(this,t),n=l()(this,p()(t).call(this,e)),b()(v()(v()(n)),"state",{toasts:[]}),b()(v()(v()(n)),"id",Object(_.a)("tray")),b()(v()(v()(n)),"toasts",{}),b()(v()(v()(n)),"createToastRef",(function(e,t){e&&(t?n.toasts[e]=t:delete n.toasts[e])})),b()(v()(v()(n)),"push",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.props.timeout;n.setState((function(n){var r=Object.assign({},n);return r.toasts=[o()({timeout:t},e)].concat(r.toasts),r}))})),b()(v()(v()(n)),"remove",(function(e){n.setState((function(t){var n=Object.assign({},t);return n.toasts=n.toasts.filter((function(t){return t.id!==e})),n}))})),b()(v()(v()(n)),"dismiss",(function(e){n.toasts[e]&&n.toasts[e].close&&n.toasts[e].close()})),b()(v()(v()(n)),"dismissAll",(function(){for(var e in n.toasts)n.dismiss(e)})),b()(v()(v()(n)),"setHeight",(function(e,t){n.setState((function(n){var r=Object.assign({},n),o=r.toasts.findIndex((function(t){return t.id===e}));return r.toasts[o].height=t,r}))})),n.onButterToast=n.onButterToast.bind(v()(v()(n))),n}return h()(t,e),u()(t,[{key:"componentDidMount",value:function(){window.addEventListener(D,this.onButterToast)}},{key:"componentWillUnmount",value:function(){window.removeEventListener(D,this.onButterToast)}},{key:"onButterToast",value:function(){var e=this,t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).detail,n=t.namespace,r=t.dismissBy,o=P()(t,["namespace","dismissBy"]);if(!n||n===this.props.namespace)return r?void("all"===r?this.dismissAll():this.dismiss(r)):setTimeout((function(){return e.push(o)}))}},{key:"render",value:function(){var e=this,t=this.state.toasts,n=this.props,r=n.position,o=n.spacing,i=0;return O.a.createElement("ul",{style:j},t.map((function(t,n){if(!t)return null;var a,c=t.height||0;a=i,i+=c+o,r&&r.vertical===k.a&&(a=-a-c);var u=function(e){var t,n=e.position,r=void 0===n?{vertical:k.e,horizontal:k.b}:n,o=e.spacing,i=e.offset,a=e.height,c=e.index,u={position:"absolute",transition:"transform .3s",transitionDelay:"".concat(.02*(void 0===c?0:c),"s")};switch(t=0!==i||a||r.vertical!==k.e?"translateY(".concat(i,"px)"):"translateY(-100%)",r.horizontal){case k.d:u.right="".concat(o,"px"),u.transform=t;break;case k.b:u.transform="translateX(-50%) ".concat(t);break;default:u.left="".concat(o,"px"),u.transform=t}return u}({offset:a,spacing:o,position:r,height:t.height,index:n});return O.a.createElement("li",{key:t.id,style:u},O.a.createElement(A,{dismiss:function(){return e.dismiss(t.id)},remove:function(){return e.remove(t.id)},setHeight:e.setHeight,position:r,ref:function(n){return e.createToastRef(t.id,n)},toast:t}))})))}}]),t}(g.Component);n.d(t,"CUSTOM_EVENT_NAME",(function(){return D})),n.d(t,"POS_TOP",(function(){return k.e})),n.d(t,"POS_BOTTOM",(function(){return k.a})),n.d(t,"POS_LEFT",(function(){return k.c})),n.d(t,"POS_RIGHT",(function(){return k.d})),n.d(t,"POS_CENTER",(function(){return k.b}));var D="ButterToast";function M(e){var t,n=Object.assign({namespace:""},e);"function"==typeof window.CustomEvent?t=new CustomEvent(D,{detail:n}):(t=document.createEvent("CustomEvent")).initCustomEvent(D,!1,!1,n),window.dispatchEvent(t)}var B=function(e){function t(){var e,n;a()(this,t);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return n=l()(this,(e=p()(t)).call.apply(e,[this].concat(i))),b()(v()(v()(n)),"raise",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(_.a)();return n.tray.push(o()({id:t},e)),t})),b()(v()(v()(n)),"dismiss",(function(e){return n.tray.push(e)})),b()(v()(v()(n)),"dismissAll",(function(){return n.tray.dismissAll()})),b()(v()(v()(n)),"createTrayRef",(function(e){window._btTrays=window._btTrays||{},e&&(n.id=e.id,n.tray=e,window._btTrays[e.id]=e)})),n}return h()(t,e),u()(t,[{key:"componentDidMount",value:function(){if(!this.props.renderInContext){var e=this.props,t=e.position,n=e.timeout,r=e.spacing,o=e.namespace,i=e.style,a=Object(k.f)(t,r);this.root=document.createElement("aside"),this.root.setAttribute("class",this.className),Object.assign(this.root.style,a,i),document.body.appendChild(this.root),C.a.render(O.a.createElement(L,{ref:this.createTrayRef,namespace:o,spacing:r,timeout:n,position:t}),this.root)}}},{key:"componentWillUnmount",value:function(){this.root&&(delete window._btTrays[this.id],C.a.unmountComponentAtNode(this.root),this.root.parentNode.removeChild(this.root),delete this.root)}},{key:"render",value:function(){var e=this.props,t=e.renderInContext,n=e.timeout,r=e.spacing,o=e.namespace,i=e.position,a=e.style;return t?O.a.createElement("aside",{className:this.className,style:a},O.a.createElement(L,{ref:this.createTrayRef,position:i,namespace:o,spacing:r,timeout:n})):null}},{key:"className",get:function(){var e=this.props;return[e.className,e.namespace,"butter-toast"].filter(Boolean).join(" ")}}],[{key:"raise",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(_.a)();return M(o()({id:t},e)),t}},{key:"dismiss",value:function(e){M({dismissBy:e})}},{key:"dismissAll",value:function(e){M({dismissBy:"all"})}}]),t}(g.Component);B.propTypes={renderInContext:S.a.bool,className:S.a.string,namespace:S.a.string,position:S.a.shape({vertical:S.a.oneOf([k.e,k.a]),horizontal:S.a.oneOf([k.c,k.d,k.b])}),timout:S.a.number,spacing:S.a.number},B.defaultProps={className:"",namespace:"",position:{vertical:k.e,horizontal:k.d},timeout:6e3,spacing:10},t.default=B},,function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,r)}e.exports=n},function(e,t,n){"use strict";var r=n(23);function o(){}e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=o,n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t){e.exports=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}}]))},eoPS:function(e,t,n){var r=n("iUbB");e.exports=function(e,t){var n=Number(t);return r(e,7*n)}},fJC2:function(e,t,n){e.exports={uid:"u4565d528"}},fZtv:function(e,t,n){"use strict";(function(t){var n="__global_unique_id__";e.exports=function(){return t[n]=(t[n]||0)+1}}).call(this,n("yLpj"))},faye:function(e,t){e.exports=a},fupu:function(e,t,n){var r=n("pzWd");e.exports=function(e){if(r(e))return!isNaN(e);throw new TypeError(toString.call(e)+" is not an instance of Date")}},gfz1:function(e,t,n){var r=n("yNUO"),o=n("tMf1"),i=n("RJeW");e.exports=function(e){var t=r(e),n=o(t).getTime()-i(t).getTime();return Math.round(n/6048e5)+1}},gxAV:function(e,t,n){e.exports={}},h74D:function(e,t){e.exports=c},iN61:function(e,t,n){e.exports={}},iQJf:function(e,t,n){var r=n("/LN1");e.exports=function(e,t){var n=Number(t);return r(e,-n)}},iUbB:function(e,t,n){var r=n("yNUO");e.exports=function(e,t){var n=r(e),o=Number(t);return n.setDate(n.getDate()+o),n}},iWRJ:function(e,t,n){var r=n("yNUO"),o=n("tMf1");e.exports=function(e){var t=r(e),n=t.getFullYear(),i=new Date(0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);var a=o(i),c=new Date(0);c.setFullYear(n,0,4),c.setHours(0,0,0,0);var u=o(c);return t.getTime()>=a.getTime()?n+1:t.getTime()>=u.getTime()?n:n-1}},j61S:function(e,t,n){e.exports={}},k5eb:function(e,t,n){e.exports={}},k5qC:function(e,t,n){e.exports={}},"k7+O":function(e,t,n){!function(){"use strict";var t="undefined"!=typeof window&&void 0!==window.document?window.document:{},n=e.exports,r="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,o=function(){for(var e,n=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],r=0,o=n.length,i={};r<o;r++)if((e=n[r])&&e[1]in t){for(r=0;r<e.length;r++)i[n[0][r]]=e[r];return i}return!1}(),i={change:o.fullscreenchange,error:o.fullscreenerror},a={request:function(e){return new Promise(function(n,i){var a,c=o.requestFullscreen,u=function(){this.off("change",u),n()}.bind(this);this.on("change",u),e=e||t.documentElement,a=/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)?e[c]():e[c](r?Element.ALLOW_KEYBOARD_INPUT:{}),Promise.resolve(a).catch(i)}.bind(this))},exit:function(){return new Promise(function(e){if(this.isFullscreen){var n=function(){this.off("change",n),e()}.bind(this);t[o.exitFullscreen](),this.on("change",n)}else e()}.bind(this))},toggle:function(e){return this.isFullscreen?this.exit():this.request(e)},onchange:function(e){this.on("change",e)},onerror:function(e){this.on("error",e)},on:function(e,n){var r=i[e];r&&t.addEventListener(r,n,!1)},off:function(e,n){var r=i[e];r&&t.removeEventListener(r,n,!1)},raw:o};o?(Object.defineProperties(a,{isFullscreen:{get:function(){return Boolean(t[o.fullscreenElement])}},element:{enumerable:!0,get:function(){return t[o.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return Boolean(t[o.fullscreenEnabled])}}}),n?(e.exports=a,e.exports.default=a):window.screenfull=a):n?e.exports=!1:window.screenfull=!1}()},kM9Z:function(e,t,n){e.exports={}},kOWh:function(e,t){var n=["M","MM","Q","D","DD","DDD","DDDD","d","E","W","WW","YY","YYYY","GG","GGGG","H","HH","h","hh","m","mm","s","ss","S","SS","SSS","Z","ZZ","X","x"];e.exports=function(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(r);var o=n.concat(t).sort().reverse();return new RegExp("(\\[[^\\[]*\\])|(\\\\)?("+o.join("|")+"|.)","g")}},kya4:function(e,t,n){e.exports={}},lBjx:function(e,t,n){e.exports={}},m24X:function(e,t,n){e.exports={}},mFgO:function(e,t,n){e.exports={uid:"u19e35e67"}},mbTg:function(e,t,n){e.exports={}},mfkv:function(e,t,n){e.exports={}},mrsR:function(e,t,n){e.exports={}},mxL9:function(e,t,n){e.exports={}},n1rt:function(e,t,n){e.exports={}},nPLd:function(e,t,n){e.exports={uid:"ubf4b4829"}},ohE5:function(e,t,n){"use strict";function r(e){return function(){return e}}var o=function(){};o.thatReturns=r,o.thatReturnsFalse=r(!1),o.thatReturnsTrue=r(!0),o.thatReturnsNull=r(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(e){return e},e.exports=o},p6OG:function(e,t,n){e.exports={uid:"ucd493bfb"}},pDEI:function(e,t,n){var r=n("yNUO");e.exports=function(e,t){var n=r(e),o=r(t);return n.getTime()>o.getTime()}},pLeS:function(e,t,n){var r=n("yNUO");e.exports=function(e){var t=r(e),n=new Date(0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}},pXvB:function(e,t,n){e.exports={}},pjVn:function(e,t,n){e.exports={}},plsC:function(e,t,n){e.exports={uid:"u1bccf25d"}},pqiq:function(e,t){t.DEFAULT_LOCALE="en-US"},pzWd:function(e,t){e.exports=function(e){return e instanceof Date}},r76K:function(e,t,n){e.exports={}},rKB8:function(e,t){e.exports=u},rLWM:function(e,t,n){e.exports={}},rf6O:function(e,t){e.exports=s},"s/Wv":function(e,t,n){e.exports={}},sL8e:function(e,t,n){e.exports={}},"sT+f":function(e,t,n){e.exports={}},scqE:function(e,t,n){e.exports={}},sdW9:function(e,t,n){e.exports={}},sg0N:function(e,t,n){e.exports={}},speT:function(e,t,n){e.exports={}},sunR:function(e,t,n){var r=n("yNUO");e.exports=function(e,t){var n=r(e),o=r(t);return 12*(n.getFullYear()-o.getFullYear())+(n.getMonth()-o.getMonth())}},tMf1:function(e,t,n){var r=n("x84W");e.exports=function(e){return r(e,{weekStartsOn:1})}},tjUo:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"generateLink",(function(){return vc})),n.d(r,"setShareableLinks",(function(){return yc})),n.d(r,"setLinkStatus",(function(){return bc}));var o={};n.r(o),n.d(o,"ANNOTATION_ADDED",(function(){return nb})),n.d(o,"ANNOTATION_CLICKED",(function(){return rb})),n.d(o,"ANNOTATION_UPDATED",(function(){return ob})),n.d(o,"ANNOTATION_DELETED",(function(){return ib})),n.d(o,"ANNOTATION_MOUSE_OVER",(function(){return ab})),n.d(o,"ANNOTATION_MOUSE_OUT",(function(){return cb})),n.d(o,"ANNOTATION_SELECTED",(function(){return ub})),n.d(o,"ANNOTATION_UNSELECTED",(function(){return sb})),n.d(o,"ANNOTATION_MODE_STARTED",(function(){return lb})),n.d(o,"ANNOTATION_MODE_ENDED",(function(){return fb})),n.d(o,"ANNOTATION_COUNT",(function(){return pb}));var i={};n.r(i),n.d(i,"APP_RENDERING_START",(function(){return db})),n.d(i,"APP_RENDERING_DONE",(function(){return hb})),n.d(i,"APP_RENDERING_FAILED",(function(){return mb})),n.d(i,"PDF_VIEWER_OPEN",(function(){return vb})),n.d(i,"PDF_VIEWER_CLOSE",(function(){return yb})),n.d(i,"PDF_VIEWER_READY",(function(){return bb})),n.d(i,"PREVIEW_SELECTION_END",(function(){return gb})),n.d(i,"PREVIEW_PAGE_CLICK",(function(){return Ob}));var a={};n.r(a),n.d(a,"Audio",(function(){return Ry})),n.d(a,"Image",(function(){return Jy})),n.d(a,"Pdf",(function(){return sg})),n.d(a,"Video",(function(){return bg}));var c=n("cDcd"),u=n.n(c),s=n("faye"),l=n.n(s),f=n("rf6O"),p=n.n(f),d=n("K2gz"),h=n.n(d);function m(e){return"function"==typeof e}function v(e,t){return null==e?null:m(e)?e(t):e}var y=n("xD2B"),b=n.n(y),g=n("5kYJ"),O=function(){return"".concat(Math.random()).slice(-8)+"".concat(Date.now()).slice(8)},w=Symbol.for("futile uid");function C(){for(var e=O();g.a[w].has(e);)e=O();return g.a[w].add(e),e}g.a[w]=g.a[w]||new Set;var E=n("plsC"),S=n.n(E);function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var k=["trigger","children"];function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function N(e,t,n){return(N="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=D(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=D(e);if(t){var o=D(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return A(this,n)}}function A(e,t){if(t&&("object"===_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return L(e)}function L(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var M=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(i,e);var t,n,r,o=x(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).__view=t.__view.bind(L(t)),t.draw=t.draw.bind(L(t)),t.onEscape=t.onEscape.bind(L(t)),t.openClass="modal-open-".concat(C()),t}return t=i,(n=[{key:"componentDidMount",value:function(){this.props.autoOpen&&this.open()}},{key:"componentDidUpdate",value:function(){this.draw()}},{key:"componentWillUnmount",value:function(){N(D(i.prototype),"componentWillUnmount",this).call(this),this.close()}},{key:"onEscape",value:function(e){27!==e.keyCode&&27!==e.which&&"Escape"!==e.code&&"Escape"!==e.key||this.close()}},{key:"targetClassName",get:function(){return h()("MODAL__modal-".concat(S.a.uid),this.props.name)}},{key:"modalProps",get:function(){var e=this.open,t=this.close,n=this.toggle,r=this.preventCloseAction,o=this.state.isOpen,i=this.props;return i.trigger,i.children,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({open:e,close:t,toggle:n,preventCloseAction:r,isOpen:o},j(i,k))}},{key:"togglerWillOpen",value:function(){this.target||(this.target=document.createElement("div"),this.target.className=this.targetClassName,document.body.appendChild(this.target),this.props.closeOnEscape&&window.addEventListener("keyup",this.onEscape),this.draw())}},{key:"togglerDidOpen",value:function(){var e=this;document.body.classList.add(this.openClass),setTimeout((function(){return e.target.classList.add("shown")})),m(this.props.onOpen)&&this.props.onOpen()}},{key:"togglerWillClose",value:function(e){var t=this;this.target&&(this.target.classList.remove("shown"),this.target.addEventListener("transitionend",(function(){l.a.unmountComponentAtNode(t.target),document.body.removeChild(t.target),t.target=void 0,e()}),{once:!0}),window.removeEventListener("keyup",this.onEscape))}},{key:"togglerDidClose",value:function(){document.body.classList.remove(this.openClass),m(this.props.onClose)&&this.props.onClose()}},{key:"__view",value:function(e){return this.props.children(e)}},{key:"draw",value:function(){this.target&&l.a.unstable_renderSubtreeIntoContainer(this,this.__view(this.modalProps),this.target)}},{key:"render",value:function(){return v(this.props.trigger,this.modalProps)}}])&&R(t.prototype,n),r&&R(t,r),i}(b.a);M.propTypes={onOpen:p.a.func,onClose:p.a.func,closeOnEscape:p.a.bool,bindBodyClickListener:p.a.bool,trigger:p.a.func,name:p.a.string},M.defaultProps={closeOnEscape:!0,bindBodyClickListener:!0};var B=M,F=Object(f.oneOfType)([Object(f.arrayOf)(f.node),f.node,f.func]),V=n("ZOkH"),U=n.n(V),H=function(e){var t=e.children,n=e.preventCloseAction,r=e.isOpen,o=e.className;if(!r)return null;var i=h()("MODAL__modal-content-".concat(U.a.uid),"modal-content",o);return u.a.createElement("div",{className:i,ref:n},t)};H.propTypes={children:F.isRequired,isOpen:p.a.bool,preventCloseAction:p.a.func,className:p.a.string},H.defaultProps={isOpen:!1,preventCloseAction:function(){return null},className:""};var W=H,G=n("fJC2"),q=n.n(G),z=function(e){var t=e.onClick;return u.a.createElement("button",{className:"MODAL__modal-content-close-".concat(q.a.uid," modal-content-close"),onClick:t},u.a.createElement("span",null,""))};z.propTypes={onClick:p.a.func.isRequired};var Y=z,K=n("p6OG"),Z=n.n(K);function X(e){var t=e.children,n=e.hasCloseBtn,r=e.close,o=n&&"function"==typeof r;return u.a.createElement("header",{className:"MODAL__modal-content-header-".concat(Z.a.uid," modal-content-header")},u.a.createElement("h2",null,t),o&&u.a.createElement(Y,{onClick:r}))}X.propTypes={children:F.isRequired,hasCloseBtn:p.a.bool,close:p.a.func},X.defaultProps={hasCloseBtn:!0};var J=X,$=n("mFgO"),Q=n.n($),ee=function(e){var t=e.children;return u.a.createElement("section",{className:"MODAL__modal-content-body-".concat(Q.a.uid," modal-content-body")},t)};ee.propTypes={children:F.isRequired};var te=ee,ne=n("yoks"),re=n.n(ne),oe=function(e){var t=e.children;return u.a.createElement("footer",{className:"MODAL__modal-content-footer-".concat(re.a.uid," modal-content-footer")},t)};oe.propTypes={children:F.isRequired};var ie=oe,ae=n("nPLd"),ce=n.n(ae);function ue(e){return(ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function se(){return(se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function le(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pe(e,t){return(pe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function de(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=me(e);if(t){var o=me(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return he(this,n)}}function he(e,t){if(t&&("object"===ue(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function me(e){return(me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ve=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pe(e,t)}(i,e);var t,n,r,o=de(i);function i(){return le(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"__view",value:function(e){var t=this.props,n=t.header,r=t.footer,o=t.children,i=t.hasCloseBtn,a="MODAL__modal-content-base-".concat(ce.a.uid);return u.a.createElement(W,se({},e,{className:a}),n&&u.a.createElement(J,{hasCloseBtn:i,close:e.close},v(n,e)),o&&u.a.createElement(te,null,v(o,e)),r&&u.a.createElement(ie,null,v(r,e)))}}])&&fe(t.prototype,n),r&&fe(t,r),i}(B);ve.propTypes={header:p.a.any,footer:p.a.any,children:p.a.any,hasCloseBtn:p.a.bool};var ye=ve,be=B,ge=n("h74D"),Oe=n("YLtl"),we=n.n(Oe);function Ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ee=Symbol(),Se=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this[Ee]=new Map}var t,n,r;return t=e,(n=[{key:"on",value:function(e,t){var n=this[Ee].get(e);n||(this[Ee].set(e,new Set),n=this[Ee].get(e)),n.add(t)}},{key:"once",value:function(e,t){var n=this,r=function r(){n.off(e,r),t.apply(void 0,arguments)};this.on(e,r)}},{key:"has",value:function(e){return this[Ee].has(e)}},{key:"off",value:function(e,t){if(this[Ee].has(e))if(void 0!==t){var n=this[Ee].get(e);n.delete(t),0===n.size&&this[Ee].delete(e)}else this[Ee].delete(e)}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=this[Ee].get(e);o&&o.forEach((function(e){e.apply(void 0,n)}))}},{key:"deferred",value:function(e){for(var t=this,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return Promise.resolve().then((function(){t.emit.apply(t,[e].concat(r))}))}}])&&Ce(t.prototype,n),r&&Ce(t,r),e}(),_e=Symbol.for("globalEventBus"),ke=g.a[_e]=g.a[_e]||new Se,Te=n("rKB8");function Pe(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(o){return"function"==typeof o?o(n,r,e):t(o)}}}}var je=Pe();je.withExtraArgument=Pe;var Re=je;function Ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ne(Object(n),!0).forEach((function(t){xe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ae=[];function Le(e){return(Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function De(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Me(e){var t=function(e,t){if("object"!==Le(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Le(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Le(t)?t:String(t)}function Be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(n),!0).forEach((function(t){Ve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ue={};function He(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"UPDATE_COMMENT":return Fe(Fe({},e),t.payload);default:return e}}var We=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SET_COMMENTS":return t.payload;case"ADD_COMMENT":var n=t.payload.id;return Fe(Fe({},e),{},Ve({},n,t.payload));case"UPDATE_COMMENT":return Fe(Fe({},e),{},Ve({},t.payload.id,He(e[t.payload.id],t)));case"DELETE_COMMENT":var r=t.payload,o=(e[r],De(e,[r].map(Me)));return o;default:return e}};function Ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ge(Object(n),!0).forEach((function(t){ze(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ze(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ye(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"EDIT_COLLABORATOR":return qe(qe({},e),t.payload);default:return e}}var Ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SET_COLLABORATORS":return t.payload;case"DELETE_COLLABORATOR":return qe(qe({},e),{},ze({},t.payload,qe(qe({},e[t.payload]),{},{removed:!0})));case"EDIT_COLLABORATOR":return qe(qe({},e),{},ze({},t.payload.id,Ye(e[t.payload.id],t)));case"ADD_COLLABORATOR":var n=t.payload.id;return qe(qe({},e),{},ze({},n,t.payload));default:return e}};function Ze(e){return(Ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xe(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Je(e){var t=function(e,t){if("object"!==Ze(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ze(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ze(t)?t:String(t)}function $e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$e(Object(n),!0).forEach((function(t){et(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function et(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(n),!0).forEach((function(t){rt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ot="SHAREABLE_LINK_FETCH_START",it="SHAREABLE_LINK_FETCH_SUCCESS",at="SHAREABLE_LINK_FETCH_FAILURE",ct="SHAREABLE_LINK_SET_STATUS";function ut(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function st(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ut(Object(n),!0).forEach((function(t){lt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ut(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function lt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ft=Object(Te.combineReducers)({link:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case it:case"SET_SHAREABLE_LINK":return t.link;case ct:return e?st(st({},e),{},{status:t.status}):e;default:return e}},isLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case ot:return!0;case it:case"SET_SHAREABLE_LINK":case at:return!1;default:return e}}});function pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pt(Object(n),!0).forEach((function(t){ht(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ht(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mt(Object(n),!0).forEach((function(t){yt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bt(Object(n),!0).forEach((function(t){Ot(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ot(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wt=Object(Te.combineReducers)({comments:We,collaborators:Ke,groups:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SET_GROUPS":return t.payload;case"ADD_GROUP":var n=t.payload.id;return Qe(Qe({},e),{},et({},n,t.payload));case"DELETE_GROUP":var r=t.payload,o=(e[r],Xe(e,[r].map(Je)));return o;default:return e}},files:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SET_FILES":return t.payload;default:return e}},filerrs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SET_FILERRS":return t.payload;default:return e}},current:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SET_CURRENT_USER_ID":return nt(nt({},e),{},{userId:t.payload});case"SET_CURRENT_COLLABORATOR_ID":return nt(nt({},e),{},{collaboratorId:t.payload});case"SET_CURRENT_FILE_ID":return nt(nt({},e),{},{fileId:t.payload});case"SET_CURRENT_FILERR_ID":return nt(nt({},e),{},{filerrId:t.payload});case"SET_CURRENT_GROUP_ID":return nt(nt({},e),{},{groupId:t.payload});case"SET_CURRENT_COMMENT_ID":return nt(nt({},e),{},{commentId:t.payload});case"SET_CURRENT_TIMECODE":return nt(nt({},e),{},{timecode:t.payload});default:return e}},shareableLink:ft,team:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SET_TEAM":return t.payload;default:return e}},loading:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SET_CREATE_COMMENTS_LOADING":return dt(dt({},e),{},{createComments:t.payload});case"SET_DATAVIEW_LOADING":return dt(dt({},e),{},{dataview:t.payload});default:return e}},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SET_REMOVED_COLLABORATOR_ERROR":return vt(vt({},e),{},{removedCollaborator:t.payload});default:return e}},settings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SET_WITH_REVISIONS":return gt(gt({},e),{},{withRevision:t.payload});case"SET_WITH_PRE_REVISIONS":return gt(gt({},e),{},{withPreRevision:t.payload});case"SHOW_PDF_VIEWER":return gt(gt({},e),{},{showPdfViewer:t.payload});default:return e}},callbacks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e},annotationsHidden:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"TOGGLE_ANNOTATIONS_VISIBILITY_CLICK":return!e;default:return e}},tempAnnotations:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"OVERLAY_CLICKED":return[Ie(Ie({},t.payload),{},{isRemovable:!0})];case"ANNOTATION_CLICKED":case"SELECT_COMMENT":case"ADD_COMMENT":case"SET_CURRENT_FILE_ID":return Ae;case"COMMENT_BOX_CANCELLED":return t.payload.parentId?e:Ae;default:return e}},commentBoxCancelled:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"COMMENT_BOX_CANCELLED":return!0;case"COMMENT_BOX_OPENED":return!1;default:return e}}}),Ct=function(e,t,n){var r=new Error(e);return r.code=t,r.details={payload:JSON.stringify(n)},r},Et=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(t=e instanceof Error?e:Ct(e,n,r)).code||(t.code=n,t.details={payload:JSON.stringify(r)}),t.details.package="@fiverr-private/attachments_preview",setTimeout((function(){throw t}))},St=n("34Te");var _t=new(n.n(St).a)((function(){return{credentials:"same-origin",headers:function(){var e=new Headers;e.append("X-Requested-With","XMLHttpRequest"),e.append("Content-Type","application/json; charset=utf-8"),e.append("Accept","application/json");try{e.append("X-CSRF-Token",document.AUTH_TOKEN)}catch(e){}return e}()}})).fetch,kt=n("G8wA");function Tt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Pt=Symbol(),jt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this[Pt]=new Map}var t,n,r;return t=e,(n=[{key:"on",value:function(e,t){var n=this[Pt].get(e);n||(this[Pt].set(e,new Set),n=this[Pt].get(e)),n.add(t)}},{key:"once",value:function(e,t){var n=this,r=function r(){n.off(e,r),t.apply(void 0,arguments)};this.on(e,r)}},{key:"one",value:function(e,t){this.has(e)||this.on(e,t)}},{key:"has",value:function(e){return this[Pt].has(e)}},{key:"off",value:function(e,t){if(this[Pt].has(e))if(void 0!==t){var n=this[Pt].get(e);n.delete(t),0===n.size&&this[Pt].delete(e)}else this[Pt].delete(e)}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=this[Pt].get(e);o&&o.forEach((function(e){e.apply(void 0,n)}))}},{key:"deferred",value:function(e){for(var t=this,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return Promise.resolve().then((function(){t.emit.apply(t,[e].concat(r))}))}}])&&Tt(t.prototype,n),r&&Tt(t,r),e}(),Rt=Symbol.for("globalEventBus"),Nt=kt.a[Rt]=kt.a[Rt]||new jt,It="OBS::LOGGER",xt=["debug","verbose","info","warn","error","critical"];function At(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Lt=xt.reduce((function(e,t){return Object.assign(e,At({},t,(function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Nt.deferred(It,{entity:e,enrichments:n,level:t})})))}),{});Object.defineProperty(Lt,"force",{value:xt.reduce((function(e,t){return Object.assign(e,At({},t,(function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Nt.deferred(It,{entity:e,enrichments:n,level:t,force:!0})})))}),{})});var Dt=Lt,Mt=n("8rrE"),Bt=n.n(Mt),Ft=n("/v4g");function Vt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ut(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ut(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ut(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ht=Symbol(),Wt=function(e,t,n){Object.defineProperty(e,t,{value:n,writable:!1,enumerable:!1})},Gt=function(e){if(e[Ht])return e;if(!function(e){return!!e&&Object(Oe.isObject)(e)&&!Array.isArray(e)}(e))return Dt.error("FiverrContext computed mixin target is not valid, please contact platform team."),e;var t=e.userAgent,n=Bt()(t),r=n.device.type,o=n.os.name,i={isMobile:Ft.isMobile(r),isTouch:Ft.isTouch(r),isIos:Ft.isIos(o),isAndroid:Ft.isAndroid(o)};return Wt(e,Ht,!0),Object.entries(i).forEach((function(t){var n=Vt(t,2),r=n[0],o=n[1];return Wt(e,r,o)})),e},qt=n("VgKM"),zt=function(){var e=we.a.get(window,"initialData.FiverrContext");return e?Gt(e):(Dt.error({message:"Browser context does not exist, please ensure the run time owner sets one on the window scope before using this API"}),qt.DEFAULT_CONTEXT)};function Yt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Kt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yt(Object(n),!0).forEach((function(t){Zt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Zt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xt=function e(t,n){return"string"==typeof n?t(n):Object(Oe.isArray)(n)&&0===n.length?n:Object(Oe.reduce)(n,(function(r,o,i){if(Object(Oe.isArray)(n))return n.map((function(n){return Object(Oe.isPlainObject)(n)||Object(Oe.isArray)(n)?e(t,n):n}));var a=Object(Oe.isPlainObject)(o)||Object(Oe.isArray)(o)?e(t,o):o;return Kt(Kt({},r),{},Zt({},t(i),a))}),{})},Jt=function(e){return Xt(Oe.snakeCase,e)},$t=function(e,t){var n,r=e[t]||{},o={};for(var i in r)o[i]=(n=r[i],Xt(Oe.camelCase,n));return o},Qt="/collaboration/dataview",en=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o="".concat(Qt,"?current_collaborator_identifier=").concat(t||n);if(r){var i=zt(),a=i.userId;return"".concat(Qt,"?current_collaborator_identifier=").concat(a,"&show_pdf_viewer=true")}return e.forEach((function(e){o+="&filerr_ids[]=".concat(e)})),o},tn=function(e){return new Promise((function(t){return setTimeout((function(){return t()}),e)}))},nn=function e(t,n,r){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Promise.resolve().then((function(){return en(t,n,r,o)})).then((function(e){return _t(e)})).then((function(e){if(401===e.status)throw Ct("Collaborator was removed and cannot see dataview","DATAVIEW_APIS_FETCH_COLLABORATOR_REMOVED",{filerrIds:t,userId:n,collaboratorId:r});if(403===e.status)throw Ct("Files not found","DATAVIEW_APIS_FETCH_FILES_NOT_FOUND",{filerrIds:t,userId:n,collaboratorId:r});if(404===e.status)throw Ct("DataView not found","DATAVIEW_APIS_FETCH_NOT_FOUND",{filerrIds:t,userId:n,collaboratorId:r});if(!e.ok)throw Ct("Cannot fetch dataview, unexpected error, status: ".concat(e.status),"DATAVIEW_APIS_FETCH_BAD_SERVER_STATUS",{filerrIds:t,userId:n,collaboratorId:r});return e.json()})).then((function(e){return{comments:$t(e,"comments"),collaborators:$t(e,"collaborators"),groups:$t(e,"groups"),files:$t(e,"files"),filerrs:$t(e,"filerrs"),shareableLinks:$t(e,"shareable_links"),showPdfViewer:e.show_pdf_viewer}})).then((function(e){if(e.groups&&Object.keys(e.groups).length>2)throw Ct("DataView contains more than 2 groups","DATAVIEW_APIS_FETCH_INVALID_GROUPS_COUNT",{filerrIds:t,userId:n,collaboratorId:r});return e})).catch((function(e){throw e.code||(e.code="DATAVIEW_APIS_FETCH_UNEXPECTED",e.details={payload:{filerrIds:t,userId:n,collaboratorId:r}}),e})).catch((function(o){if("DATAVIEW_APIS_FETCH_FILES_NOT_FOUND"===o.code)return tn(200).then((function(){return e(t,n,r)}));throw o}))},rn=function(e){return e.current.fileId},on=function(e){return e.current.filerrId},an=function(e){return e.current.userId},cn=function(e){return e.current.groupId},un=function(e){return e.current.collaboratorId},sn=function(e){return e.current.commentId},ln=function(e){return e.current.timecode||0},fn=function(e){return e.current.reviewId};function pn(e){var t=e.eventName,n=e.eventData,r=void 0===n?{}:n;try{MixpanelWrapper.trackEvent(t,r)}catch(e){}}var dn="Clicked collaboration warning modal";function hn(){return(hn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var mn=function(){return!("undefined"==typeof window||!("ontouchstart"in window||window.DocumentTouch&&"undefined"!=typeof document&&document instanceof window.DocumentTouch))||!("undefined"==typeof navigator||!navigator.maxTouchPoints&&!navigator.msMaxTouchPoints)},vn=new Se,yn="image",bn="video",gn="audio",On="text",wn="pdf",Cn="archive";function En(e,t,n){xc({group:"attachements",type:"clicked_file_download"}),pn({eventName:"Clicked download file",eventData:{"Source Component":t,"File Type":n,"Attachment Type":"Order Message","Is Source File":!1}});var r=document.createElement("a");document.body.appendChild(r),r.download="",r.href=e,r.click(),r.parentNode&&r.parentNode.removeChild(r)}function Sn(e){var t=Math.floor(e/60);t<10&&(t="0".concat(t));var n=Math.floor(e-60*t);return n<10&&(n="0".concat(n)),"".concat(t,":").concat(n)}var _n=Object(Oe.curry)((function(e,t,n){return function(r){return u.a.createElement(e.Consumer,null,(function(e){return u.a.createElement(n,hn({},r,t(e)))}))}})),kn=function(e){var t=e.condition,n=e.children;return t?u.a.createElement("div",null,n):null};kn.propTypes={condition:p.a.bool,children:p.a.any};var Tn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.groups||{}},Pn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(Tn(e))},jn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Tn(e)[cn(e)]},Rn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=jn(e)||{},n=t.type;return n},Nn=function(e){return function(t){return Rn(t)===e}},In=Nn("collaborators"),xn=Nn("seller"),An=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(Tn(e))},Ln=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return An(e).length},Dn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return Object.values(Tn(e)).find((function(e){return e.type===t}))},Mn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=Dn(e,t)||{},r=n.id;return r},Bn=function(e,t){return Tn(e)[t]},Fn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=Bn(e,t)||{},r=n.fileIds;return r||[]},Vn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return 1===Pn(e).length},Un=function(e){return e.loading},Hn=function(e){return Un(e).createComments||!1},Wn=function(e){return Un(e).dataview||!1},Gn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.files||{}},qn=function(e,t){return Gn(e)[t]||{}},zn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return qn(e,rn(e))},Yn=function(e,t){return(qn(e,t)||{}).filerrId},Kn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return zn(e).status},Zn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return Object.values(Gn(e)).find((function(e){return e.filerrId===t}))||{}},Xn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return Zn(e,t).id},Jn=function(e){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(Gn(e))}(e).length},$n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"active"===Kn(e)},Qn=function(e){return e.settings||{}},er=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Qn(e),n=t.withCollaboration;return!!n},tr=function(e){return!!Qn(e).withPreRevision},nr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Qn(e),n=t.withPostRevision;return!!n},rr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Qn(e),n=t.withModalBehavior;return!!n},or=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return!rr(e)},ir=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Qn(e).source},ar=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return!!Qn(e).withUnsubscribe},cr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{var t=Qn(e),n=t.contextId;if(!n)throw Ct("ContextId is falsy: ".concat(n),"SETTINGS_SELECTORS_GET_CONTEXT_ID_FALSY");return n}catch(e){throw e.code||(e.code="SETTINGS_SELECTORS_GET_CONTEXT_ID_UNEXPECTED"),e}},ur=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{var t=Qn(e),n=t.contextType;if(!n)throw Ct("ContextType is falsy: ".concat(n),"SETTINGS_SELECTORS_GET_CONTEXT_TYPE_FALSY");return n}catch(e){throw e.code||(e.code="SETTINGS_SELECTORS_GET_CONTEXT_TYPE_UNEXPECTED"),e}},sr=function(e){return Qn(e).requiredGroupType},lr=function(e){return!!Qn(e).teamId},fr=function(e){return Qn(e).showPdfViewer},pr=function(e){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ln(e)>0}(e)&&so(e)&&!!cn(e)&&!!un(e)},dr=function(e){return!In(e)&&tr(e)},hr=function(e){return!In(e)&&function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Qn(e),n=t.withRevision;return!!n}(e)},mr=function(e){return!In(e)&&nr(e)};function vr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vr(Object(n),!0).forEach((function(t){br(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function br(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var gr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.comments||{}},Or=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return gr(e)[t]||{}},wr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=Or(e,t),r=n.pending;return!!r},Cr=function(e){return Object.keys(gr(e))},Er=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(gr(e)).filter((function(t){return wr(e,t)}))},Sr=function(e){return Er(e).length},_r=function(e,t){var n=gr(e);return Object.values(n).filter((function(e){return e.groupId===t})).sort((function(e,t){return e.createdAt-t.createdAt}))},kr=function(e,t,n){var r=gr(e);return Object.values(r).filter((function(e){return e.fileId===n&&e.groupId===t})).sort((function(e,t){return e.createdAt-t.createdAt}))},Tr=function(e){var t=rn(e),n=cn(e);return kr(e,n,t)},Pr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=gr(e);return!!n[t].parentId},jr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.reduce((function(t,n){var r=Br(e,n),o=Yn(e,r),i=t[o]||0;return t[o]=i+1,t}),{})},Rr=function(e){return Tr(e).filter((function(t){return!Pr(e,t.id)}))},Nr=function(e,t){return function(e){var t=gr(e);return Object.values(t).filter((function(t){return Pr(e,t.id)})).sort((function(e,t){return e.createdAt-t.createdAt}))}(e).filter((function(e){return e.parentId===t}))},Ir=function(e,t){return Nr(e,t).map((function(e){return e.id}))},xr=function(e,t){return function(e,t){var n=cn(e);return kr(e,n,t).filter((function(t){return!Pr(e,t.id)}))}(e,t).map((function(e){return e.id}))},Ar=function(e,t){return!!function(e,t){return Nr(e,t).length}(e,t)},Lr=function(e){return function(e,t){var n=gr(e);return Object.values(n).filter((function(e){return e.groupId===t})).sort((function(e,t){return e.createdAt-t.createdAt})).map((function(e){return e.id}))}(e,cn(e))},Dr=function(e){return Rr(e).filter((function(e){return void 0!==e.timecode&&null!==e.timecode}))},Mr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.values(gr(e)).filter((function(t){return wr(e,t.id)}))},Br=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=Or(e,t),r=n.fileId;return r},Fr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return!!Sr(e)&&!Hn(e)},Vr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=sn(e);return void 0!==r&&(r===t||r===n)},Ur=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=Or(e,t),r=n.annotations;if(!r)return[];var o=sn(e)===t;return r.map((function(e){return yr(yr({},e),{},{commentId:t,isCurrent:o})}))},Hr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Tr(e).reduce((function(t,n){var r=n.id;return t.concat(Ur(e,r))}),[])},Wr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.tempAnnotations,n=void 0===t?[]:t;return n.map((function(e){return yr(yr({},e),{},{isCurrent:!0})}))},Gr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return!nr(e)||("seller"!==Rn(e)||!!Kr(e,t).length)},qr=function(e,t){return function(e,t){var n=gr(e),r=fn(e);return Object.values(n).filter((function(n){return n.reviewId===r&&!Pr(e,n.id)&&n.fileId===t})).sort((function(e,t){return e.createdAt-t.createdAt}))}(e,t).map((function(e){return e.id}))},zr=function(e,t){return function(e,t){var n=gr(e),r=fn(e);return Object.values(n).filter((function(n){return n.reviewId!==r&&!Pr(e,n.id)&&n.fileId===t})).sort((function(e,t){return e.createdAt-t.createdAt}))}(e,t).map((function(e){return e.id}))},Yr=function(e,t,n){return function(e,t,n){var r=gr(e),o=fn(e);return Object.values(r).filter((function(r){return r.reviewId!==o&&!Pr(e,r.id)&&r.fileId===t&&r.groupId===n})).sort((function(e,t){return e.createdAt-t.createdAt}))}(e,t,n).map((function(e){return e.id}))},Kr=function(e,t){var n=cn(e);return Yr(e,t,n)},Zr=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return mr(e)?n?qr(e,t):zr(e,t):xr(e,t)},Xr=function(e){var t=function(e){var t=gr(e),n=fn(e);return Object.values(t).filter((function(e){return e.reviewId===n})).sort((function(e,t){return e.createdAt-t.createdAt}))}(e);if(t.length)return t[0].createdAt},Jr=function(e,t){return function(e){var t=cn(e);return _r(e,t)}(e).filter((function(e){return $r(e)===t}))},$r=function(e){return e.collaboratorId},Qr=function(e){var t=cn(e);return _r(e,t).filter((function(e){return!e.pending}))},eo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.collaborators||{}},to=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(eo(e))},no=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=eo(e);return n[t]||{}},ro=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return no(e,un(e))},oo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(t){var n=un(e),r=an(e);if(n&&!r)return n;var o=eo(e),i=Object.values(o).find((function(e){return e.userId===r&&e.groupId===t})),a=i.id;return a}},io=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=Mn(e,t);return oo(e,n)},ao=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(eo(e))},co=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=Object.values(eo(e));return n.filter((function(e){return e.groupId===t}))},uo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=Mn(e,t);return co(e,n)},so=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ao(e).length>0},lo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=no(e,t),r=n.id;return!!r},fo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=Eo(e,t);return!!n},po=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=lo(e,t),r=!fo(e,t);return n&&r},ho=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=cn(e);return co(e,t)},mo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=no(e,t),r=n.removed;return!!r},vo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=uo(e,t);return n.filter((function(t){return!mo(e,t.id)}))},yo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Rn(e);return vo(e,t)},bo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=yo(e);return t.filter((function(t){return go(e,t)}))};function go(e,t){return"anonymous"!==jo(t)||Oo(e,t)}var Oo=function(e,t){return Jr(e,t.id).length>0},wo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=io(e,t),r=uo(e,t);return r.filter((function(e){return e.id!==n}))},Co=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=io(e,t),r=uo(e,t);return r.filter((function(t){return t.id!==n&&!mo(e,t.id)}))},Eo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=no(e,t),r=n.username;return r},So=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=no(e,t),r=n.userId;return r},_o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=no(e,t),r=n.email;return r},ko=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Eo(e,un(e))},To=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,o=r.withoutRemoved,i=void 0!==o&&o,a=r.withoutCurrent,c=void 0!==a&&a,u=r.withoutAnonymous,s=void 0!==u&&u;return i&&c?e=Co(t,n):i&&!c?e=vo(t,n):!i&&c?e=wo(t,n):i||c||(e=uo(t,n)),s&&(e=Po(e)),e.map((function(e){return e.id}))};function Po(e){return e.filter((function(e){return!function(e){return"anonymous"===jo(e)}(e)}))}var jo=function(e){return e.type},Ro=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=no(e,t),r=n.permissions;return r||{}},No=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=un(e);return Ro(e,t)},Io=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return!!No(e).invite},xo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=no(e,t);return n.fullName},Ao=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=un(e);return xo(e,t)},Lo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=no(e,t);return n.emailNotificationEnabled},Do=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=un(e);return Lo(e,t)},Mo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return!an(e)},Bo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=wo(e,t);return n.map((function(t){return Eo(e,t.id)}))},Fo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Bo(e,"seller")[0]},Vo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=wo(e,t);return n.map((function(t){return So(e,t.id)}))},Uo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Vo(e,"seller")[0]},Ho=function(e){return{type:"SET_CURRENT_COLLABORATOR_ID",payload:e}},Wo=function(e){return{type:"SET_CURRENT_FILE_ID",payload:e}},Go=function(e){return{type:"SET_CURRENT_FILERR_ID",payload:e}},qo=function(e){return{type:"SET_CURRENT_GROUP_ID",payload:e}},zo=function(e){return{type:"SET_CURRENT_COMMENT_ID",payload:e}},Yo=function(e){return{type:"SET_CURRENT_TIMECODE",payload:e}},Ko=function(e){return function(t,n){t(qo(e)),t(Ho(oo(n(),e))),t(zo(void 0)),t(Yo(void 0))}},Zo=n("zr5I"),Xo=n.n(Zo),Jo=function(e){return"[object Object]"==e};function $o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.deep,o=void 0===r||r,i=n.recursionLevel;if("function"!=typeof t)throw new Error("You must provide a transformation function as the second argument");var a=Array.isArray(e),c=a?[]:{},u=o?1/0:1;for(var s in i=void 0!==i?i:u,e){var l=e[s],f=Jo(l),p=Array.isArray(l),d=i>0&&!a,h=d?t(s):s,m=f||p?$o(l,t,{deep:o,recursionLevel:i-1}):l;c[h]=m}return c}var Qo={toSnakeCase:function(e){return $o(e,Oe.snakeCase)},toCamelCase:function(e){return $o(e,Oe.camelCase)}},ei={},ti={},ni=function(e){return function(t,n){var r={},o={execute:function(n){return e(t,n)},preProcess:function(e){return oi(e,ei)},postProcess:function(e){return ii(e,ti)}};return r.before=function(e){return o.preProcess=function(t){return oi(t,e)},r},r.after=function(e){return o.postProcess=function(t){return ii(t,e)},r},r.run=function(e){return ci(o)(e,n)},r}},ri=function(e){return"function"==typeof e},oi=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transformPayload;return n&&ri(n)?n(e):e},ii=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=ai(e),r=t.transformBody;if(r&&ri(r)&&(n=r(n)),t.statusCode&&t.statusCode!==e.status)throw new Error("invalid status code. expected: ".concat(t.statusCode," and received ").concat(e.status));return n},ai=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.data},ci=function(e){return function(t,n){return new Promise((function(r,o){try{Promise.resolve().then((function(){return e.preProcess(n)})).then(e.execute).then(e.postProcess).then(t).then((function(e){return r(e)}),(function(e){return o(e)})).catch((function(e){o(e)}))}catch(e){o(e)}}))}},ui={get:ni(Xo.a.get),post:ni(Xo.a.post),put:ni(Xo.a.put),delete:ni(Xo.a.delete),transform:Qo},si=Qo,li=ui,fi=function(e,t){var n={userId:e,organizationId:t};if(!e||!t)throw Ct("Invalid payload","TEAM_FETCH_INVALID_PAYLOAD",n);return li.get(function(e){var t=e.userId,n=e.organizationId;return"/collaboration/members/workspaces/".concat(n,"?user_id=").concat(t)}(n)).after({transformBody:si.toCamelCase,statusCode:200}).run()};function pi(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}var di=function(e){var t=e.userId,n=e.teamId;return function(){var e,r=(e=regeneratorRuntime.mark((function e(r){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fi(t,n);case 2:o=e.sent,r(hi(o));case 4:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){pi(i,r,o,a,c,"next",e)}function c(e){pi(i,r,o,a,c,"throw",e)}a(void 0)}))});return function(e){return r.apply(this,arguments)}}()},hi=function(e){return{type:"SET_TEAM",payload:e}},mi=function(e){return{type:"SET_CREATE_COMMENTS_LOADING",payload:e}},vi=function(e){return{type:"SET_DATAVIEW_LOADING",payload:e}};function yi(e){var t=si.toCamelCase(e);return Object.values($t(t,"groups"))[0]}var bi=1024,gi=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"];function Oi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===e)return"0 Bytes";var n=t<=0?0:t,r=Math.floor(Math.log(e)/Math.log(bi));return"".concat(parseFloat((e/Math.pow(bi,r)).toFixed(n))," ").concat(gi[r])}var wi={browserLanguage:"",countryCode:"",currency:"",experienceLocale:"en-US",formattingLocale:"en-GB",shouldFormat:!1},Ci=function(){var e=we.a.get(window,"initialData.LocalizationContext");return e||wi},Ei=function(e){return function(){for(var t=Ci(),n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e.apply(void 0,[t].concat(r))}};function Si(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ki=function(e,t){for(var n={},r=0,o=Object.entries(e);r<o.length;r++){var i=Si(o[r],2),a=i[0],c=i[1];c.defaultValue&&(n[c.mapTo||a]=c.defaultValue)}for(var u=0,s=Object.entries(t);u<s.length;u++){var l=Si(s[u],2),f=l[0],p=l[1];if(e[f]){var d=e[f].mapTo||f;n[d]=p;var h=e[f].validator;h&&!h(p)&&(n[d]=e[f].validatorFallbackValue)}}return n},Ti={INTEGER:"integer",DECIMAL:"decimal",FRACTION:"fraction",MINUS_SIGN:"minusSign",LITERAL:"literal",PERCENTAGE:"percentage",CURRENCY:"currency"},Pi={CODE:"code",SYMBOL:"symbol"},ji={MXN:"MX",AUD:"A",CAD:"CA"},Ri=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=1,o=n||e.formattingLocale,i=r.toLocaleString(o,{style:"currency",currency:t}),a={currencyDisplay:"symbol"},c=Ni({formattedString:i,currencyCode:t,parsedOptions:a});return c.replace(/[0-9]|\.|,/g,"").trim()},Ni=function(e){var t=e.formattedString,n=e.currencyCode,r=e.parsedOptions;return ji[n]&&"symbol"===r.currencyDisplay&&-1===t.indexOf(ji[n])?t.replace("$","".concat(ji[n]).concat("$")):t};function Ii(e){return function(e){if(Array.isArray(e))return xi(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return xi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xi(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ai=function(e){return/\d/.test(e)},Li=function(e){return/\s/.test(e)},Di=function(e){return"%"===e},Mi=function(e){return/||-||\(|\)/.test(e)},Bi=function(e){return{type:Ti.LITERAL,value:e}},Fi=function(e){return{type:Ti.PERCENTAGE,value:e}},Vi=function(e){return{type:Ti.MINUS_SIGN,value:e}},Ui=function(e){return{type:Ti.CURRENCY,value:e}},Hi=function(e){return{type:Ti.FRACTION,value:e}},Wi=function(e){return[].concat(Ii(Gi(e)),Ii(qi(e)))},Gi=function(e){for(var t,n=e.localizationContext,r=e.parsedOptions,o=e.formattingLocale,i=e.currencyCode,a=e.formattedString,c=e.formattedNumber,u=[],s=0;s<a.length;){var l=a.charAt(s);if(Ai(l)){var f=Math.abs(parseInt(c,10));u.push((t=new Intl.NumberFormat(o,{minimumFractionDigits:0,maximumFractionDigits:0}).format(f),{type:Ti.INTEGER,value:t}));break}if(Li(l))u.push(Bi(l));else if(Di(l))u.push(Fi(l));else{if(!Mi(l)){var p=r.currencyDisplay===Pi.CODE?i:Ri(n,i,o);u.push(Ui(p)),s+=p.length;continue}u.push(Vi(l))}s++}return u},qi=function(e){for(var t=e.localizationContext,n=e.formattingLocale,r=e.currencyCode,o=e.formattedString,i=e.parsedOptions,a=[],c=1.1.toLocaleString(n).substring(1,2),u=-1!==o.indexOf(c),s=o.length-1;s>=0;){var l=o.charAt(s);if(Ai(l)){if(u){for(var f=l,p=s-1,d=o.charAt(p);Ai(d);)f="".concat(d).concat(f),p--,d=o.charAt(p);a.unshift(Hi(f)),a.unshift({type:Ti.DECIMAL,value:c})}break}if(Li(l))a.unshift(Bi(l));else if(Di(l))a.unshift(Fi(l));else{if(!Mi(l)){var h=i.currencyDisplay===Pi.CODE?r:Ri(t,r,n);a.unshift(Ui(h)),s-=h.length;continue}a.unshift(Vi(l))}s--}return a},zi={DECIMAL:"decimal",PERCENT:"percent"},Yi={style:{validator:function(e){return Object.values(zi).includes(e)},validatorFallbackValue:zi.DECIMAL,defaultValue:zi.DECIMAL},minimumFractionDigits:{},maximumFractionDigits:{}};function Ki(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}delete function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ki(Object(n),!0).forEach((function(t){Zi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ki(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Ti).CURRENCY;var Xi=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{if(!e||0===Object.keys(e).length)return n.fallbackValue;var r=n.forceFormat,o=n.asNumber,i=n.asParts,a=n.formattingLocale||e.formattingLocale;if(!0===r||void 0===r&&e.shouldFormat){var c=Ji(n),u=new Intl.NumberFormat(a,c).format(t);if(o||i){var s=parseFloat(u.replace(/,/g,"."));return o?s:Wi({localizationContext:e,formattingLocale:a,formattedString:u,formattedNumber:s})}return u}return n.fallbackValue||t}catch(e){return Dt.error(e,{value:t,options:n,formatter:"numberFormat"}),n.fallbackValue||t}},Ji=function(e){var t=ki(Yi,e);return e.noFractionDigits&&(t.minimumFractionDigits=0,t.maximumFractionDigits=0),(e.asNumber||e.asParts)&&(t.useGrouping=!1),t},$i=function(e){return e.substr(0,2)},Qi={"de-DE":"Deutsch","en-US":"English",es:"Espaol","fr-FR":"Franais","it-IT":"Italiano","nl-NL":"Nederlands","pt-BR":"Portugus"},ea=Object.keys(Qi),ta=($i("en-US"),{});Object.keys(Qi).forEach((function(e){var t=e.toUpperCase().replace(/-/g,"_");ta[t]=e}));var na={"en-US":"English (United States)","en-GB":"English (United Kingdom)","en-AU":"English (Australia)","en-CA":"English (Canada)","de-DE":"Deutsch (Deutschland)","de-AT":"Deutsch (sterreich)","es-ES":"Espaol (Espaa)","es-MX":"Espaol (Mxico)","fr-FR":"Franais (France)","fr-CA":"Franais (Canada)","it-IT":"Italiano (Italia)","nl-NL":"Nederlands (Nederland)","pt-BR":"Portugus (Brasil)","pt-PT":"Portugus (Portugal)"},ra=(Object.keys(na),$i("en-GB"),{});Object.keys(na).forEach((function(e){var t=e.toUpperCase().replace(/-/g,"_");ra[t]=e}));var oa=function(e){return ea.find((function(t){return $i(t)===$i(e)}))},ia={maximumFractionDigits:{defaultValue:2}},aa=[function(e){return"".concat(e," byte")},function(e){return"".concat(e," kB")},function(e){return"".concat(e," MB")},function(e){return"".concat(e," GB")},function(e){return"".concat(e," TB")},function(e){return"".concat(e," PB")},function(e){return"".concat(e," EB")},function(e){return"".concat(e," ZB")},function(e){return"".concat(e," YB")}],ca=function(e){return ki(ia,e)},ua=Ei((function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{if(!e||0===Object.keys(e).length)return n.fallbackValue;var r=n.forceFormat,o=n.formattingLocale||e.formattingLocale;if(!0===r||void 0===r&&e.shouldFormat){var i=ca(n),a=Math.max(0,Math.floor(Math.log(t)/Math.log(1024))),c=Xi(e,t/Math.pow(1024,a),{formattingLocale:o,maximumFractionDigits:i.maximumFractionDigits,noFractionDigits:i.noFractionDigits});return"undefined"==typeof i18n?aa[a](c):i18n.t("fileSizes.abbrv[".concat(a,"]"),{fileSize:c,$scope:oa(o)})}return n.fallbackValue||t}catch(e){return Dt.error(e,{bytes:t,options:n,formatter:"fileSizeFormat"}),n.fallbackValue||t}})),sa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.filerrs||{}},la=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(sa(e))},fa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return sa(e)[t]||{}},pa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return fa(e,on(e))||{}},da=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=fa(e,t),r=n||{},o=r.previewUrls,i=o||{},a=i.thumbnail,c=i.thumb,u=i.thumbLarge;return a||c||u},ha=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=fa(e,t),r=n||{},o=r.previewType;return o},ma=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=on(e);return ha(e,t)},va=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=fa(e,t),r=n||{},o=r.downloadUrl;return o},ya=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=on(e);return va(e,t)},ba=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=fa(e,t),r=n||{},o=r.fileName;return o},ga=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=fa(e,t),r=n||{},o=r.fileSize;return o},Oa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=ga(e,t);return isNaN(n)?"":ua(n,{fallbackValue:Oi(n)})},wa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return 0===la(e).length},Ca=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return la(e).length>1},Ea=function(e){return Promise.resolve().then((function(){if(!e)throw Ct("Payload is falsy: ".concat(e),"COLLABORATORS_APIS_CREATE_COLLABORATORS_FALSY_PAYLOAD",e)})).then((function(){if(!e.collaborators)throw Ct("Collaborators is falsy: ".concat(e.collaborators),"COLLABORATORS_APIS_CREATE_COLLABORATORS_FALSY_COLLABORATORS",e)})).then((function(){var t=JSON.stringify(Jt(e));return _t("/collaboration/collaborators/multi",{method:"POST",body:t})})).then((function(t){if(201!==t.status)throw Ct("Http status received: ".concat(t.status," expected: 201"),"COLLABORATORS_APIS_CREATE_COLLABORATORS_BAD_SERVER_STATUS",e);return t.json()})).then((function(e){return Object.values($t(e,"collaborators"))})).catch((function(t){throw t.code||(t.code="COLLABORATORS_APIS_CREATE_COLLABORATORS_UNEXPECTED",t.details={payload:JSON.stringify(e)}),t}))},Sa=function(e){return Promise.resolve().then((function(){if(!e)throw Ct("Payload is falsy: ".concat(e),"COLLABORATORS_APIS_UPDATE_FALSY_PAYLOAD",e)})).then((function(){if(!e.id)throw Ct("Id is falsy: ".concat(e.id),"COLLABORATORS_APIS_UPDATE_FALSY_ID",e)})).then((function(){var t="/collaboration/collaborators/".concat(e.id),n=JSON.stringify(Jt(e));return _t(t,{method:"PUT",body:n})})).then((function(t){if(202!==t.status)throw Ct("Http status received: ".concat(t.status," expected: 202"),"COLLABORATORS_APIS_UPDATE_BAD_SERVER_STATUS",e)})).catch((function(t){throw t.code||(t.code="COLLABORATORS_APIS_UPDATE_UNEXPECTED",t.details={payload:JSON.stringify(e)}),t}))},_a=function(e){return Promise.resolve().then((function(){if(!e)throw Ct("Payload is falsy: ".concat(e),"COLLABORATORS_APIS_REMOVE_FALSY_PAYLOAD",e)})).then((function(){if(!e.id)throw Ct("Id is falsy: ".concat(e.id),"COLLABORATORS_APIS_REMOVE_FALSY_ID",e)})).then((function(){var t=JSON.stringify(Jt(e)),n="/collaboration/collaborators/".concat(e.id);return _t(n,{method:"DELETE",body:t})})).then((function(t){if(202!==t.status)throw Ct("Http status received: ".concat(t.status," expected: 202"),"COLLABORATORS_APIS_REMOVE_BAD_SERVER_STATUS",e)})).catch((function(t){throw t.code||(t.code="COLLABORATORS_APIS_REMOVE_UNEXPECTED",t.details={payload:JSON.stringify(e)}),t}))},ka=function(e){return Promise.resolve().then((function(){if(!e)throw Ct("Payload is falsy: ".concat(e),"COLLABORATORS_APIS_INVITE_COLLABORATORS_FALSY_PAYLOAD",e)})).then((function(){var t=JSON.stringify(Jt(e));return _t("/collaboration/invitations",{method:"POST",body:t})})).then((function(t){if(201!==t.status)throw Ct("Http status received: ".concat(t.status," expected: 201"),"COLLABORATORS_APIS_INVITE_COLLABORATORS_BAD_SERVER_STATUS",e)})).catch((function(t){throw t.code||(t.code="COLLABORATORS_APIS_INVITE_COLLABORATORS_UNEXPECTED",t.details={payload:JSON.stringify(e)}),t}))};function Ta(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ta(Object(n),!0).forEach((function(t){ja(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ta(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ja(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ra=function(e){return function(t,n){return Promise.resolve().then((function(){return{contextType:ur(n()),contextId:cr(n()),collaborators:e}})).then(Ea).then((function(e){return e.map((function(e){return t({type:"ADD_COLLABORATOR",payload:e}),e}))})).catch((function(e){throw e.code||(e.code="COLLABORATORS_ACTIONS_CREATE_COLLABORATORS_UNEXPECTED"),e}))}},Na=function(e){return function(t,n){return Promise.resolve().then((function(){return Pa({contextType:ur(n()),contextId:cr(n())},e)})).then(Sa).then((function(){return t(function(e){return{type:"EDIT_COLLABORATOR",payload:e}}(e))})).catch((function(e){throw e.code||(e.code="COLLABORATORS_ACTIONS_UPDATE_COLLABORATOR_UNEXPECTED"),e}))}},Ia=function e(t){return function(n,r){return Promise.resolve().then((function(){return Mn(r(),"collaborators")})).then((function(o){if(o){var i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return Object.values(eo(e)).filter((function(e){return e.groupId===t})).filter((function(e){return n.includes(e.email)})).map((function(e){return e.id}))}(r(),o,t.emails);if(i.length===t.emails.length)return n(function(e){return function(t,n){return Promise.resolve().then((function(){return Pa({contextType:ur(n()),contextId:cr(n())},e)})).then(ka).catch((function(e){throw e.code||(e.code="COLLABORATORS_ACTIONS_INVITE_COLLABORATORS_UNEXPECTED"),e}))}}({inviterCollaboratorId:io(r(),"collaborators"),inviterFullName:t.inviterFullName,personalMessage:t.personalMessage,invitedCollaboratorIds:i})).then((function(){n(qo(o)),n(Ho(io(r(),"collaborators")))}));var a=t.emails.map((function(e){return{email:e,groupId:o}})).concat({groupId:o,userId:an(r()),fullName:t.inviterFullName});return n(Ra(a)).then((function(){return n(e(t))}))}return n(Aa("collaborators",t.filerrIds)).then((function(e){var t=e.id;return n(qo(t))})).then((function(){return n(e(t))}))})).catch((function(e){throw e.code||(e.code="COLLABORATORS_ACTIONS_INVITE_COLLABORATORS_TO_COLLABORATORS_GROUP_UNEXPECTED"),e}))}};function xa(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}var Aa=function(e,t){return function(n,r){return Promise.resolve().then((function(){return{type:e,filerrIds:t,contextId:cr(r()),contextType:ur(r())}})).then((function(e){return function(e){return Promise.resolve().then((function(){if(!e)throw Ct("Payload is falsy: ".concat(e),"GROUPS_APIS_CREATE_FALSY_PAYLOAD",e)})).then((function(){return li.post("/collaboration/groups",e).before({transformPayload:si.toSnakeCase}).after({statusCode:201,transformBody:yi}).run()})).catch((function(t){throw t.code||(t.code="GROUPS_APIS_CREATE_UNEXPECTED",t.details={payload:JSON.stringify(e)}),t}))}(e)})).then((function(e){return n({type:"ADD_GROUP",payload:e}),e})).catch((function(n){throw n.code||(n.code="GROUPS_ACTIONS_CREATE_CROUP_UNEXPECTED",n.details={payload:{type:e,filerrIds:t}}),n}))}},La=function(){return function(){var e,t=(e=regeneratorRuntime.mark((function e(t,n){var r,o,i,a,c,u,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=Mn(n(),"collaborators"))){e.next=3;break}return e.abrupt("return",r);case 3:return o=la(n()),e.next=6,t(Aa("collaborators",o));case 6:return i=e.sent,a=i.id,c=ro(n()),u=c.userId,s={userId:u,groupId:a,invite:!0},e.next=12,t(Ra([s]));case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){xa(i,r,o,a,c,"next",e)}function c(e){xa(i,r,o,a,c,"throw",e)}a(void 0)}))});return function(e,n){return t.apply(this,arguments)}}()},Da=function(e){return function(t,n){var r=Mn(n(),e),o=oo(n(),r),i=(new Date).getTime()/1e3;return t(Na({id:o,lastSeen:i}))}},Ma=function(e){return{type:"SET_REMOVED_COLLABORATOR_ERROR",payload:e}},Ba=function(e){return function(e){return e.errors}(e).removedCollaborator||!1},Fa=function(e){return{type:"SHOW_PDF_VIEWER",payload:e}};function Va(e){return function(e){if(Array.isArray(e))return Ua(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ua(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ua(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ua(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ha=function(e,t,n){return function(r){return r(Aa(e,t)).then((function(){return r(Wa(e,n))}))}},Wa=function(e,t){return function(n,r){var o=Mn(r(),e),i=an(r()),a=Ga(i,o),c=t.map((function(e){return Ga(e,o)}));return n(Ra([].concat(Va(c),[a])))}},Ga=function(e,t){return{userId:e,groupId:t}},qa=["#B70D00","#DC3E01","#F6CB04","#278b01","#266B76","#334DCF","#5301EB","#000000","#EB9694","#FAD0C3","#FDF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB","#CCCCCC"],za=function(){return qa[Math.floor(Math.random()*qa.length)]};function Ya(e){return function(e){if(Array.isArray(e))return Ka(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ka(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ka(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ka(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Za=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=la(e),r=jr(e,t);return n.reduce((function(t,n){var o=fa(e,n);return[].concat(Ya(t),[{filerr:o,commentsCount:r[n]||0}])}),[])},Xa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.callbacks},Ja=function(e){return Xa(e).onRevisionRejection||Oe.noop},$a=function(e){return Xa(e).onRevisionAcceptanceQuestion||Oe.noop},Qa=function(e){return Xa(e).onResolutionCenterClick||Oe.noop},ec=function(e){return Xa(e).onAcceptDeliveryBtnClick||Oe.noop},tc=new Se;function nc(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return rc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rc(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function rc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function oc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ic(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oc(Object(n),!0).forEach((function(t){ac(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ac(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var cc=function(e){return{type:"UPDATE_COMMENT",payload:e}},uc=function(e){return{type:"DELETE_COMMENT",payload:e}},sc=function(e){return e&&e.id&&tc.emit("comment:added",e.id),{type:"ADD_COMMENT",payload:e}},lc=function(e){return function(t,n){return Promise.resolve().then((function(){t(mi(!0))})).then((function(){return ic(ic({},e),{},{contextType:ur(n()),contextId:cr(n())})})).then((function(t){return Array.isArray(e.comments)&&0===e.comments.length?[]:function(e){return Promise.resolve().then((function(){if(!e)throw Ct("Payload is falsy: ".concat(e),"COMMENTS_APIS_CREATE_COMMENTS_FALSY_PAYLOAD",e)})).then((function(){e.comments.map((function(e){return e.annotations&&e.annotations.length&&e.annotations[0].target&&"#FCCB00"===e.annotations[0].target.selector.strokeColor.toUpperCase()&&(e.annotations[0].target.selector.strokeColor=za()),e}));var t=JSON.stringify(Jt(e));return _t("/collaboration/reviews",{method:"POST",body:t})})).then((function(t){if(201!==t.status)throw Ct("Http status received: ".concat(t.status," expected: 201"),"COMMENTS_APIS_CREATE_COMMENTS_BAD_SERVER_STATUS",e);return t.json()})).then((function(e){return Object.values($t(e,"comments"))})).catch((function(t){throw t.code||(t.code="COMMENTS_APIS_CREATE_COMMENTS_UNEXPECTED",t.details={payload:JSON.stringify(e)}),t}))}(t)})).then((function(r){var o,i=nc(Mr(n()));try{for(i.s();!(o=i.n()).done;){var a=o.value;t(cc(ic(ic({},a),{},{pending:!1})))}}catch(e){i.e(e)}finally{i.f()}return e.comments.forEach((function(e){var n=e.id;return t(uc(n))})),r.forEach((function(e){return t(sc(e))})),r})).then((function(t){var r=e.reviewMessage,o=t.map((function(e){return e.id})),i=t[0]?t[0].reviewId:void 0,a=Rn(n());return function(e,t,n,r,o){var i=Xa(e).onReviewCreated||Function.prototype,a=Array.isArray(t)&&t.length>0?Za(e,t):void 0;return Promise.resolve(i(a,n,r,o))}(n(),o,i,r,a).then((function(){return o}))})).then((function(r){return xc({group:"conversation",type:"message.sent",order:{id:cr(n())},conversation:{message:{sender_id:an(n()),recipient_id:Uo(n()),body:e.reviewMessage,format:"rejection"},type:"order"}}),t(mi(!1)),r})).catch((function(e){throw t(mi(!1)),e})).catch((function(t){throw t.code||(t.code="COMMENTS_ACTIONS_CREATE_COMMENTS_UNEXPECTED",t.details={payload:JSON.stringify(e)}),t}))}},fc={ACTIVE:"active",SUSPENDED:"suspended"};var pc=function(e){return e.shareableLink},dc=function(e){return pc(e).link},hc=function(e){return pc(e).isLoading};function mc(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}var vc=function(){return function(){var e,t=(e=regeneratorRuntime.mark((function e(t,n){var r,o,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=dc(n()))){e.next=5;break}o=r,e.next=9;break;case 5:return i=un(n()),e.next=8,t(gc(i));case 8:o=e.sent;case 9:return a=Mn(n(),"collaborators"),t(Ko(a)),e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){mc(i,r,o,a,c,"next",e)}function c(e){mc(i,r,o,a,c,"throw",e)}a(void 0)}))});return function(e,n){return t.apply(this,arguments)}}()},yc=function(e){return e&&Object.values(e).length?{type:"SET_SHAREABLE_LINK",link:Object.values(e)[0]}:{type:"SET_SHAREABLE_LINK",link:null}},bc=function(e){return function(t,n){var r,o=(r=n(),dc(r).status);return t({type:ct,status:e}),Promise.resolve().then((function(){return function(e){return dc(e).id}(n())})).then((function(t){return function(e,t){var n={linkId:e,status:t};return Promise.resolve().then((function(){if(!t)throw Ct("status is falsy","SHAREABLE_LINK_SET_STATUS_FALSY_STATUS",{status:t});if(t!==fc.ACTIVE&&t!==fc.SUSPENDED)throw Ct("status is invalid","SHAREABLE_LINK_SET_STATUS_INVALID_STATUS",{status:t});if(!e)throw Ct("falsy linkId","SHAREABLE_LINK_SET_STATUS_FALSY_LINK_ID")})).then((function(){var n="/collaboration/groups/links/status/".concat(e,"?status=").concat(t);return li.put(n).after({statusCode:202}).run()})).catch((function(e){throw e.code||(e.code="SHAREABLE_LINK_SET_STATUS_UNEXPECTED_ERROR",e.details={payload:JSON.stringify(n)}),e}))}(t,e)})).catch((function(e){throw t({type:ct,status:o}),e}))}},gc=function(e){return function(t){return Promise.resolve().then((function(){return t({type:ot})})).then((function(){return t(La())})).then((function(t){return function(e,t){var n={groupId:e,currentCollaboratorId:t};return Promise.resolve().then((function(){if(!e||!t)throw Ct("Payload is falsy","SHAREABLE_LINK_CREATEEABLE_FALSY_PAYLOAD",n)})).then((function(){var n="/collaboration/groups/links?group_id=".concat(e,"&current_collaborator_identifier=").concat(t);return li.post(n).after({transformBody:si.toCamelCase,statusCode:201}).run()})).then((function(e){var t=Object.values(e.shareableLinks)[0];if(!t)throw Ct("invalid response structure","SHAREABLE_LINK_CREATE_INVALID_RESPONSE_STRUCTURE",{payload:n,data:e});return t})).catch((function(e){throw e.code||(e.code="SHAREABLE_LINK_CREATE_BAD_SERVER_UNEXPECTED",e.details={payload:JSON.stringify(n)}),e}))}(t,e)})).then((function(e){return t({type:it,link:e}),e})).catch((function(e){t({type:at,error:e})}))}},Oc=function(e){return function(t){var n=e.comments,r=e.collaborators,o=e.groups,i=e.files,a=e.filerrs,c=e.shareableLinks;t({type:"SET_COMMENTS",payload:n}),t(function(e){return{type:"SET_COLLABORATORS",payload:e}}(r)),t(function(e){return{type:"SET_GROUPS",payload:e}}(o)),t(function(e){return{type:"SET_FILES",payload:e}}(i)),t(function(e){return function(t,n){return wa(n())&&t({type:"SET_FILERRS",payload:e})}}(a)),t(yc(c))}},wc=function(e){return function(t,n){var r=Mn(n(),e.groupType),o=oo(n(),r),i=Xn(n(),e.currentFilerrId);t(qo(r)),t(Ho(o)),t(Go(e.currentFilerrId)),t(Wo(i))}};function Cc(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function Ec(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Cc(i,r,o,a,c,"next",e)}function c(e){Cc(i,r,o,a,c,"throw",e)}a(void 0)}))}}var Sc=function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(r,o){return Promise.resolve().then((function(){if(!t)throw Ct("Payload is falsy: ".concat(t),"DATAVIEW_ACTIONS_GET_FALSY_PAYLOAD",t)})).then(Ec(regeneratorRuntime.mark((function e(){var i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nn(t.filerrIds,t.userId,t.collaboratorId,n);case 2:if(i=e.sent,a=i.showPdfViewer,r(Fa(a)),n){e.next=11;break}return r(Oc(i)),kc(o()),r(wc(t)),e.next=11,r(Da(t.groupType));case 11:case"end":return e.stop()}}),e)})))).catch(function(){var n=Ec(regeneratorRuntime.mark((function n(i){var a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:n.t0=i.code,n.next="DATAVIEW_APIS_FETCH_NOT_FOUND"===n.t0?3:"DATAVIEW_APIS_FETCH_COLLABORATOR_REMOVED"===n.t0?5:6;break;case 3:return a=_c(o()),n.abrupt("return",r(Ha(a,t.filerrIds,t.recipientIds)).then((function(){return r(e(t))})));case 5:return n.abrupt("return",r(Ma(!0)));case 6:throw i;case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()).catch((function(e){throw e.code||(e.code="DATAVIEW_ACTIONS_GET_UNEXPECTED",e.details={payload:JSON.stringify(t)}),e}))}};function _c(e){var t=sr(e);if(!t)throw Ct("Falsy requiredGroupType. Cannot initialize dataview.","DATAVIEW_ACTIONS_GET_FALSY_REQUIRED_GROUP_TYPE");return t}function kc(e){var t=sr(e);if(!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return!!Dn(e,t)}(e,t))throw Ct("required group (".concat(t,") not found"),"DATAVIEW_APIS_FETCH_NOT_FOUND")}var Tc=function(e){return function(t,n){return Promise.resolve().then((function(){if(!e)throw Ct("Payload is falsy: ".concat(e),"DATAVIEW_ACTIONS_INIT_FALSY_PAYLOAD",e)})).then((function(){t(vi(!0))})).then((function(){if(e.withCollaboration)return t(Sc(e));t(Sc(e,!0)),t(Go(e.currentFilerrId))})).then((function(){if(lr(n()))return t(di(e))})).then((function(){if(!Ba(n())){if(wa(n()))throw Ct("No filerrs in store!","DATAVIEW_ACTIONS_INIT_MISS_FILERRS",e);if(!on(n()))throw Ct("No current filerr id in store!","DATAVIEW_ACTIONS_INIT_MISS_CURRENT_FILERR_ID",e);if(e.withCollaboration){if(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return 0===Pn(e).length}(n()))throw Ct("No groups in store!","DATAVIEW_ACTIONS_INIT_MISS_GROUPS",e);if(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return 0===to(e).length}(n()))throw Ct("No collaborators in store!","DATAVIEW_ACTIONS_INIT_MISS_COLLABORATORS",e);if(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return 0===Jn(e)}(n()))throw Ct("No files in store!","DATAVIEW_ACTIONS_INIT_MISS_FILES",e);if(!cn(n()))throw Ct("No current group id in store!","DATAVIEW_ACTIONS_INIT_MISS_CURRENT_GROUP_ID",e);if(!un(n()))throw Ct("No current collaborator id in store!","DATAVIEW_ACTIONS_INIT_MISS_CURRENT_COLLABORATOR_ID",e);if(!rn(n()))throw Ct("No current file id in store!","DATAVIEW_ACTIONS_INIT_MISS_CURRENT_FILE_ID",e)}}})).then((function(){t(vi(!1))})).catch((function(e){throw t(vi(!1)),e})).catch((function(t){throw t.code||(t.code="DATAVIEW_ACTIONS_INIT_UNEXPECTED",t.details={payload:JSON.stringify(e)}),t}))}};function Pc(e){return(Pc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var jc={},Rc=[],Nc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rc;return e.reduce((function(e,t){return e[t.id]=t,e}),{})},Ic={};var xc=function(e){try{!function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:jc.getState(),o=t.eventUid,i=t.eventData,a=t.interval;if(clearInterval(Ic[o]),a(r,jc.getState())&&n>0)Ic[o]=setInterval((function(){e(t,n-.5,r)}),500);else{var c=jc.getState(),u=on(c),s=er(c),l=jn(c),f=ir(c),p={attachment:{id:u,preview:{viewer_type:s?"collaboration":"regular"}}},d={collaboration:{source:f}};!i.collaboration&&l&&(p.collaboration={group:{id:l.id,type:l.type}});var h=Object(Oe.merge)(d,p,i);ke.emit("attachments-preview:report",h)}}({interval:function(e,t){var n=er(e),r=cn(t);return!(!n||r)},eventData:e,eventUid:C()},10)}catch(e){}};function Ac(e){return(Ac="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Lc(){return(Lc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Dc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bc(e,t){return(Bc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Uc(e);if(t){var o=Uc(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Vc(this,n)}}function Vc(e,t){if(t&&("object"===Ac(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Uc(e){return(Uc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Hc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Bc(e,t)}(i,e);var t,n,r,o=Fc(i);function i(){return Dc(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"getChildContext",value:function(){return{close:this.props.close}}},{key:"render",value:function(){return this.props.children}}])&&Mc(t.prototype,n),r&&Mc(t,r),i}(u.a.Component);Hc.childContextTypes={close:p.a.func.isRequired,children:p.a.any},Hc.propTypes={close:p.a.func.isRequired,children:p.a.any};function Wc(e){return(Wc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gc(){return(Gc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function qc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yc(e,t){return(Yc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Kc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Xc(e);if(t){var o=Xc(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Zc(this,n)}}function Zc(e,t){if(t&&("object"===Wc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Xc(e){return(Xc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Jc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yc(e,t)}(i,e);var t,n,r,o=Kc(i);function i(){return qc(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"getChildContext",value:function(){return{locale:this.props.locale}}},{key:"render",value:function(){return this.props.children}}])&&zc(t.prototype,n),r&&zc(t,r),i}(u.a.Component);Jc.childContextTypes={locale:p.a.string,children:p.a.any},Jc.propTypes={locale:p.a.string,children:p.a.any};var $c=function(e){function t(t,n){var r=n.locale;return u.a.createElement(e,Gc({i18n:i18n.spawn(r||"en-US")},t))}return t.contextTypes={locale:p.a.string},t.displayName="I18nProviderHoc(".concat(e.displayName||e.name||"Component",")"),t},Qc=n("em3a"),eu=n.n(Qc),tu="audio",nu="video",ru="image",ou=p.a.shape({type:p.a.string,x_percentage:p.a.number,y_percentage:p.a.number}),iu=p.a.shape({id:p.a.string,collaboratorId:p.a.string,body:p.a.string,createdAt:p.a.number,timecode:p.a.number,annotation:ou,pending:p.a.bool,parentId:p.a.string,fileId:p.a.string,groupId:p.a.string,reviewId:p.a.string}),au=function(e,t){return{element:"#collaboration-comment-box",popover:{description:'<div class="collaboration-add-comments-intro">\n            <i class="icn-section icn-add-comment"></i>\n            <div class="content-wrapper">\n                <b>'.concat(t.t("attachments_preview.walkthrough.add_your_comments_here"),"</b><br />\n                ").concat([nu,tu].indexOf(e)>-1?"<span>".concat(t.t("attachments_preview.walkthrough.timestamp_will_be_included"),"</span>"):"","\n            </div>\n        </div>"),position:"left-center"}}},cu=function(e,t){if([nu,ru].indexOf(e)>-1)return{element:".media-overlay",popover:{className:"annotations-wrapper",description:'<div class="collaboration-new-comment-intro">\n                    <i class="icn-section icn-annotation"></i>\n                    <div class="content-wrapper">\n                        <span>'.concat(t.t("attachments_preview.walkthrough.click_directly_on_file"),"</span>\n                    </div>\n                </div>"),position:"right-center"}}},uu=function(e,t){return e&&{element:".others-comment",popover:{description:'<div class="collaboration-new-comment-intro">\n            <i class="icn-section icn-reply-to-comment"></i>\n            <div class="content-wrapper">\n                <b>'.concat(t.t("attachments_preview.walkthrough.you_have_new_comment"),"</b><br />\n                <span>").concat(t.t("attachments_preview.walkthrough.click_reply_to_respond"),"</span>\n            </div>\n        </div>"),position:"left-center"}}},su=function(e){return{element:".submit-all-btn",popover:{className:"submit-all-btn",description:'<div class="collaboration-submit-reviews-intro">\n            <i class="icn-section icn-submit-comment"></i>\n            <div class="content-wrapper">\n                '.concat(e.t("attachments_preview.walkthrough.dont_forget_to_click"),"\n                <b>").concat(e.t("attachments_preview.walkthrough.submit_all_comments"),"</b>\n                ").concat(e.t("attachments_preview.walkthrough.to_leave_your_feedback"),"\n            </div>\n        </div>"),position:"top-right"}}},lu=function(e,t){if(Object(Oe.get)(e,"invite"))return{element:".invite-btn",popover:{description:'<div class="collaboration-invite-btn-intro">\n                    <i class="icn-section icn-invite-btn"></i>\n                    <div class="content-wrapper">\n                        <header>\n                            <b>'.concat(t.t("attachments_preview.walkthrough.invite_collaborators"),'</b>\n                            <i class="icn-new-badge">').concat(t.t("attachments_preview.walkthrough.new"),"</i>\n                        </header>\n                        <span>").concat(t.t("attachments_preview.walkthrough.invite_content"),"</span>\n                    </div>\n                </div>"),position:"bottom-right"}}},fu=function(e,t){if(e>=2)return{element:".groups-tabs",popover:{className:"groups-tabs-wrapper",description:'<div class="collaboration-groups-tabs-intro">\n                    <i class="icn-section icn-groups-tabs"></i>\n                    <div class="content-wrapper">\n                        <span>'.concat(t.t("attachments_preview.walkthrough.groups_tabs"),"</span>\n                    </div>\n                </div>"),position:"bottom-right"}}};function pu(e,t,n,r,o){return[au(e,o),cu(e,o),uu(t,o),su(o),lu(n,o),fu(r,o)].filter((function(e){return e}))}function du(e){var t=e.eventName,n=e.eventData,r=void 0===n?{}:n;try{MixpanelWrapper.trackEvent(t,r)}catch(e){}}n("pXvB"),n("r76K");function hu(e){return(hu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mu(Object(n),!0).forEach((function(t){gu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yu(e){return function(e){if(Array.isArray(e))return bu(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return bu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bu(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ou(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wu(e,t){return(wu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Cu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_u(e);if(t){var o=_u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Eu(this,n)}}function Eu(e,t){if(t&&("object"===hu(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Su(e)}function Su(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _u(e){return(_u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ku=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wu(e,t)}(a,e);var t,r,o,i=Cu(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).state={rendered:null},t.showSteps=t.showSteps.bind(Su(t)),t.getStepsDotsTemplate=t.getStepsDotsTemplate.bind(Su(t)),t.startTour=t.startTour.bind(Su(t)),t.isElementVisited=t.isElementVisited.bind(Su(t)),t.clearOverlay=t.clearOverlay.bind(Su(t)),t.createOverlay=t.createOverlay.bind(Su(t)),t.getWalkthroughStorageKey=t.getWalkthroughStorageKey.bind(Su(t)),t.getOverlayClassName=t.getOverlayClassName.bind(Su(t)),t.markAllSteps=t.markAllSteps.bind(Su(t)),t.validateTourNameForMixPanelEvent=t.validateTourNameForMixPanelEvent.bind(Su(t)),t.reportToMixPanelEvent=t.reportToMixPanelEvent.bind(Su(t)),t.mapDriverStepToUserStep=t.mapDriverStepToUserStep.bind(Su(t)),t.onStepChangeStarted=t.onStepChangeStarted.bind(Su(t)),t.onStepChangeEnded=t.onStepChangeEnded.bind(Su(t)),t}return t=a,(r=[{key:"componentDidMount",value:function(){var e=this,t=zt().locale,r=this.props,o=r.dismissable,i=r.onComplete,a=r.children,c=r.steps,u=r.nextBtnText,s=r.prevBtnText,l=r.doneBtnText,f=r.noPadding,p=n("wkzA");this.validateTourNameForMixPanelEvent(),this.driver=new p({animate:!1,closeBtnText:" ",nextBtnText:u||i18n.t("walkthrough.continue",{$scope:t}),prevBtnText:s||i18n.t("walkthrough.back",{$scope:t}),doneBtnText:l||i18n.t("walkthrough.done",{$scope:t}),allowClose:!1,scrollIntoViewOptions:{block:"end"},onHighlightStarted:function(){setTimeout((function(){e.onStepChangeStarted()}))},onHighlighted:function(){setTimeout((function(){e.onStepChangeEnded()}))},onReset:function(t){i&&i(),o&&e.markAllSteps(t),e.clearOverlay()},padding:f?0:10});var d=this.startTour;if(c.length){var h=a({startTour:d});this.setState({rendered:h}),!h&&this.startTour()}}},{key:"componentDidUpdate",value:function(e){if(this.props.steps!==e.steps){if(!this.props.steps.length)return;var t=this.props.children({startTour:this.startTour});this.setState({rendered:t}),!t&&this.startTour()}}},{key:"componentWillUnmount",value:function(){this.driver=null,this.popoverItem&&this.popoverItem.parentNode&&this.popoverItem.parentNode.removeChild(this.popoverItem)}},{key:"popoverItem",get:function(){var e=this.props.className;return document.querySelector("#driver-popover-item.".concat(e))}},{key:"validateTourNameForMixPanelEvent",value:function(){var e=this.props;e.name,e.className}},{key:"startTour",value:function(){var e=this.props.steps,t=this.driver;t.isActivated?console.error("WalkThrough is already in progress.",t):this.showSteps(e)}},{key:"onStepChangeStarted",value:function(){var e=this.driver,t=this.props,n=t.className,r=t.dismissable,o=t.withAnimation,i=e.getSteps(),a=e.currentStep,c=i[a],u=Object(Oe.get)(c,"popover.options.className")||"",s=document.querySelector("#driver-popover-item");s.className=h()(n,"fiverr-walkthrough-popover","steps-".concat(i.length),{dismissable:r,"with-animation":o},u);var l=document.querySelector(".".concat(n," .").concat("driver-steps-progress-dots"));l&&l.parentNode&&l.parentNode.removeChild(l);var f=document.createElement("div");f.innerHTML=this.getStepsDotsTemplate(a,i.length),s.appendChild(f),this.refreshDriverPositionCalculations()}},{key:"onStepChangeEnded",value:function(){var e=this.driver,t=this.props.onChange,n=e.getSteps(),r=e.currentStep,o=n[r],i=localStorage.getItem(this.getWalkthroughStorageKey())||"";localStorage.setItem(this.getWalkthroughStorageKey(),"".concat(i,",").concat(o.options.element)),this.createOverlay(),t&&t({stepIndex:r,step:n[r]}),this.reportToMixPanelEvent("Viewed Walkthrough Step",o),this.refreshDriverPositionCalculations(10)}},{key:"refreshDriverPositionCalculations",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;setTimeout((function(){window.dispatchEvent(new Event("resize")),e.fixPopoverPosition(e.popoverItem)}),t)}},{key:"fixPopoverPosition",value:function(e){if(e){var t=e.getBoundingClientRect();(t.top<20||t.top+t.height+20>window.innerHeight)&&(e.scrollIntoView(!0),window.scrollBy(0,-20))}}},{key:"mapDriverStepToUserStep",value:function(e){var t=this.props.steps;return Object(Oe.find)(t,(function(t){return t.element===e.options.element}))}},{key:"reportToMixPanelEvent",value:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=this.props,i=o.name,a=o.className,c=this.mapDriverStepToUserStep(t);du({eventName:e,eventData:(n={},gu(n,"".concat(r,"Walkthrough Name"),i||a),gu(n,"".concat(r,"Step Name"),c.name||c.element),n)})}},{key:"getWalkthroughStorageKey",value:function(){var e=this.props.className;return"".concat(e,":walkthrough")}},{key:"markAllSteps",value:function(e){var t=this.props.steps;this.reportToMixPanelEvent("Dismissed Walkthrough",e,"Dismissed ");var n=t.map((function(e){return e.element})).join(",");localStorage.setItem(this.getWalkthroughStorageKey(),n)}},{key:"createOverlay",value:function(){if(!document.querySelector(".".concat(this.getOverlayClassName()," #").concat("driver-page-overlay"))){var e=document.createElement("div");e.id="driver-page-overlay",e.className=this.getOverlayClassName(),e.style="opacity: 0; position: fixed; left: 0px; top: 0px; bottom: 0px; right: 0px;",document.body.appendChild(e)}}},{key:"clearOverlay",value:function(){var e=document.querySelector(".".concat(this.getOverlayClassName()));e.parentNode&&e.parentNode.removeChild(e)}},{key:"isElementVisited",value:function(e){return(localStorage.getItem(this.getWalkthroughStorageKey())||"").indexOf(e)>-1}},{key:"getOverlayClassName",value:function(){var e=this.props.className;return"".concat(e,"-overlay")}},{key:"getStepsDotsTemplate",value:function(e,t){if(t<=1)return"";var n=yu(new Array(t)).map((function(t,n){return'<span class="dot '.concat(n===e?"active":"",'"></span>')})).join("");return'\n            <div class="'.concat("driver-steps-progress-dots",'">\n                ').concat(n,"\n            </div>\n        ")}},{key:"showSteps",value:function(e){var t=this,n=this.props,r=n.onStarted,o=n.onAlreadySeen,i=this.driver;(e=Object(Oe.filter)(e,(function(e){return e&&(e.popover.force||!t.isElementVisited(e.element))})).map((function(e){return vu(vu({},e),{},{popover:vu({title:" "},e.popover)})}))).length?(clearInterval(this.intervalChecker),clearTimeout(this.timeoutChecker),this.timeoutChecker=setTimeout((function(){}),5e3),this.intervalChecker=setInterval((function(){Object(Oe.map)(e,(function(e){return e.element})).filter((function(e){return document.querySelector(e)})).length===e.length&&(clearInterval(t.intervalChecker),clearTimeout(t.timeoutChecker),i.defineSteps(e),i.start(),r&&r())}),500)):o&&o()}},{key:"render",value:function(){return this.state.rendered}}])&&Ou(t.prototype,r),o&&Ou(t,o),a}(c.Component);ku.propTypes={children:p.a.func,name:p.a.string,onStarted:p.a.func,onComplete:p.a.func,onAlreadySeen:p.a.func,withAnimation:p.a.bool,onChange:p.a.func,noPadding:p.a.bool,className:p.a.string.isRequired,dismissable:p.a.bool.isRequired,nextBtnText:p.a.string,prevBtnText:p.a.string,doneBtnText:p.a.string,steps:p.a.arrayOf(p.a.shape({element:p.a.string.isRequired,name:p.a.string,popover:p.a.shape({description:p.a.string.isRequired,force:p.a.bool,className:p.a.string,position:p.a.oneOf(["left","left-center","left-bottom","top","top-center","top-right","right","right-center","right-bottom","bottom","bottom-center","bottom-right"])}).isRequired})).isRequired},ku.defaultProps={children:function(){return null},dismissable:!1,withAnimation:!1};var Tu=ku,Pu=(n("sL8e"),function(e){var t=e.startTour,n=e.i18n;return localStorage.getItem("collaboration-intro-modal:walkthrough")?null:(localStorage.setItem("collaboration-intro-modal:walkthrough","true"),u.a.createElement("div",null,u.a.createElement(ye,{name:"collaboration-walkthrough-intro-modal",bindBodyClickListener:!1,closeOnEscape:!1,autoOpen:!0},(function(e){var r=e.close;return u.a.createElement("div",{className:"intro-content"},u.a.createElement("div",{className:"video-intro"},u.a.createElement("iframe",{src:"https://player.vimeo.com/video/311079653?title=0&byline=0&portrait=0",frameBorder:"0",allowFullScreen:!0,width:"400",height:"167"})),u.a.createElement("div",{className:"text-body font-accent"},u.a.createElement("p",null,n.t("attachments_preview.walkthrough.welcome_to_new_tool")),u.a.createElement("p",{className:"sub-text"},n.t("attachments_preview.walkthrough.take_a_quick_tour"))),u.a.createElement("div",{className:"buttons"},u.a.createElement("button",{className:"btn-lrg-standard btn-start-tour",onClick:Object(Te.compose)(t,r)},n.t("attachments_preview.walkthrough.start"))))}))))});Pu.propTypes={startTour:p.a.func,i18n:p.a.shape({t:p.a.func})};var ju=$c(Pu);n("lBjx");function Ru(e){var t=e.steps,n=e.handleSeenWalkThrough;return u.a.createElement(Tu,{className:"collaboration-driver",dismissable:!0,onComplete:function(){return n(!0)},onAlreadySeen:function(){return n(!0)},steps:t},(function(e){var t=e.startTour;return u.a.createElement(ju,{startTour:t})}))}Ru.propTypes={steps:p.a.array.isRequired,handleSeenWalkThrough:p.a.func},Ru.defaultProps={handleSeenWalkThrough:function(){return null}};var Nu=p.a.shape({id:p.a.string,fileName:p.a.string,fileSize:p.a.number,downloadUrl:p.a.string,previewState:p.a.string,previewType:p.a.string,previewMessage:p.a.string,previewUrls:p.a.shape({original:p.a.string,large:p.a.string,collaboration:p.a.string,medium:p.a.string,small:p.a.string,thumb:p.a.string,thumbLarge:p.a.string}),videoUrls:p.a.shape({mediaUrl:p.a.string})}),Iu=n("CNSe"),xu=["username"];function Au(){return(Au=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Lu(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Du(e){var t=e.username,n=Lu(e,xu),r=t||"A";return u.a.createElement(Iu.a,Au({username:r},n))}Du.propTypes={username:p.a.string};var Mu=Du;n("K2Ro");function Bu(e){var t=e.className,n=e.onClick,r=e.i18n;return u.a.createElement("button",{className:h()(t,"nav-arrow"),onClick:function(){return n()}},u.a.createElement("i",{className:"icn-arrow"},u.a.createElement("div",{className:"tooltip"},r.t("attachments_preview.general.".concat("left"===t?"previous":"next")))))}Bu.propTypes={className:p.a.string,onClick:p.a.func.isRequired,i18n:p.a.shape({t:p.a.func})},Bu.defaultProps={className:"",onClick:function(){return null}};var Fu=$c(Bu),Vu=["mobile","tablet"].includes(Bt()().device.type),Uu={WILL_OPEN:"togglerWillOpen",DID_OPEN:"togglerDidOpen",WILL_CLOSE:"togglerWillClose",DID_CLOSE:"togglerDidClose"},Hu="shouldPreventCloseAction";function Wu(e){return(Wu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gu(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return qu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qu(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function qu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zu(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function Yu(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){zu(i,r,o,a,c,"next",e)}function c(e){zu(i,r,o,a,c,"throw",e)}a(void 0)}))}}function Ku(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zu(e,t){return(Zu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Xu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Qu(e);if(t){var o=Qu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ju(this,n)}}function Ju(e,t){if(t&&("object"===Wu(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return $u(e)}function $u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qu(e){return(Qu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function es(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ts=function(e){return"function"==typeof e},ns=function(e){if(ts(e)){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.apply(void 0,n)}},rs=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zu(e,t)}(i,e);var t,n,r,o=Xu(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),es($u(t=o.call(this,e)),"onBodyClick",(function(e){var n=t.state.isOpen,r=e.target;return n?ts(t.shouldPreventCloseAction)&&!0===t.shouldPreventCloseAction(e)||t.shouldPreventPropagationByClassName(r)||t.shouldPreventPropagationByElement(r)?null:void t.close(e):null})),es($u(t),"notPropagatingElements",new Set),es($u(t),"open",function(){var e=Yu(regeneratorRuntime.mark((function e(n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&n.persist&&n.persist(),!((r=ns(t[Uu.WILL_OPEN],n))instanceof Promise)){e.next=5;break}return e.next=5,r;case 5:t.setState({isOpen:!0},(function(){t.bindClickListener(),ns(t[Uu.DID_OPEN],n)}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),es($u(t),"close",function(){var e=Yu(regeneratorRuntime.mark((function e(n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&n.persist&&n.persist(),!((r=ns(t[Uu.WILL_CLOSE],n))instanceof Promise)){e.next=5;break}return e.next=5,r;case 5:t.setState({isOpen:!1},(function(){t.removeClickListener(),ns(t[Uu.DID_CLOSE],n)}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),es($u(t),"toggle",function(){var e=Yu(regeneratorRuntime.mark((function e(n){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.state.isOpen,o=r?t.close:t.open,e.next=4,o(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),es($u(t),"bindClickListener",(function(){!1!==t.props.bindBodyClickListener&&document.body.addEventListener("click",t.onBodyClick)})),es($u(t),"removeClickListener",(function(){return document.body.removeEventListener("click",t.onBodyClick)})),es($u(t),"shouldPreventPropagationByClassName",(function(e){return!(!e||!e.classList)&&e.classList.contains("ui-toggle-prevent-close")})),es($u(t),"shouldPreventPropagationByElement",(function(e){if(!e)return!1;if(!e.contains)return!1;if(!t.notPropagatingElements.size)return!1;if(t.notPropagatingElements.has(e))return!0;var n,r=Gu(t.notPropagatingElements);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(o.contains&&o.contains(e))return!0}}catch(e){r.e(e)}finally{r.f()}return!1})),es($u(t),"preventCloseAction",(function(e){if(e)return t.notPropagatingElements.has(e)?null:void t.notPropagatingElements.add(e)})),t.state={isOpen:e.defaultOpen||!1},[Uu.WILL_OPEN,Uu.DID_OPEN,Uu.WILL_CLOSE,Uu.DID_CLOSE,Hu].forEach((function(n){ts(t[n])?t[n]=t[n].bind($u(t)):ts(e[n])&&(t[n]=e[n].bind($u(t)))}),$u(t)),t}return t=i,(n=[{key:"componentDidMount",value:function(){this.state.isOpen&&this.bindClickListener()}},{key:"componentWillUnmount",value:function(){this.removeClickListener()}},{key:"render",value:function(){var e=this.props.children;if(!["undefined","function"].includes(Wu(e)))throw new TypeError("Toggler: `children` must be a function");var t=this.close,n=this.open,r=this.toggle,o=this.preventCloseAction,i=this.state.isOpen,a=this.toggleContent?this.toggleContent.bind(this):e;return a?a({isOpen:i,close:t,open:n,toggle:r,preventCloseAction:o}):null}}])&&Ku(t.prototype,n),r&&Ku(t,r),i}(c.Component);rs.propTypes={children:f.node,bindBodyClickListener:f.bool,defaultOpen:f.bool},rs.defaultProps={defaultOpen:!1},Object.assign(rs,{PREVENT_CLOSE_CLASS:"ui-toggle-prevent-close"});var os=rs;function is(e){return(is="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var as,cs=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e,o=Object.assign({},t,r?r.props:{},n);return u.a.isValidElement(r)?u.a.cloneElement(r,o):("function"==typeof e&&(r=e(o)),["undefined","boolean"].includes(is(r))?null:r)};function us(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ss=function(e,t){return Object.keys(ls).map((function(e){return"".concat(t,".").concat(e)})).join(", ")},ls={LEFT:"left",RIGHT:"right",TOP:"top",BOTTOM:"bottom",LEFT_TOP:"left-top",LEFT_BOTTOM:"left-bottom",RIGHT_TOP:"right-top",RIGHT_BOTTOM:"right-bottom",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"},fs=(us(as={},"left","right"),us(as,"right","left"),us(as,"top","bottom"),us(as,"bottom","top"),as),ps={CLICK:"click",HOVER:"hover",NONE:"none"},ds="Position passed is not a valid position. Valid positions include: ".concat(ss(0,"POSITIONS")),hs="Trigger passed is not a valid trigger. Valid triggers include: ".concat(ss(0,"TRIGGERS"));n("NL8O");function ms(e){return(ms="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var vs=["trigger","children"];function ys(){return(ys=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function bs(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function gs(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){bs(i,r,o,a,c,"next",e)}function c(e){bs(i,r,o,a,c,"throw",e)}a(void 0)}))}}function Os(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ws(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ws(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ws(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Cs(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Es(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ss(e,t){return(Ss=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ts(e);if(t){var o=Ts(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ks(this,n)}}function ks(e,t){if(t&&("object"===ms(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ts(e){return(Ts=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ps=function(e){return"function"==typeof e},js=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ss(e,t)}(c,e);var t,n,r,o,i,a=_s(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=a.call(this,e)).state=t.state||{},Object.assign(t.state,{overflowing:!1}),t}return t=c,(n=[{key:"popoverProps",get:function(){var e=this.open,t=this.close,n=this.toggle,r=this.preventCloseAction,o=this.state.isOpen,i=this.props,a=(i.trigger,i.children,Cs(i,vs));return Object.assign({open:e,close:t,toggle:n,preventCloseAction:r,isOpen:o},a)}},{key:"eventHandlers",get:function(){switch(this.props.trigger){case ps.CLICK:return{onClick:this.toggle};case ps.HOVER:return{onMouseEnter:this.open,onMouseLeave:this.close};case ps.NONE:return{};default:throw new Error(hs)}}},{key:"position",get:function(){var e=this.state.overflowing,t=this.props.position;if(!Object.values(ls).includes(t))throw new Error(ds);if(!this.contentBox)return t;var n=Os(t.split("-"),2),r=n[0],o=n[1];return[e?fs[r]:r,o].filter(Boolean).join("-")}},{key:"shouldShowContent",get:function(){var e=this.props.content;return this.state.isOpen&&!1===[null,void 0].includes(e)}},{key:"fixOverflow",value:function(){var e=Os(this.props.position.split("-"),1)[0],t=this.contentBox.getBoundingClientRect(),n=window,r=n.innerWidth,o=n.innerHeight,i=!1;switch(e){case ls.BOTTOM:i=t.bottom>o;break;case ls.TOP:i=t.top<0;break;case ls.RIGHT:i=t.right>r;break;case ls.LEFT:i=t.left<0}this.setState({overflowing:i})}},{key:"togglerWillOpen",value:(i=gs(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.props.willOpen,!Ps(n)){e.next=4;break}return e.next=4,n(t);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"togglerDidOpen",value:function(e){var t=this.props,n=t.onOpen,r=t.allowOverflow;this.contentBox&&!r&&this.fixOverflow(),Ps(n)&&n(e)}},{key:"togglerWillClose",value:(o=gs(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.props.willClose,!Ps(n)){e.next=4;break}return e.next=4,n(t);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"togglerDidClose",value:function(e){var t=this.props.onClose;this.setState({overflowing:!1}),Ps(t)&&t(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.content,r=t.children,o=t.trigger,i=t.className,a=t.contentClassName,c=t.boxClassName,s=t.boxContentClassName,l=t.style,f=this.state.isOpen,p=h()("fit-popover","fit-popover-".concat(this.position),{"fit-popover-clickable":o===ps.CLICK,"fit-popover-open":f},i),d=h()("fit-popover-content",a),m=h()("fit-popover-box",c),v=h()("fit-popover-box-content",s);return u.a.createElement("div",{className:p,"data-position":this.position,ref:this.preventCloseAction},u.a.createElement("span",ys({className:d,ref:function(t){return e.target=t}},this.eventHandlers),cs(r,this.popoverProps)),this.shouldShowContent&&u.a.createElement("aside",{className:m,ref:function(t){return e.contentBox=t},style:l},u.a.createElement("div",{className:v},cs(n))))}}])&&Es(t.prototype,n),r&&Es(t,r),c}(os);js.propTypes={children:f.node.isRequired,content:f.node.isRequired,position:Object(f.oneOf)(Object.values(ls)),allowOverflow:f.bool,trigger:Object(f.oneOf)(Object.values(ps)),className:f.string,contentClassName:f.string,boxClassName:f.string,boxContentClassName:f.string,style:f.object,willOpen:f.func,willClose:f.func,onOpen:f.func,onClose:f.func},js.defaultProps={position:ls.TOP,allowOverflow:!1,trigger:ps.CLICK,style:{}},Object.assign(js,{POSITIONS:ls,TRIGGERS:ps});var Rs=js,Ns=(n("0mZD"),["className","content","delay"]);function Is(){return(Is=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function xs(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var As=Rs.POSITIONS,Ls=Rs.TRIGGERS,Ds=function(e){var t=e.className,n=e.content,r=e.delay,o=xs(e,Ns),i=h()("fit-tooltip",t),a=Vu?Ls.TOUCH:Ls.HOVER;return u.a.createElement(Rs,Is({className:i,key:r.toString(),willOpen:function(e){return new Promise((function(t){if(r&&e.target){var n=e.target,o=setTimeout(t,1e3);n.addEventListener("mouseleave",(function e(){clearTimeout(o),n.removeEventListener("mouseleave",e)}),{once:!0})}else t()}))},content:n,trigger:a,position:As.TOP},o))};Ds.propTypes={delay:p.a.bool},Ds.defaultProps={delay:!1},Object.assign(Ds.propTypes,Rs.propTypes),Object.assign(Ds,{POSITIONS:As});var Ms=Ds,Bs=n("bdgK"),Fs=function(e){var t=e.children;return u.a.createElement("div",{className:"default-thumb"},t)};Fs.propTypes={children:p.a.any};var Vs=Fs,Us=function(){return u.a.createElement(Vs,null,u.a.createElement("svg",{width:"20",height:"27",viewBox:"0 0 20 27",fill:"none",xmlns:"http://www.w3.org/2000/svg"},u.a.createElement("path",{d:"M8.28125 17.5052L6.22396 15.4479C5.97917 15.2031 5.58333 15.2031 5.33854 15.4479L3.30729 17.4792L3.28125 23.3385H16.6146V15.8385L13.724 12.9479C13.4792 12.7031 13.0833 12.7031 12.8385 12.9479L8.28125 17.5052ZM13.2812 14.8646L14.9479 16.5312V21.6719H4.95312L4.96875 18.1719L5.78125 17.3594L8.28125 19.8594C9.33854 18.8021 12.3281 15.8177 13.2812 14.8646ZM6.61458 13.3385C8.45312 13.3385 9.94792 11.8438 9.94792 10.0052C9.94792 8.16667 8.45312 6.67188 6.61458 6.67188C4.77604 6.67188 3.28125 8.16667 3.28125 10.0052C3.28125 11.8438 4.77604 13.3385 6.61458 13.3385ZM6.61458 8.33854C7.53125 8.33854 8.28125 9.08854 8.28125 10.0052C8.28125 10.9219 7.53125 11.6719 6.61458 11.6719C5.69792 11.6719 4.94792 10.9219 4.94792 10.0052C4.94792 9.08854 5.69792 8.33854 6.61458 8.33854ZM19.2656 5.10417L14.8958 0.734375C14.4271 0.265625 13.7917 0 13.1302 0H2.5C1.11979 0.00520833 0 1.125 0 2.50521V24.1719C0 25.5521 1.11979 26.6719 2.5 26.6719H17.5C18.8802 26.6719 20 25.5521 20 24.1719V6.875C20 6.21354 19.7344 5.57292 19.2656 5.10417ZM13.3333 1.69792C13.4792 1.73437 13.6094 1.80729 13.7187 1.91667L18.0885 6.28646C18.1979 6.39583 18.2708 6.52604 18.3073 6.67188H13.3333V1.69792ZM18.3333 24.1719C18.3333 24.6302 17.9583 25.0052 17.5 25.0052H2.5C2.04167 25.0052 1.66667 24.6302 1.66667 24.1719V2.50521C1.66667 2.04687 2.04167 1.67187 2.5 1.67187H11.6667V7.08854C11.6667 7.78125 12.224 8.33854 12.9167 8.33854H18.3333V24.1719Z",fill:"#A2A4AA"})))},Hs=function(){return u.a.createElement(Vs,null,u.a.createElement("svg",{width:"20",height:"27",viewBox:"0 0 20 27",fill:"none",xmlns:"http://www.w3.org/2000/svg"},u.a.createElement("path",{d:"M19.2656 5.10417L14.8958 0.734375C14.4271 0.265625 13.7917 0 13.1302 0H2.5C1.11979 0.00520833 0 1.125 0 2.50521V24.1719C0 25.5521 1.11979 26.6719 2.5 26.6719H17.5C18.8802 26.6719 20 25.5521 20 24.1719V6.875C20 6.21354 19.7344 5.57292 19.2656 5.10417ZM18.0885 6.28646C18.1979 6.39583 18.2708 6.52604 18.3073 6.67188H13.3333V1.69792C13.4792 1.73437 13.6094 1.80729 13.7187 1.91667L18.0885 6.28646ZM17.5 25.0052H2.5C2.04167 25.0052 1.66667 24.6302 1.66667 24.1719V2.50521C1.66667 2.04687 2.04167 1.67187 2.5 1.67187H11.6667V7.08854C11.6667 7.78125 12.224 8.33854 12.9167 8.33854H18.3333V24.1719C18.3333 24.6302 17.9583 25.0052 17.5 25.0052ZM13.4583 21.5365C15.4635 20.1823 16.6667 17.9271 16.6667 15.5104C16.6667 14.224 16.3281 12.9635 15.6823 11.8594C15.0573 10.7865 14.1667 9.89062 13.099 9.25521C12.7292 9.03646 12.25 9.15625 12.026 9.52604C11.8073 9.89583 11.9271 10.375 12.2969 10.599C14.0208 11.625 15.0937 13.5052 15.0937 15.5104C15.0937 17.4115 14.151 19.1771 12.5781 20.2448C12.2188 20.4844 12.125 20.974 12.3698 21.3281C12.5208 21.5521 12.7656 21.6719 13.0156 21.6719C13.1771 21.6719 13.3281 21.6302 13.4583 21.5365ZM12.0729 19.5417C13.4271 18.6406 14.2344 17.1354 14.2344 15.5104C14.2344 13.7969 13.3125 12.1927 11.8281 11.3281C11.4531 11.1094 10.9792 11.2396 10.7604 11.6094C10.5417 11.9844 10.6719 12.4583 11.0417 12.6771C12.0469 13.2604 12.6719 14.3438 12.6719 15.5052C12.6719 16.6042 12.125 17.625 11.2083 18.2344C10.849 18.474 10.75 18.9583 10.9896 19.3177C11.1406 19.5469 11.3906 19.6667 11.6406 19.6667C11.7865 19.6719 11.9375 19.6302 12.0729 19.5417ZM10.6667 17.5521C11.3802 17.1094 11.8021 16.349 11.8021 15.5104C11.8021 14.625 11.3177 13.8177 10.5417 13.3958C10.1615 13.1927 9.6875 13.3333 9.48438 13.7135C9.28125 14.0938 9.42188 14.5677 9.80208 14.7708C10.0729 14.9167 10.2448 15.2031 10.2448 15.5104C10.2448 15.8021 10.0938 16.0729 9.84896 16.224C9.48438 16.4531 9.36979 16.9323 9.59896 17.3021C9.74479 17.5417 10 17.6719 10.2656 17.6719C10.3958 17.6719 10.5365 17.6354 10.6667 17.5521ZM7.1875 13.8958V17.7865L5.83333 16.776H4.89583V14.901H5.83333L7.1875 13.8958ZM8.11979 11.2552C7.96875 11.2552 7.80729 11.3125 7.68229 11.4375L5.41667 13.3385H3.95833C3.61458 13.3385 3.33333 13.6198 3.33333 13.9635V17.7135C3.33333 18.0573 3.61458 18.3385 3.95833 18.3385H5.41667L7.68229 20.2396C7.80729 20.3646 7.96354 20.4219 8.11979 20.4219C8.44271 20.4219 8.75 20.1719 8.75 19.7969V11.8802C8.75 11.5052 8.44271 11.2552 8.11979 11.2552Z",fill:"#A2A4AA"})))},Ws=function(){return u.a.createElement(Vs,null,u.a.createElement("svg",{width:"20",height:"27",viewBox:"0 0 20 27",fill:"none",xmlns:"http://www.w3.org/2000/svg"},u.a.createElement("path",{d:"M19.2656 5.10417L14.8958 0.734375C14.4271 0.265625 13.7917 0 13.1302 0H2.5C1.11979 0.00520833 0 1.125 0 2.50521V24.1719C0 25.5521 1.11979 26.6719 2.5 26.6719H17.5C18.8802 26.6719 20 25.5521 20 24.1719V6.875C20 6.21354 19.7344 5.57292 19.2656 5.10417ZM18.0885 6.28646C18.1979 6.39583 18.2708 6.52604 18.3073 6.67188H13.3333V1.69792C13.4792 1.73437 13.6094 1.80729 13.7187 1.91667L18.0885 6.28646ZM17.5 25.0052H2.5C2.04167 25.0052 1.66667 24.6302 1.66667 24.1719V2.50521C1.66667 2.04688 2.04167 1.67187 2.5 1.67187H11.6667V7.08854C11.6667 7.78125 12.224 8.33854 12.9167 8.33854H18.3333V24.1719C18.3333 24.6302 17.9583 25.0052 17.5 25.0052Z",fill:"#A2A4AA"})))},Gs=function(){return u.a.createElement(Vs,null,u.a.createElement("svg",{width:"20",height:"27",viewBox:"0 0 20 27",fill:"none",xmlns:"http://www.w3.org/2000/svg"},u.a.createElement("path",{d:"M11.6667 14.6142C11.6667 13.9068 11.0932 13.3333 10.3858 13.3333H4.61422C3.90682 13.3333 3.33333 13.9068 3.33333 14.6142V20.3858C3.33333 21.0932 3.90682 21.6667 4.61422 21.6667H10.3858C11.0932 21.6667 11.6667 21.0932 11.6667 20.3858V19.8438L13.1235 21.3006C13.2396 21.4166 13.3774 21.5087 13.529 21.5715C13.6807 21.6343 13.8432 21.6667 14.0073 21.6667H15.4167C16.107 21.6667 16.6667 21.107 16.6667 20.4167V14.5833C16.6667 13.893 16.107 13.3333 15.4167 13.3333H14.0073C13.6758 13.3334 13.3579 13.465 13.1235 13.6994L11.6667 15.1562V14.6142ZM10 20H5V15H10V20ZM14.1799 15H15V20H14.1799L11.6667 17.8555V17.1445L14.1799 15ZM19.2678 5.10109L14.8989 0.73224C14.6667 0.50009 14.3911 0.315938 14.0878 0.1903C13.7845 0.0646612 13.4594 -2.77636e-06 13.1311 0L2.5 0C1.11927 0 0 1.11927 0 2.5V24.1667C0 25.5474 1.11927 26.6667 2.5 26.6667H17.5C18.8807 26.6667 20 25.5474 20 24.1667V6.86885C20 6.20581 19.7366 5.56993 19.2678 5.10109ZM13.3333 1.69224C13.4799 1.7284 13.6137 1.80396 13.7204 1.91073L18.0893 6.27958C18.196 6.38625 18.2716 6.52009 18.3078 6.66661H13.3333V1.69224ZM18.3333 24.1667C18.3333 24.6269 17.9602 25 17.5 25H2.5C2.03979 25 1.66667 24.6269 1.66667 24.1667V2.5C1.66667 2.03974 2.03979 1.66667 2.5 1.66667H11.6667V7.08333C11.6667 7.7737 12.2263 8.33333 12.9167 8.33333H18.3333V24.1667Z",fill:"#A2A4AA"})))},qs=function(){return u.a.createElement(Vs,null,u.a.createElement("svg",{width:"20",height:"27",viewBox:"0 0 20 27",fill:"none",xmlns:"http://www.w3.org/2000/svg"},u.a.createElement("path",{d:"M19.2656 5.10417L14.8958 0.734375C14.4271 0.265625 13.7917 0 13.1302 0H2.5C1.11979 0.00520833 0 1.125 0 2.50521V24.1719C0 25.5521 1.11979 26.6719 2.5 26.6719H17.5C18.8802 26.6719 20 25.5521 20 24.1719V6.875C20 6.21354 19.7344 5.57292 19.2656 5.10417ZM18.0885 6.28646C18.1979 6.39583 18.2708 6.52604 18.3073 6.67188H13.3333V1.69792C13.4792 1.73437 13.6094 1.80729 13.7187 1.91667L18.0885 6.28646ZM17.5 25.0052H2.5C2.04167 25.0052 1.66667 24.6302 1.66667 24.1719V2.50521C1.66667 2.04687 2.04167 1.67187 2.5 1.67187H11.6667V7.08854C11.6667 7.78125 12.224 8.33854 12.9167 8.33854H18.3333V24.1719C18.3333 24.6302 17.9583 25.0052 17.5 25.0052ZM15 12.2969V12.7135C15 13.0573 14.7188 13.3385 14.375 13.3385H5.625C5.28125 13.3385 5 13.0573 5 12.7135V12.2969C5 11.9531 5.28125 11.6719 5.625 11.6719H14.375C14.7188 11.6719 15 11.9531 15 12.2969ZM15 15.6302V16.0469C15 16.3906 14.7188 16.6719 14.375 16.6719H5.625C5.28125 16.6719 5 16.3906 5 16.0469V15.6302C5 15.2865 5.28125 15.0052 5.625 15.0052H14.375C14.7188 15.0052 15 15.2865 15 15.6302ZM15 18.9635V19.3802C15 19.724 14.7188 20.0052 14.375 20.0052H5.625C5.28125 20.0052 5 19.724 5 19.3802V18.9635C5 18.6198 5.28125 18.3385 5.625 18.3385H14.375C14.7188 18.3385 15 18.6198 15 18.9635Z",fill:"#A2A4AA"})))},zs=function(){return u.a.createElement(Vs,null,u.a.createElement("svg",{width:"20",height:"28",viewBox:"0 0 20 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},u.a.createElement("path",{d:"M19.2656 5.16797L14.8958 0.743555C14.4271 0.268945 13.7917 0 13.1302 0H2.5C1.11979 0.00527344 0 1.13906 0 2.53652V24.474C0 25.8715 1.11979 27.0053 2.5 27.0053H17.5C18.8802 27.0053 20 25.8715 20 24.474V6.96094C20 6.29121 19.7344 5.64258 19.2656 5.16797ZM18.0885 6.36504C18.1979 6.47578 18.2708 6.60762 18.3073 6.75527H13.3333V1.71914C13.4792 1.75605 13.6094 1.82988 13.7187 1.94063L18.0885 6.36504ZM17.5 25.3178H2.5C2.04167 25.3178 1.66667 24.9381 1.66667 24.474V2.53652C1.66667 2.07246 2.04167 1.69277 2.5 1.69277H11.6667V7.17715C11.6667 7.87852 12.224 8.44277 12.9167 8.44277H18.3333V24.474C18.3333 24.9381 17.9583 25.3178 17.5 25.3178ZM16.3542 16.2896C15.651 15.5883 13.4896 15.8045 12.5156 15.9363C11.4115 15.2613 10.6823 14.3332 10.1667 12.9516C10.3906 12.0023 10.7917 10.4625 10.5 9.5291C10.2708 8.04727 8.43229 8.22656 8.17708 9.17051C7.91667 10.1355 8.16146 11.5119 8.61458 13.2732C7.99479 14.7709 7.06771 16.8012 6.42188 17.9455C5.33854 18.5098 3.60417 19.4906 3.35938 20.7088C3.17708 21.5947 4.55208 22.7865 6.125 21.0463C6.59896 20.5242 7.13021 19.7385 7.75521 18.6469C9.14583 18.1828 10.6771 17.6027 12.026 17.3813C13.1667 18.0141 14.5052 18.4307 15.3906 18.4307C16.8333 18.4359 16.8958 16.8381 16.3542 16.2896ZM4.41667 20.983C4.72396 20.1445 5.90625 19.1689 6.26562 18.8314C5.11458 20.693 4.41667 21.0199 4.41667 20.983ZM9.375 9.26016C9.82812 9.26016 9.78125 11.2377 9.48438 11.7703C9.21354 10.9107 9.22396 9.26016 9.375 9.26016ZM7.89583 17.6607C8.48438 16.6166 8.98958 15.3826 9.39583 14.3016C9.90104 15.235 10.5469 15.9732 11.224 16.49C9.95833 16.7379 8.85938 17.2863 7.89583 17.6607ZM15.8854 17.3496C15.8854 17.3496 15.5833 17.7188 13.6198 16.8697C15.7552 16.7115 16.1042 17.2072 15.8854 17.3496Z",fill:"#A2A4AA"})))},Ys=function(){return u.a.createElement(Vs,null,u.a.createElement("svg",{width:"20",height:"27",viewBox:"0 0 20 27",fill:"none",xmlns:"http://www.w3.org/2000/svg"},u.a.createElement("path",{d:"M19.2678 5.10109L14.8989 0.73224C14.4301 0.263398 13.7942 3.46706e-06 13.1311 0H2.5C1.11927 0 0 1.11927 0 2.5V24.1667C0 25.5474 1.11927 26.6667 2.5 26.6667H17.5C18.8807 26.6667 20 25.5474 20 24.1667V6.86885C20 6.20581 19.7366 5.56993 19.2678 5.10109ZM13.3333 1.69224C13.4799 1.72839 13.6137 1.80395 13.7204 1.91073L18.0892 6.27958C18.196 6.38626 18.2715 6.5201 18.3077 6.66661H13.3333V1.69224ZM18.3333 24.1667C18.3333 24.6269 17.9602 25 17.5 25H2.5C2.03979 25 1.66667 24.6269 1.66667 24.1667V2.5C1.66667 2.03974 2.03979 1.66667 2.5 1.66667H6.65177V3.33333H8.31844V1.66667H11.6667V7.08333C11.6667 7.7737 12.2263 8.33333 12.9167 8.33333H18.3333V24.1667ZM10 5H8.33333V3.33333H10V5ZM8.33333 5V6.66667H6.66667V5H8.33333ZM8.33333 8.33333V10H6.66667V8.33333H8.33333ZM10 8.33333H8.33333V6.66667H10V8.33333ZM9.4876 13.3333H8.33333V11.6667H6.66667V13.3333L5.6537 18.3981C5.31552 20.089 6.6088 21.6667 8.33333 21.6667C10.0578 21.6667 11.3511 20.089 11.013 18.3981L10.1005 13.8358C10.0722 13.6941 9.99562 13.5666 9.88388 13.475C9.77213 13.3834 9.6321 13.3333 9.4876 13.3333ZM8.3474 20.3163C7.41417 20.3163 6.6576 19.6858 6.6576 18.9082C6.6576 18.1305 7.41411 17.5001 8.3474 17.5001C9.28068 17.5001 10.0372 18.1305 10.0372 18.9082C10.0372 19.6858 9.28063 20.3163 8.3474 20.3163ZM10 11.6667H8.33333V10H10V11.6667Z",fill:"#A2A4AA"})))};function Ks(e){return(Ks="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xs(e,t){return(Xs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Js(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=el(e);if(t){var o=el(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $s(this,n)}}function $s(e,t){if(t&&("object"===Ks(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Qs(e)}function Qs(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function el(e){return(el=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var tl=function(e){var t=e.previewTypeToCheck;switch(void 0===t?"":t){case yn:return u.a.createElement(Us,null);case gn:return u.a.createElement(Hs,null);case bn:return u.a.createElement(Gs,null);case On:return u.a.createElement(qs,null);case wn:return u.a.createElement(zs,null);case Cn:return u.a.createElement(Ys,null);default:return u.a.createElement(Ws,null)}};tl.propTypes={previewTypeToCheck:p.a.string};var nl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xs(e,t)}(i,e);var t,n,r,o=Js(i);function i(e){var t,n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),t=o.call(this,e),n=Qs(t),a=function(){return t.setState({shouldUseDefault:!0})},(r="setShouldUseDefault")in n?Object.defineProperty(n,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[r]=a,t.state={shouldUseDefault:!e.thumbnail},t}return t=i,(n=[{key:"render",value:function(){var e=this.state.shouldUseDefault,t=this.props,n=t.previewType,r=t.thumbnail;return e?u.a.createElement(tl,{previewTypeToCheck:n}):u.a.createElement("img",{src:r,onError:this.setShouldUseDefault})}}])&&Zs(t.prototype,n),r&&Zs(t,r),i}(u.a.Component);nl.propTypes={previewType:p.a.string,thumbnail:p.a.string};var rl=nl,ol=(n("m24X"),function(e){var t=e.fileName,n=e.thumbUrl,r=e.children,o=e.previewType;return u.a.createElement("section",{className:"thumbnail-wrapper"},u.a.createElement("div",{className:"img-container"},r,u.a.createElement(rl,{previewType:o,thumbnail:n})),u.a.createElement(Ms,{content:t,delay:!0,className:"file-name"},t))});ol.propTypes={previewType:p.a.string,thumbUrl:p.a.string,fileName:p.a.string,children:p.a.any};var il=Object(ge.connect)((function(e,t){var n=t.filerrId;return{thumbUrl:da(e,n),previewType:ha(e,n),fileName:ba(e,n)}}))(ol),al=Ei(Xi),cl=function(){return u.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",width:"16",height:"16"},u.a.createElement("path",{opacity:".18",d:"M16 0 A16 16 0 0 0 16 32 A16 16 0 0 0 16 0 M16 4 A12 12 0 0 1 16 28 A12 12 0 0 1 16 4"}),u.a.createElement("path",{d:"M16 0 A16 16 0 0 1 32 16 L28 16 A12 12 0 0 0 16 4z"},u.a.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 16 16",to:"360 16 16",dur:"0.8s",repeatCount:"indefinite"})))},ul=(n("zDdf"),function(e){var t=e.onClick,n=e.className,r=e.color,o=e.children,i=e.size,a="function"==typeof t,c=a?"button":"span",s={className:h()("fit-icon",n,{"fit-icon-clickable":a}),style:function(e){var t=e.size,n=e.color;return{width:"".concat(t,"px"),height:"".concat(t,"px"),fill:n}}({size:i,color:r})};return a&&Object.assign(s,{onClick:t}),u.a.createElement(c,s,cs(o))});ul.propTypes={children:f.node.isRequired,onClick:f.func,color:f.string,size:f.number,className:f.string},ul.defaultProps={size:16};var sl,ll,fl,pl,dl=ul,hl={GREEN:"green",BLUE:"blue",LIGHT_GREY:"light-grey",GREY:"grey",BLACK:"black",PRO:"pro",RED:"red",PINK:"pink",ORANGE:"orange",WHITE:"white"},ml={GREEN:"green",DARK_GREY:"dark-grey",BLUE:"blue",ORANGE:"orange"},vl={SMALL:"small",MEDIUM:"medium",LARGE:"large"},yl={FULL:"full",GHOST:"ghost"};function bl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var gl=[hl.GREY,hl.LIGHT_GREY,hl.BLACK],Ol=(bl(sl={},hl.BLACK,hl.GREY),bl(sl,hl.LIGHT_GREY,hl.GREY),bl(sl,ml.DARK_GREY,hl.GREY),sl),wl=(bl(ll={},hl.LIGHT_GREY,800),bl(ll,hl.GREY,1e3),bl(ll,hl.BLACK,1100),ll),Cl=bl({},hl.BLACK,1200),El=(bl(fl={},hl.LIGHT_GREY,hl.GREY),bl(fl,hl.GREY,hl.GREY),bl(fl,hl.BLACK,hl.GREY),fl),Sl=(bl(pl={},hl.LIGHT_GREY,300),bl(pl,hl.GREY,800),pl);function _l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var kl=function(e){var t=e.color,n=e.disabled,r=e.isWhite,o=e.isMonochromaticButton,i=El[t]||t,a=function(e){var t=e.color,n=e.disabled,r=e.isMonochromaticButton;return n?r?200:300:Sl[t]||700}({color:t,disabled:n,isMonochromaticButton:o});return r?hl.WHITE:n||t!==hl.BLACK?"".concat(i,"-").concat(a):hl.BLACK},Tl=function(e){var t,n=e.color,r=e.fill,o=e.size,i=e.disabled,a=e.loading,c=e.textColor,u=e.className,s=r===yl.GHOST,l=n===hl.WHITE,f=gl.includes(n);return{main:h()("fit-button","fit-button-color-".concat(n),"fit-button-fill-".concat(r),"fit-button-size-".concat(o),"co-".concat(function(e){var t=e.color,n=e.textColor,r=e.disabled,o=e.isGhost,i=e.isWhite,a=e.isMonochromaticButton,c=Ol[t]||t,u=Ol[n]||n,s=wl[t]||700;return r?"".concat(c,"-").concat(function(e){var t=e.isGhost,n=e.isMonochromaticButton;return t?n?500:300:n?600:100}({isMonochromaticButton:a,isGhost:o})):i&&!o?"".concat(u,"-").concat(n===ml.DARK_GREY?1e3:700):!i&&o?"".concat(c,"-").concat(s):t===hl.LIGHT_GREY?"".concat(hl.GREY,"-1100"):hl.WHITE}({color:n,textColor:c,disabled:i,isGhost:s,isWhite:l,isMonochromaticButton:f})),u,(_l(t={"fit-button-loading":a,"fit-button-disabled":i},"fit-button-text-color-".concat(c),l),_l(t,"bg-co-".concat(kl({color:n,disabled:i,isWhite:l,isMonochromaticButton:f})),!s),t)),icon:h()("fit-button-loading-icon","co-".concat(function(e){var t=e.color,n=e.isGhost,r=Ol[t]||t,o=Cl[t]||700;return t===hl.LIGHT_GREY?"".concat(hl.GREY,"-1000"):n?"".concat(r,"-").concat(o):hl.WHITE}({color:n,isGhost:s})))}},Pl=(n("4SjE"),["children","href","disabled","color","textColor","fill","className","size","innerRef","loading"]);function jl(){return(jl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Rl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rl(Object(n),!0).forEach((function(t){Il(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Il(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xl(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Al=function(e){var t=e.children,n=e.href,r=e.disabled,o=e.color,i=e.textColor,a=e.fill,c=e.className,s=e.size,l=e.innerRef,f=e.loading,p=xl(e,Pl),d=n?"a":"button",h=Tl({color:o,fill:a,size:s,className:c,disabled:r,loading:f,textColor:i}),m=Nl(Nl({},p),{},{ref:l,href:n});return u.a.createElement(d,jl({className:h.main,disabled:r},m),cs(t),f&&u.a.createElement(dl,{className:h.icon},cl))};Al.propTypes={children:p.a.node.isRequired,href:p.a.string,disabled:p.a.bool,color:p.a.oneOf(Object.values(hl)),textColor:p.a.oneOf(Object.values(ml)),fill:p.a.oneOf(Object.values(yl)),size:p.a.oneOf(Object.values(vl)),innerRef:p.a.func,loading:p.a.bool,className:p.a.string},Al.defaultProps={disabled:!1,color:hl.GREEN,textColor:ml.GREEN,fill:yl.FULL,size:vl.MEDIUM,loading:!1},Object.assign(Al,{COLORS:hl,TEXT_COLORS:ml,FILLS:yl,SIZES:vl});var Ll=Al,Dl=Object(f.oneOfType)([Object(f.arrayOf)(f.node),f.node,f.func]),Ml=(n("k5eb"),function(e){var t=e.children,n=e.preventCloseAction,r=e.isOpen,o=e.className;if(!r)return null;var i=h()("modal-popup",o);return u.a.createElement("div",{className:i,ref:n},t)});Ml.propTypes={children:Dl.isRequired,isOpen:p.a.bool,preventCloseAction:p.a.func,className:p.a.string},Ml.defaultProps={isOpen:!1,preventCloseAction:function(){return null},className:""};var Bl=Ml,Fl=(n("42q0"),function(e){var t=e.onClick;return u.a.createElement("button",{className:"modal-popup-close",onClick:t},u.a.createElement("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none"},u.a.createElement("path",{d:"M8.48514 7.00022L12.9723 2.51308L13.8976 1.58774C14.0341 1.45123 14.0341 1.22941 13.8976 1.09291L12.9075 0.102816C12.771 -0.0336885 12.5492 -0.0336885 12.4127 0.102816L7.00022 5.5153L1.58774 0.102378C1.45123 -0.0341261 1.22941 -0.0341261 1.09291 0.102378L0.102378 1.09247C-0.0341261 1.22898 -0.0341261 1.4508 0.102378 1.5873L5.5153 7.00022L0.102378 12.4127C-0.0341261 12.5492 -0.0341261 12.771 0.102378 12.9075L1.09247 13.8976C1.22898 14.0341 1.4508 14.0341 1.5873 13.8976L7.00022 8.48514L11.4874 12.9723L12.4127 13.8976C12.5492 14.0341 12.771 14.0341 12.9075 13.8976L13.8976 12.9075C14.0341 12.771 14.0341 12.5492 13.8976 12.4127L8.48514 7.00022Z"})))});Fl.propTypes={onClick:p.a.func.isRequired};var Vl=Fl;n("kM9Z");function Ul(e){var t=e.children,n=e.hasCloseBtn,r=e.onClick,o=n&&"function"==typeof r;return u.a.createElement("header",{className:"modal-popup-header"},u.a.createElement("h2",null,t),o&&u.a.createElement(Vl,{onClick:r}))}Ul.propTypes={children:Dl.isRequired,hasCloseBtn:p.a.bool,onClick:p.a.func},Ul.defaultProps={hasCloseBtn:!0};var Hl=Ul,Wl=(n("BNVo"),function(e){var t=e.children;return u.a.createElement("section",{className:"modal-popup-body"},t)});Wl.propTypes={children:Dl.isRequired};var Gl=Wl,ql=(n("BWB6"),function(e){var t=e.children,n=e.buttonText,r=e.onClick,o=e.isButtonDisabled,i=h()("modal-popup-footer","font-accent",{"with-text":t});return u.a.createElement("footer",{className:i},t&&u.a.createElement("div",null,t),u.a.createElement(Ll,{onClick:r,disabled:o},n))});ql.propTypes={children:Dl,buttonText:p.a.string,onClick:p.a.func,isButtonDisabled:p.a.bool},ql.defaultProps={isButtonDisabled:!1};var zl=ql;function Yl(e){return"function"==typeof e}n("8gNx");function Kl(e){return(Kl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zl(){return(Zl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Xl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jl(e,t){return(Jl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=tf(e);if(t){var o=tf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ql(this,n)}}function Ql(e,t){if(t&&("object"===Kl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ef(e)}function ef(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tf(e){return(tf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var nf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jl(e,t)}(i,e);var t,n,r,o=$l(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).footerOnClick=t.footerOnClick.bind(ef(t)),t.headerOnClick=t.headerOnClick.bind(ef(t)),t}return t=i,(n=[{key:"footerOnClick",value:function(){var e=this;Yl(this.close)&&this.close(),setTimeout((function(){return e.props.onClickFooterButton&&e.props.onClickFooterButton()}),200)}},{key:"headerOnClick",value:function(){var e=this;Yl(this.close)&&this.close(),setTimeout((function(){return e.props.onClickCloseButton&&e.props.onClickCloseButton()}),200)}},{key:"__view",value:function(e){var t=this.props,n=t.header,r=t.footer,o=t.children,i=t.hasCloseBtn,a=t.buttonText,c=t.isButtonDisabled,s=t.className,l=h()("modal-popup-wrapper",s);return u.a.createElement(Bl,Zl({},e,{className:l}),n&&u.a.createElement(Hl,{hasCloseBtn:i,onClick:this.headerOnClick},cs(n,e)),o&&u.a.createElement(Gl,null,cs(o,e)),u.a.createElement(zl,{buttonText:a,onClick:this.footerOnClick,isButtonDisabled:c},cs(r,e)))}}])&&Xl(t.prototype,n),r&&Xl(t,r),i}(be);nf.propTypes={header:p.a.any,footer:p.a.any,children:p.a.any,hasCloseBtn:p.a.bool,buttonText:p.a.string,onClickFooterButton:p.a.func,onClickCloseButton:p.a.func,isButtonDisabeld:p.a.bool},nf.defaultProps={closeOnEscape:!1,bindBodyClickListener:!1};var rf=nf,of=function(e){var t=e.current,n=e.max,r=e.className,o=n?"".concat(t," / ").concat(n):t,i=h()("fit-counter",r);return u.a.createElement("span",{className:i},o)};of.propTypes={current:p.a.number.isRequired,max:p.a.number,className:p.a.string};var af=of;n("QF1z");function cf(e){return(cf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var uf=["children","value","disabled","maxLength","showCounter"];function sf(){return(sf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function lf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ff(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pf(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function df(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hf(e,t){return(hf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function mf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=bf(e);if(t){var o=bf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return vf(this,n)}}function vf(e,t){if(t&&("object"===cf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return yf(e)}function yf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bf(e){return(bf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var gf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hf(e,t)}(i,e);var t,n,r,o=mf(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={content:null,focused:!1,element:null},t.handleChange=t.handleChange.bind(yf(t)),t.onFocus=t.onFocus.bind(yf(t)),t.onBlur=t.onBlur.bind(yf(t)),t}return t=i,(n=[{key:"classes",get:function(){var e=this.props,t=e.className,n=e.disabled,r=e.showCounter,o=this.state.focused;return h()("fit-textarea",t,{"fit-textarea-disabled":n,"fit-textarea-focused":o,"fit-textarea-has-counter":r})}},{key:"controlled",get:function(){return this.props.hasOwnProperty("value")}},{key:"handleChange",value:function(e){var t=this.props.onChange;this.controlled||this.setState({content:e.target.value}),t&&t(e)}},{key:"onFocus",value:function(e){var t=this.props.onFocus;this.setState({focused:!0}),t&&t(e)}},{key:"onBlur",value:function(e){var t=this.props.onBlur;this.setState({focused:!1}),t&&t(e)}},{key:"truncateContent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.props.maxLength;return void 0===t?e:e.substring(0,t)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.value,r=e.disabled,o=e.maxLength,i=e.showCounter,a=pf(e,uf),c=this.truncateContent(this.state.content||t||n||""),s=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lf(Object(n),!0).forEach((function(t){ff(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({disabled:r,maxLength:o},a);return delete s.className,this.controlled?s.value=n:s.defaultValue=s.defaultValue||c,u.a.createElement("div",{className:this.classes},u.a.createElement("textarea",sf({},s,{onChange:this.handleChange,onFocus:this.onFocus,onBlur:this.onBlur})),i&&u.a.createElement(af,{className:"fit-textarea-counter",current:c.length,max:o}))}}])&&df(t.prototype,n),r&&df(t,r),i}(u.a.PureComponent);gf.propTypes={children:p.a.oneOfType([p.a.string,p.a.number]),value:p.a.oneOfType([p.a.string,p.a.number]),onChange:p.a.func,onFocus:p.a.func,onBlur:p.a.func,className:p.a.string,disabled:p.a.bool,maxLength:p.a.number,showCounter:p.a.bool},gf.defaultProps={children:null,disabled:!1};var Of=gf;n("AgLS");function wf(e){var t=e.onChange,n=e.content,r=e.i18n;return u.a.createElement("div",{className:"personal-message-wrapper"},u.a.createElement(Of,{className:"personal-message",onChange:t,maxLength:250,showCounter:!0,placeholder:r.t("attachments_preview.invite.let_them_know")},n))}wf.propTypes={onChange:p.a.func,content:p.a.string,i18n:p.a.shape({t:p.a.func})};var Cf=$c(wf),Ef=function(){return u.a.createElement("svg",{width:"8",height:"16",viewBox:"0 0 8 16",xmlns:"http://www.w3.org/2000/svg"},u.a.createElement("path",{d:"M0.772126 1.19065L0.153407 1.80934C0.00696973 1.95578 0.00696973 2.19322 0.153407 2.33969L5.80025 8L0.153407 13.6603C0.00696973 13.8067 0.00696973 14.0442 0.153407 14.1907L0.772126 14.8094C0.918563 14.9558 1.156 14.9558 1.30247 14.8094L7.84666 8.26519C7.99309 8.11875 7.99309 7.88131 7.84666 7.73484L1.30247 1.19065C1.156 1.04419 0.918563 1.04419 0.772126 1.19065Z"}))};n("VyMU");function Sf(e){return(Sf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kf(e,t){return(kf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Tf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Rf(e);if(t){var o=Rf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Pf(this,n)}}function Pf(e,t){if(t&&("object"===Sf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return jf(e)}function jf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rf(e){return(Rf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Nf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kf(e,t)}(i,e);var t,n,r,o=Tf(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),t=o.call(this,e);var n=e.defaultExpanded||e.expanded;return t.state={expanded:n,fullyExpanded:n,dirty:!1},t.element=null,t.expandInterval=null,t.controlled=void 0!==e.expanded,t.expand=t.expand.bind(jf(t)),t.minimize=t.minimize.bind(jf(t)),t.toggle=t.toggle.bind(jf(t)),t.handleExpandedChange=t.handleExpandedChange.bind(jf(t)),t}return t=i,(n=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.expanded,n=this.state.expanded;void 0!==t&&t!==n&&this.handleExpandedChange(!t)}},{key:"increment",get:function(){return Math.ceil(this.element.scrollHeight/12)}},{key:"contentProps",get:function(){var e=this,t=this.state,n=t.dirty,r=t.fullyExpanded,o={className:"fit-collapsible-content",ref:function(t){return e.element=t}};return n||r||(o.style={height:0}),o}},{key:"handleExpandedChange",value:function(e){e?this.minimize():this.expand()}},{key:"setDirty",value:function(){this.setState({dirty:!0})}},{key:"expand",value:function(){var e=this,t=this.element;clearInterval(this.expandInterval),this.expandInterval=setInterval((function(){var n=t.offsetHeight;if(n>=t.scrollHeight)clearInterval(e.expandInterval),t.style.height=null,e.setState({fullyExpanded:!0}),e.setDirty();else{var r=Math.min(t.scrollHeight,n+e.increment);requestAnimationFrame((function(){t.style.height="".concat(r,"px")}))}}),1),this.setState({expanded:!0}),this.props.onExpand()}},{key:"minimize",value:function(){var e=this,t=this.element;clearInterval(this.expandInterval),this.expandInterval=setInterval((function(){var n=t.offsetHeight;if(n<=0)clearInterval(e.expandInterval),e.setState({expanded:!1});else{var r=Math.max(0,n-e.increment);requestAnimationFrame((function(){t.style.height="".concat(r,"px")}))}}),1),this.setState({fullyExpanded:!1}),this.props.onMinimize(),this.setDirty()}},{key:"toggle",value:function(){var e=this.props,t=e.disabled,n=e.onToggle,r=this.state.expanded;t||(n(!r),this.controlled||this.handleExpandedChange(r))}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.title,r=e.className,o=e.disabled,i=this.state,a=i.expanded,c=i.fullyExpanded,s=h()("fit-collapsible",r,{"fit-collapsible-expanded":a,"fit-collapsible-fully-expanded":c}),l=h()("fit-collapsible-title",{"fit-collapsible-title-string":"string"==typeof n});return u.a.createElement("article",{className:s,disabled:o},u.a.createElement("div",{className:"fit-collapsible-title-wrapper",onClick:this.toggle},u.a.createElement("div",{className:l},cs(n)),u.a.createElement("div",{className:"fit-collapsible-chevron-wrapper"},u.a.createElement(dl,{className:"fit-collapsible-chevron",size:14},Ef))),u.a.createElement("div",this.contentProps,cs(t)))}}])&&_f(t.prototype,n),r&&_f(t,r),i}(u.a.Component);Nf.propTypes={children:p.a.node.isRequired,title:p.a.node.isRequired,className:p.a.string,disabled:p.a.bool,defaultExpanded:p.a.bool,expanded:p.a.bool,onToggle:p.a.func,onExpand:p.a.func,onMinimize:p.a.func},Nf.defaultProps={disabled:!1,onToggle:function(){return null},onExpand:function(){return null},onMinimize:function(){return null}};var If=Nf,xf=p.a.shape({userId:p.a.number,collaboratorId:p.a.string,username:p.a.string,userImage:p.a.string,lastViewedAt:p.a.string,permissions:p.a.object,online:p.a.bool});n("5o66");function Af(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.message,n=e.timeout,r=void 0===n?1e4:n,o=e.container_class,i=void 0===o?"":o,a=e.icn_class,c=void 0===a?"":a;eu.a.raise({content:function(){return u.a.createElement("p",{className:i},u.a.createElement("i",{className:c}),t)},namespace:"collaboration-wrapper",timeout:r})}function Lf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";Af({message:e,timeout:5e3,container_class:"negative",icn_class:"fa fa-ban"})}function Df(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";Af({message:e,timeout:5e3,container_class:"positive",icn_class:"fa fa-check"})}var Mf=function(e){var t=e.handleNoOnDeletePopup,n=e.handleYesOnDeletePopup,r=e.i18n;return u.a.createElement("div",{className:"delete-popup-wrapper"},u.a.createElement("div",{className:"to-delete font-accent"},u.a.createElement("div",{className:"text"},u.a.createElement("h3",null,r.t("attachments_preview.delete_popup.title"))),u.a.createElement("div",{className:"buttons-container"},u.a.createElement(Ll,{fill:"ghost",color:"grey",className:"no-button",onClick:t},r.t("attachments_preview.delete_popup.cancel_button")),u.a.createElement(Ll,{onClick:n},r.t("attachments_preview.delete_popup.delete_button")))))};Mf.propTypes={handleYesOnDeletePopup:p.a.func,handleNoOnDeletePopup:p.a.func,i18n:p.a.shape({t:p.a.func})},Mf.defaultProps={handleYesOnDeletePopup:function(){return null},handleNoOnDeletePopup:function(){return null}};var Bf=$c(Mf);n("Uek0");function Ff(e){return(Ff="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Uf(e,t){return(Uf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Hf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=qf(e);if(t){var o=qf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wf(this,n)}}function Wf(e,t){if(t&&("object"===Ff(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Gf(e)}function Gf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qf(e){return(qf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var zf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Uf(e,t)}(i,e);var t,n,r,o=Hf(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={deleting:!1,shouldShowPopUp:!1},t.delete=t.delete.bind(Gf(t)),t.handleDelete=t.handleDelete.bind(Gf(t)),t.handleResend=t.handleResend.bind(Gf(t)),t.handleYesOnDeletePopup=t.handleYesOnDeletePopup.bind(Gf(t)),t.handleNoOnDeletePopup=t.handleNoOnDeletePopup.bind(Gf(t)),t}return t=i,(n=[{key:"delete",value:function(){this.setState({shouldShowPopUp:!0})}},{key:"handleDelete",value:function(){var e=this.props,t=e.removeCollaborator,n=e.collaborator,r=e.i18n;this.state.deleting&&t(n.id).catch((function(e){Et(e,"CollaboratorComponents"),Lf(r.t("attachments_preview.collaboration.toasts.error"))}))}},{key:"handleResend",value:function(){var e=this.props,t=e.inviteCollaboratorsToCollaboratorsGroup,n=e.collaborator,r=e.currentCollaborator,o=e.i18n;t({inviterFullName:r.fullName,emails:[n.email]}).then((function(){Df(o.t("attachments_preview.collaboration.toasts.invite_collaborators",{count:1}))})).catch((function(e){Et(e,"CollaboratorComponents"),Lf(o.t("attachments_preview.collaboration.toasts.error"))})),pn({eventName:"Clicked resend collaboration invitation"})}},{key:"handleNoOnDeletePopup",value:function(){this.setState({shouldShowPopUp:!1})}},{key:"handleYesOnDeletePopup",value:function(){pn({eventName:"Clicked remove collaborator"}),this.setState({deleting:!0,shouldShowPopUp:!1})}},{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.collaborator,r=n.lastSeen,o=n.email,i=n.userImage,a=n.username,c=n.removed,s=this.state,l=s.deleting,f=s.shouldShowPopUp;if(c)return null;var p=h()("collaborator-wrapper font-accent",{"delete-animation":l});if(!r)return u.a.createElement("li",{className:p,onAnimationEnd:this.handleDelete},u.a.createElement("div",{className:"collaborator-not-seen"},u.a.createElement("p",null,o),u.a.createElement("div",{className:"send-info"},u.a.createElement("span",null,t.t("attachments_preview.collaborators.invite_send")),u.a.createElement("span",{className:"separator"}),u.a.createElement("button",{onClick:this.handleResend},t.t("attachments_preview.collaborators.resend_invite")))),u.a.createElement("button",{className:"delete",onClick:this.delete},""),f&&u.a.createElement(Bf,{handleYesOnDeletePopup:this.handleYesOnDeletePopup,handleNoOnDeletePopup:this.handleNoOnDeletePopup}));var d=a||o,m=function(e){return new Intl.DateTimeFormat("en",{month:"short",day:"numeric",year:"numeric"}).format(e)}(1e3*r);return u.a.createElement("li",{className:p,onAnimationEnd:this.handleDelete},u.a.createElement("div",{className:"collaborator-seen"},u.a.createElement(Mu,{src:i,username:d,size:36,className:"collaborator-avatar"}),u.a.createElement("div",{className:"collaborator-info"},u.a.createElement("h4",null,d),u.a.createElement("div",{className:"send-info"},m&&u.a.createElement("span",null,t.t("attachments_preview.collaborators.last_seen_on"),m),u.a.createElement("span",{className:"separator"}),u.a.createElement("button",{onClick:this.handleResend},t.t("attachments_preview.collaborators.resend_invite"))))),u.a.createElement("button",{className:"delete",onClick:this.delete},""),f&&u.a.createElement(Bf,{handleYesOnDeletePopup:this.handleYesOnDeletePopup,handleNoOnDeletePopup:this.handleNoOnDeletePopup}))}}])&&Vf(t.prototype,n),r&&Vf(t,r),i}(c.Component);zf.propTypes={collaborator:xf.isRequired,currentCollaborator:xf.isRequired,inviteCollaboratorsToCollaboratorsGroup:p.a.func,removeCollaborator:p.a.func,i18n:p.a.shape({t:p.a.func})},zf.defaultProps={inviteCollaboratorsToCollaboratorsGroup:function(){return null},removeCollaborator:function(){return null}};var Yf=Object(Te.compose)($c,Object(ge.connect)((function(e,t){return{groupId:Mn(e,"collaborators"),currentCollaborator:ro(e),collaborator:no(e,t.collaboratorId)}}),{inviteCollaboratorsToCollaboratorsGroup:Ia,removeCollaborator:function(e){return function(t,n){return Promise.resolve().then((function(){return{contextType:ur(n()),contextId:cr(n()),id:e}})).then(_a).then((function(){return t(function(e){return{type:"DELETE_COLLABORATOR",payload:e}}(e))})).catch((function(e){throw e.code||(e.code="COLLABORATORS_ACTIONS_CREATE_COLLABORATORS_UNEXPECTED"),e}))}}}))(zf),Kf=(n("J5wj"),function(e){var t=e.i18n,n=e.count;return u.a.createElement("div",{className:"collaborators-list-title font-accent"},u.a.createElement("i",{className:"collaborators-list-icon"}),t.t("attachments_preview.collaborators.collaborators_title",{count:n}))});Kf.propTypes={count:p.a.number,i18n:p.a.shape({t:p.a.func})};var Zf=function(e){var t=e.collaboratorsIds,n=e.i18n,r=t.length;if(!r)return null;var o=al(r,{fallbackValue:r});return u.a.createElement("div",{className:"collaborators-list"},u.a.createElement(If,{title:u.a.createElement(Kf,{i18n:n,count:o}),className:"collaborators-list-collapsible",onExpand:function(){pn({eventName:"Opened collaborators list"})},onMinimize:function(){pn({eventName:"Closed collaborators list"})}},u.a.createElement("ul",null,t.map((function(e){return u.a.createElement(Yf,{key:e,collaboratorId:e})})))))};Zf.propTypes={collaboratorsIds:p.a.arrayOf(p.a.string),i18n:p.a.shape({t:p.a.func})};var Xf=Object(Te.compose)($c,Object(ge.connect)((function(e){return{collaboratorsIds:To(e,"collaborators",{withoutRemoved:!0,withoutCurrent:!0,withoutAnonymous:!0})}})))(Zf),Jf=function(){return u.a.createElement("svg",{width:"11",height:"7",viewBox:"0 0 11 7",xmlns:"http://www.w3.org/2000/svg"},u.a.createElement("path",{d:"M5.4636 6.38899L0.839326 1.769C0.692474 1.62109 0.692474 1.38191 0.839326 1.23399L1.45798 0.61086C1.60483 0.462945 1.84229 0.462945 1.98915 0.61086L5.72919 4.34021L9.46923 0.61086C9.61608 0.462945 9.85354 0.462945 10.0004 0.61086L10.619 1.23399C10.7659 1.38191 10.7659 1.62109 10.619 1.769L5.99477 6.38899C5.84792 6.5369 5.61046 6.5369 5.4636 6.38899Z"}))},$f=function(){return u.a.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},u.a.createElement("path",{d:"M13.6202 2.6083L5.4001 10.8284L2.37973 7.80805C2.23329 7.66161 1.99585 7.66161 1.84939 7.80805L0.96551 8.69193C0.819073 8.83836 0.819073 9.0758 0.96551 9.22227L5.13492 13.3917C5.28135 13.5381 5.51879 13.5381 5.66526 13.3917L15.0344 4.02252C15.1809 3.87608 15.1809 3.63865 15.0344 3.49218L14.1505 2.6083C14.0041 2.46186 13.7667 2.46186 13.6202 2.6083Z"}))},Qf="fit-select-option-check",ep={children:Object(f.oneOfType)([f.string,f.number]).isRequired,value:Object(f.oneOfType)([f.string,f.number]),disabled:f.bool},tp={disabled:!1};n("8KLM");function np(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?np(Object(n),!0).forEach((function(t){op(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):np(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function op(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ip=function(e){var t=e.children,n=e.value,r=e.disabled,o=e.hidden;return u.a.createElement("option",{className:"fit-select-option",value:n,hidden:o,disabled:r},t)};ip.propTypes=rp({},ep),ip.defaultProps=rp({},tp);var ap=function(e){var t=e.children,n=e.index,r=e.onChange,o=e.value,i=e.selected,a=e.disabled,c=e.key,s=Vu?"option":"button";return u.a.createElement(s,{onClick:function(e){return r(e,n)},className:"fit-select-option",value:o,key:c,disabled:a},!Vu&&u.a.createElement("span",{className:Qf},i&&u.a.createElement(dl,{size:11},$f)),t)};ap.propTypes=rp(rp({},ep),{},{index:p.a.number.isRequired,onChange:p.a.func,selected:p.a.bool,key:p.a.string}),ap.defaultProps=rp(rp({},tp),{},{onChange:function(){return null},selected:!1});n("uSWb");function cp(e){return(cp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function up(){return(up=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function sp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lp(e,t){return(lp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=hp(e);if(t){var o=hp(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pp(this,n)}}function pp(e,t){if(t&&("object"===cp(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return dp(e)}function dp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hp(e){return(hp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var mp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lp(e,t)}(i,e);var t,n,r,o=fp(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).popover=null,t.observer=null,t.controlled=void 0!==e.value,t.options=[],t.populateOptions(),t.state={selected:t.initialValue,minWidth:0},t.onChange=t.onChange.bind(dp(t)),t.setMinimumWidth=t.setMinimumWidth.bind(dp(t)),t.handleObserver=t.handleObserver.bind(dp(t)),t}return t=i,(n=[{key:"componentDidMount",value:function(){var e="complete"===document.readyState;"MutationObserver"in window&&(this.observer=new window.MutationObserver(this.handleObserver)),e?this.setMinimumWidth():window.addEventListener("load",this.setMinimumWidth)}},{key:"componentWillUnmount",value:function(){this.observer&&this.observer.disconnect(),window.removeEventListener("load",this.setMinimumWidth)}},{key:"initialValue",get:function(){var e=this.props,t=e.defaultValue,n=e.value;if(!this.controlled&&void 0===t)return this.options[0];var r=this.controlled?n:t;return this.getOptionByValue(r)}},{key:"wrapperClasses",get:function(){var e=this.props.disabled;return h()("fit-select-wrapper",{"fit-select-wrapper-disabled":e})}},{key:"classes",get:function(){var e=this.props,t=e.disabled,n=e.className;return h()("fit-select",n,{"fit-select-disabled":t})}},{key:"selected",get:function(){if(!this.state)return{};var e=this.props.value,t=this.state.selected;return this.controlled?this.getOptionByValue(e):t}},{key:"children",get:function(){var e=this.props.children;return Array.isArray(e)?we.a.flatten(e):[e]}},{key:"handleObserver",value:function(){this.observerRegistered=!0,this.state.minWidth?this.observer.disconnect():this.dummyWrapper&&this.dummyWrapper.offsetParent&&this.setMinimumWidth()}},{key:"setMinimumWidth",value:function(){if(!this.state.minWidth){var e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.body,n=0,r=document.createElement("div"),o=document.createElement("span"),i=document.createElement("span");return Object.assign(r.style,{display:"inline-block",width:"auto",visibility:"hidden"}),o.classList.add(Qf),r.classList.add("fit-select-option"),r.appendChild(o),r.appendChild(i),t.appendChild(r),e.forEach((function(e){var t=e.label;i.innerText=t,r.offsetWidth>n&&(n=r.offsetWidth)})),t.removeChild(r),n}(this.options,this.dummyWrapper);e||!this.observer||this.observerRegistered?this.setState({minWidth:e}):this.observer.observe(document.documentElement||document.body,{attributes:!0,subtree:!0})}}},{key:"getOptionByValue",value:function(e){return this.options.find((function(t){return t.value===e}))||{}}},{key:"getOptionByLabel",value:function(e){return this.options.find((function(t){return t.label===e}))||{}}},{key:"populateOptions",value:function(){this.options=this.children.map((function(e){!function e(t){if(Array.isArray(t))t.forEach(e);else if(!t.type||t.type!==ip)throw new Error("Only <Select.Option> components are valid children of <Select>")}(e);var t=e.props;return{value:t.value,label:t.children}}))}},{key:"generateMenu",value:function(){var e=this;return this.populateOptions(),this.children.map((function(t,n){var r=t.props,o={index:n,selected:e.selected.value===r.value,key:[n,r.value].join()};return r.disabled||(o.onChange=e.onChange),cs(ap,r,o)}))}},{key:"onChange",value:function(e,t){var n=this.props,r=n.disabled,o=n.onChange;if(!r){var i=this.options[t];this.controlled||this.setState({selected:i}),o(e,t,i.value),this.popover.close()}}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,r=t.disabled,o=t.defaultValue,i=t.value,a=t.name,c=t.onChange,s=t.placeholder,l=this.state.minWidth,f=s&&void 0===this.selected.value,p={children:n,disabled:r,defaultValue:o,value:i,name:a,onChange:function(t){var n=t.target,r=n.selectedIndex,o=n.value,i=s?r-1:r;e.controlled||e.setState({selected:e.options[i]}),c(t,i,o)}};return Vu?u.a.createElement("select",up({},p,{className:h()(this.classes,{"with-placeholder":f})}),s&&u.a.createElement(ip,{hidden:!0,disabled:!0,value:""},s),n):l?u.a.createElement(Rs,{className:this.wrapperClasses,contentClassName:this.classes,content:this.generateMenu(),position:Rs.POSITIONS.BOTTOM_LEFT,style:{minWidth:l+2},ref:function(t){return e.popover=t}},u.a.createElement("span",{className:h()("fit-select-value",{"with-placeholder":f}),style:{minWidth:"".concat(l,"px")}},this.selected.label||s),u.a.createElement(dl,{size:11,className:"fit-select-caret"},Jf),u.a.createElement("input",{type:"hidden",name:a,value:this.selected.value})):u.a.createElement("div",{ref:function(t){return e.dummyWrapper=t}})}}])&&sp(t.prototype,n),r&&sp(t,r),i}(u.a.PureComponent);mp.propTypes={children:p.a.arrayOf(ip).isRequired,className:p.a.string,disabled:p.a.bool,defaultValue:p.a.oneOfType([p.a.number,p.a.string]),value:p.a.oneOfType([p.a.number,p.a.string]),name:p.a.string,onChange:p.a.func,placeholder:p.a.string},mp.defaultProps={disabled:!1,placeholder:"",onChange:function(){return null}},Object.assign(mp,{Option:ip});var vp=mp,yp=n("8c1N"),bp=n.n(yp);function gp(){return u.a.createElement("svg",{width:"14",height:"15",viewBox:"0 0 14 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},u.a.createElement("path",{d:"M9.69314 4.33333C9.69314 5.88279 8.43705 7.13888 6.88759 7.13888C5.33812 7.13888 4.08203 5.88279 4.08203 4.33333C4.08203 2.78386 5.33812 1.52777 6.88759 1.52777C8.43705 1.52777 9.69314 2.78386 9.69314 4.33333Z",stroke:"white",strokeWidth:"1.5"}),u.a.createElement("path",{d:"M12.2864 14.1065C12.2896 14.1302 12.2867 14.1454 12.2833 14.1556C12.2795 14.1669 12.2725 14.1799 12.2596 14.1935C12.2335 14.2211 12.1835 14.25 12.1105 14.25H1.66601C1.59295 14.25 1.54295 14.2211 1.51684 14.1935C1.50402 14.1799 1.49694 14.1669 1.4932 14.1556C1.48979 14.1454 1.48687 14.1302 1.49005 14.1065C1.61458 13.1798 1.93711 11.7889 2.74358 10.647C3.52217 9.54453 4.77126 8.63885 6.88824 8.63885C9.00522 8.63885 10.2543 9.54453 11.0329 10.647C11.8394 11.7889 12.1619 13.1798 12.2864 14.1065Z",stroke:"white",strokeWidth:"1.5"}))}gp.propTypes={};var Op=gp;function wp(){return u.a.createElement("svg",{width:"14",height:"16",viewBox:"0 0 14 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},u.a.createElement("path",{d:"M7 12.875C7.25 12.875 7.4375 12.8125 7.625 12.625C7.78125 12.4688 7.875 12.25 7.875 12V10C7.875 9.75 7.78125 9.5625 7.625 9.375C7.4375 9.21875 7.25 9.125 7 9.125C6.75 9.125 6.53125 9.21875 6.375 9.375C6.1875 9.5625 6.125 9.75 6.125 10V12C6.125 12.25 6.1875 12.4688 6.375 12.625C6.53125 12.8125 6.75 12.875 7 12.875ZM14 7.5C14 7.09375 13.8438 6.75 13.5625 6.4375C13.25 6.15625 12.9062 6 12.5 6H11.5V4.53125C11.5 3.71875 11.2812 2.96875 10.875 2.28125C10.4688 1.59375 9.9375 1.03125 9.25 0.625C8.5625 0.21875 7.8125 0 7 0C6.1875 0 5.4375 0.21875 4.75 0.625C4.0625 1.03125 3.5 1.5625 3.09375 2.25C2.6875 2.9375 2.5 3.6875 2.5 4.5V6H1.5C1.0625 6 0.71875 6.15625 0.4375 6.4375C0.125 6.75 0 7.09375 0 7.5V14.5C0 14.9375 0.125 15.2812 0.4375 15.5625C0.71875 15.875 1.0625 16 1.5 16H12.5C12.9062 16 13.25 15.875 13.5625 15.5625C13.8438 15.2812 14 14.9375 14 14.5V7.5ZM4 6V4.5C4 3.6875 4.28125 2.96875 4.875 2.375C5.4375 1.8125 6.15625 1.5 7 1.5C7.8125 1.5 8.53125 1.8125 9.125 2.375C9.6875 2.96875 10 3.6875 10 4.5V6H4ZM12.5 7.5V14.5H1.5V7.5H12.5Z",fill:"white"}))}wp.propTypes={};var Cp=wp;n("9vja");function Ep(e){return(Ep="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Sp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _p(e,t){return(_p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function kp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Pp(e);if(t){var o=Pp(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Tp(this,n)}}function Tp(e,t){if(t&&("object"===Ep(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Pp(e){return(Pp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var jp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_p(e,t)}(i,e);var t,n,r,o=kp(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={currentStatus:fc.ACTIVE},t}return t=i,(n=[{key:"setStatus",value:function(e,t){var n=this;this.props.link?Promise.resolve().then((function(){return n.props.setLinkStatus(e)})).catch((function(){n.showChangeStatusErrorMessage(t)})):this.setState({currentStatus:e})}},{key:"getLink",value:function(e,t){var n=this;this.trackUserClickedCopyLinkEvent(),Promise.resolve().then((function(){return e()})).then((function(e){var r;r="".concat(location.origin,"/").concat(e.url),bp()(r),n.showGetLinkSuccessMessage(t)})).catch((function(){n.showGetLinkErrorMessage(t)}))}},{key:"showGetLinkSuccessMessage",value:function(e){Df(e.t("attachments_preview.shareable_link.link_copied.success"))}},{key:"showGetLinkErrorMessage",value:function(e){Lf(e.t("attachments_preview.shareable_link.link_copied.failure"))}},{key:"showChangeStatusErrorMessage",value:function(e){Lf(e.t("attachments_preview.shareable_link.status_change.failure"))}},{key:"trackUserClickedCopyLinkEvent",value:function(){xc({type:"clicked_on_copy_shareable_link",group:"user_action",action:{type:"click"}}),pn({eventName:"Copied Shareable Link in Collaboration",eventData:{"Permission Level":"Public"}})}},{key:"render",value:function(){var e=this,t=this.props,n=t.i18n,r=t.generateLink,o=t.link,i=t.isLoading,a=o&&o.status?o.status:fc.ACTIVE,c=o&&o.status?o.status:this.state.currentStatus,s=c===fc.ACTIVE,l=s?Op:Cp,f=s?n.t("attachments_preview.shareable_link.public.description"):n.t("attachments_preview.shareable_link.restricted.description");return u.a.createElement("div",{className:"shareable-link-container"},u.a.createElement("h3",{className:"font-accent"},n.t("attachments_preview.shareable_link.title")),u.a.createElement("div",{className:"content"},u.a.createElement(Np,null,u.a.createElement(l,null)),u.a.createElement("div",{className:"link-visibility"},u.a.createElement("div",{className:"visibility-title co-text-darker"},u.a.createElement(vp,{defaultValue:a,value:c,className:"visibility-select",onChange:function(t){return e.setStatus(t.target.value,n)}},u.a.createElement(ip,{value:fc.ACTIVE},n.t("attachments_preview.shareable_link.public.title")),u.a.createElement(ip,{value:fc.SUSPENDED},n.t("attachments_preview.shareable_link.restricted.title")))),u.a.createElement("div",{className:"visibility-description co-text-medium"},f)),u.a.createElement(Rp,{disabled:!s,onClick:function(){return e.getLink(r,n)},i18n:n,isLoading:i})))}}])&&Sp(t.prototype,n),r&&Sp(t,r),i}(u.a.Component);function Rp(e){var t=e.disabled,n=e.onClick,r=e.isLoading,o=e.i18n,i=["copy-link"],a=["copy-link-text"],c=!t&&!r?n:function(){return null};return t&&i.push("disabled"),r&&a.push("loading"),u.a.createElement("span",{className:i.join(" "),onClick:c},r&&u.a.createElement("div",{className:"loader"}),u.a.createElement("span",{className:a.join(" ")},o.t("attachments_preview.shareable_link.copy_link")))}function Np(e){var t=e.children;return u.a.createElement("div",{className:"avatar"},t)}Rp.propTypes={disabled:p.a.bool,onClick:p.a.func.isRequired,isLoading:p.a.bool.isRequired,i18n:p.a.object.isRequired},jp.propTypes={i18n:p.a.shape({t:p.a.func}),generateLink:p.a.func.isRequired,link:p.a.object,setLinkStatus:p.a.func.isRequired,isLoading:p.a.bool.isRequired},Np.propTypes={children:p.a.func};var Ip=Object(Te.compose)($c,Object(ge.connect)((function(e){return{isLoading:hc(e),link:dc(e)}}),r))(jp),xp=function(){return u.a.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},u.a.createElement("path",{d:"M8 0.25C3.72009 0.25 0.25 3.72134 0.25 8C0.25 12.2812 3.72009 15.75 8 15.75C12.2799 15.75 15.75 12.2812 15.75 8C15.75 3.72134 12.2799 0.25 8 0.25ZM8 3.6875C8.72487 3.6875 9.3125 4.27513 9.3125 5C9.3125 5.72487 8.72487 6.3125 8 6.3125C7.27513 6.3125 6.6875 5.72487 6.6875 5C6.6875 4.27513 7.27513 3.6875 8 3.6875ZM9.75 11.625C9.75 11.8321 9.58209 12 9.375 12H6.625C6.41791 12 6.25 11.8321 6.25 11.625V10.875C6.25 10.6679 6.41791 10.5 6.625 10.5H7V8.5H6.625C6.41791 8.5 6.25 8.33209 6.25 8.125V7.375C6.25 7.16791 6.41791 7 6.625 7H8.625C8.83209 7 9 7.16791 9 7.375V10.5H9.375C9.58209 10.5 9.75 10.6679 9.75 10.875V11.625Z"}))};function Ap(e){var t=e.i18n;return u.a.createElement("div",{className:"info-status"},u.a.createElement(dl,{className:"info-icon"},xp),t.t("attachments_preview.invite.wont_be_seen"))}Ap.propTypes={i18n:p.a.shape({t:p.a.func})};var Lp=$c(Ap),Dp=function(){return u.a.createElement("svg",{width:"20",height:"15",viewBox:"0 0 20 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"invite-icon"},u.a.createElement("path",{d:"M7 8C9.20914 8 11 6.20914 11 4C11 1.79086 9.20914 0 7 0C4.79086 0 3 1.79086 3 4C3 6.20914 4.79086 8 7 8Z",fill:"white"}),u.a.createElement("path",{d:"M7.00019 9C1.12778 9 0 12.2918 0 13.3477C0 14.4021 0.765087 15 1.47969 15H7.00019H12.5205C13.2347 15 14 14.4025 14 13.3477C14 12.2918 12.8722 9 7.00019 9Z",fill:"white"}),u.a.createElement("path",{d:"M19.3042 6.80448H17.1953V4.69576C17.1953 4.31098 16.8843 4 16.5 4C16.1155 4 15.8042 4.31098 15.8042 4.69576V6.80448H13.6955C13.3112 6.80448 13 7.11546 13 7.5C13 7.88431 13.3112 8.19576 13.6955 8.19576H15.8042V10.3042C15.8042 10.6883 16.1155 11 16.5 11C16.8843 11 17.1953 10.6883 17.1953 10.3042V8.19576H19.3042C19.6888 8.19576 20 7.88431 20 7.5C20 7.11546 19.6888 6.80448 19.3042 6.80448Z",fill:"white"}))},Mp=function(){return u.a.createElement("svg",{width:"20",height:"15",viewBox:"0 0 20 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"mobile-invite-icon"},u.a.createElement("path",{d:"M7 8C9.20914 8 11 6.20914 11 4C11 1.79086 9.20914 0 7 0C4.79086 0 3 1.79086 3 4C3 6.20914 4.79086 8 7 8Z",fill:"#4A73E8"}),u.a.createElement("path",{d:"M7.00019 9C1.12778 9 0 12.2918 0 13.3477C0 14.4021 0.765087 15 1.47969 15H7.00019H12.5205C13.2347 15 14 14.4025 14 13.3477C14 12.2918 12.8722 9 7.00019 9Z",fill:"#4A73E8"}),u.a.createElement("path",{d:"M19.3042 6.80448H17.1953V4.69576C17.1953 4.31098 16.8843 4 16.5 4C16.1155 4 15.8042 4.31098 15.8042 4.69576V6.80448H13.6955C13.3112 6.80448 13 7.11546 13 7.5C13 7.88431 13.3112 8.19576 13.6955 8.19576H15.8042V10.3042C15.8042 10.6883 16.1155 11 16.5 11C16.8843 11 17.1953 10.6883 17.1953 10.3042V8.19576H19.3042C19.6888 8.19576 20 7.88431 20 7.5C20 7.11546 19.6888 6.80448 19.3042 6.80448Z",fill:"#4A73E8"}))},Bp=function(){return u.a.createElement("div",{className:"note-container"})};n("sdW9");function Fp(e){return(Fp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vp(e){return function(e){if(Array.isArray(e))return Up(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Up(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Up(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Up(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Hp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wp(e,t){return(Wp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Gp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Yp(e);if(t){var o=Yp(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return qp(this,n)}}function qp(e,t){if(t&&("object"===Fp(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return zp(e)}function zp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yp(e){return(Yp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Kp=/^([a-zA-Z0-9.\-+_])+@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/,Zp=[32,13,188,186],Xp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wp(e,t)}(i,e);var t,n,r,o=Gp(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={inputValue:"",validEmail:!0},t.onChange=t.onChange.bind(zp(t)),t.onKeyPress=t.onKeyPress.bind(zp(t)),t.addEmail=t.addEmail.bind(zp(t)),t.deleteEmail=t.deleteEmail.bind(zp(t)),t.focusInput=t.focusInput.bind(zp(t)),t.emailValidationHandler=t.emailValidationHandler.bind(zp(t)),t.onBlur=t.onBlur.bind(zp(t)),t}return t=i,(n=[{key:"onChange",value:function(e){var t=e.target.value;this.state.validEmail?this.setState({inputValue:t}):this.setState({validEmail:!0,inputValue:t})}},{key:"onKeyPress",value:function(e){Zp.includes(e.which)&&(e.preventDefault(),this.emailValidationHandler(),this.input.focus())}},{key:"emailValidationHandler",value:function(){var e=this.state.inputValue;this.validateEmail(e)?(this.setState({inputValue:""}),this.addEmail(e),pn({eventName:"Entered email address"})):this.setState({validEmail:!1})}},{key:"addEmail",value:function(e){var t=[].concat(Vp(this.props.emails),[e]);this.props.onChange(t)}},{key:"deleteEmail",value:function(e){var t=this.props.emails.filter((function(t,n){return n!==e}));this.props.onChange(t)}},{key:"onBlur",value:function(){this.state.inputValue&&this.emailValidationHandler()}},{key:"validateEmail",value:function(e){return Kp.test(e)}},{key:"focusInput",value:function(){this.input.focus()}},{key:"render",value:function(){var e=this,t=this.state,n=t.inputValue,r=t.validEmail,o=this.props,i=o.emails,a=o.i18n,c=r?"":a.t("attachments_preview.invite.invalid_email"),s=h()("email-description","font-accent",{error:!r}),l=i.length?a.t("attachments_preview.invite.add_new_collaborators"):a.t("attachments_preview.invite.enter_new_emails");return u.a.createElement("div",{className:"email-container"},u.a.createElement("h3",{className:"font-accent"},a.t("attachments_preview.invite.add_collaborators_title")),u.a.createElement("div",{className:"email-wrapper"},u.a.createElement("div",{className:"envelope"}),u.a.createElement("div",{className:"email-tags font-accent",onClick:this.focusInput},i.map((function(t,n){return u.a.createElement("span",{key:n},t,u.a.createElement("button",{onClick:function(){return e.deleteEmail(n)}},""))})),u.a.createElement("input",{value:n,placeholder:l,onChange:this.onChange,onKeyPress:this.onKeyPress,onBlur:this.onBlur,ref:function(t){return e.input=t}}))),u.a.createElement("div",{className:s},c))}}])&&Hp(t.prototype,n),r&&Hp(t,r),i}(u.a.Component);Xp.propTypes={onChange:p.a.func,emails:p.a.array,i18n:p.a.shape({t:p.a.func})};var Jp=$c(Xp),$p=function(e){return{id:e.userId,full_name:e.name,username:e.username,email:e.email,imageUrl:e.imageUrl}},Qp=function(e){var t=function(e){return function(e){return e.team}(e).membersList}(e);return Object.values(t).map($p)},ed=Object(c.lazy)((function(){return n.e(0).then(n.bind(null,"5bIv"))})),td=function(e){return function(t){var n=t.map((function(e){return e.email}));e(n)}};function nd(e){var t=e.i18n,n=e.members,r=e.onChange,o={users:n,allowInvites:!0,perseusClassName:"order_page_perseus",onChange:td(r),placeholderText:t.t("attachments_preview.invite.enter_new_emails_or_names"),addAllEnabled:!1};return u.a.createElement(c.Suspense,{fallback:null},u.a.createElement(ed,o))}nd.propTypes={members:p.a.arrayOf(p.a.shape({id:p.a.number,full_name:p.a.string,username:p.a.string,email:p.a.string,imageUrl:p.a.string})).isRequired,onChange:p.a.func,i18n:p.a.shape({t:p.a.func})};var rd=Object(Te.compose)($c,Object(ge.connect)((function(e){return{members:Qp(e)}})))(nd),od=["isTeamCollaboration"];function id(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function ad(e){var t=e.isTeamCollaboration,n=id(e,od);return t?u.a.createElement(rd,n):u.a.createElement(Jp,n)}ad.propTypes={isTeamCollaboration:p.a.bool.isRequired};var cd=Object(ge.connect)((function(e){return{isTeamCollaboration:lr(e)}}))(ad);n("pjVn");function ud(e){return(ud="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ld(e,t){return(ld=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=hd(e);if(t){var o=hd(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pd(this,n)}}function pd(e,t){if(t&&("object"===ud(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return dd(e)}function dd(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hd(e){return(hd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var md=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ld(e,t)}(i,e);var t,n,r,o=fd(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={content:"",filerrIds:[],checkBox:!1},t.open=null,t.personalMessageChange=t.personalMessageChange.bind(dd(t)),t.SendToMeChange=t.SendToMeChange.bind(dd(t)),t.onClickFooterButton=t.onClickFooterButton.bind(dd(t)),t.onClickCloseButton=t.onClickCloseButton.bind(dd(t)),t.onShareRequest=t.onShareRequest.bind(dd(t)),t.onClickInviteButton=t.onClickInviteButton.bind(dd(t)),t.renderTrigger=t.renderTrigger.bind(dd(t)),t}return t=i,(n=[{key:"componentDidMount",value:function(){vn.on("share-request",this.onShareRequest)}},{key:"componentWillUnmount",value:function(){vn.off("share-request",this.onShareRequest)}},{key:"personalMessageChange",value:function(e){this.setState({content:e.target.value})}},{key:"SendToMeChange",value:function(e){this.setState({checkBox:e.target.checked})}},{key:"onClickFooterButton",value:function(){var e=this.state,t=e.content,n=e.checkBox,r=e.filerrIds,o=this.props,i=o.emails,a=o.username,c=o.onShareClick,u=o.groupId;i.length&&(xc({group:"collaboration",type:"clicked_on_done_collaboration_invite_window",collaboration:{total_collaborators_invite:{added:i.length,sent:i.length},group:{id:u,type:"collaborators"}}}),c({emails:i,content:t,checkBox:n,username:a,groupId:u,filerrIds:r}),this.setState({content:"",filerrIds:[]}))}},{key:"onClickCloseButton",value:function(){this.setState({content:"",filerrIds:[]}),pn({eventName:"Clicked close invite window"}),xc({group:"collaboration",type:"clicked_on_close_collaboration_invite_window",collaboration:{total_collaborators_invite:{added:this.props.emails.length,sent:0},group:{id:this.props.groupId,type:"collaborators"}}})}},{key:"onShareRequest",value:function(e){this.onClickInviteButton(null,e)}},{key:"onClickInviteButton",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Viewer Header",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.props.filerrIds;this.open&&(this.open(),this.props.deleteAllEmails(),this.setState({filerrIds:n}),pn({eventName:"Clicked invite button",eventData:{"Invite Source Component":t}}),xc({group:"collaboration",type:"clicked_on_collaboration_invite_button",collaboration:{group:{id:this.props.groupId,type:"collaborators"}}}))}},{key:"renderTrigger",value:function(e){var t=e.open,n=this.props,r=n.trigger,o=n.withoutDefaultTriggerMobileWevBehavior,i=n.i18n;if(this.open=t,r)return u.a.createElement(r,{onClick:this.onClickInviteButton});var a=h()("invite-btn",{"without-mobile-behavior":o}),c=h()("mobile-invite-btn",{"without-mobile-behavior":o});return u.a.createElement("div",{className:"invite-btn-trigger",onClick:this.onClickInviteButton},u.a.createElement(Ll,{className:a,size:"small",color:"blue"},u.a.createElement(Dp,null),i.t("attachments_preview.header.share_button")),u.a.createElement("button",{className:c},u.a.createElement(Mp,null)))}},{key:"render",value:function(){var e=this,t=this.props,n=t.emails,r=t.onChange,o=t.i18n,i=this.state.filerrIds,a=n.length?o.t("attachments_preview.invite.share"):o.t("attachments_preview.invite.done"),c=al(i.length,{fallbackValue:i.length}),s=o.t("attachments_preview.invite.header",{count:c});return u.a.createElement(rf,{name:"invite-modal attachments_preview-package order_page_perseus",trigger:this.renderTrigger,buttonText:a,onClickFooterButton:this.onClickFooterButton,onClickCloseButton:this.onClickCloseButton,header:s,footer:u.a.createElement(Bp,null)},(function(){return u.a.createElement("div",{className:"invite-body"},u.a.createElement("div",{className:"subtitle"},o.t("attachments_preview.invite.subtitle")),u.a.createElement(Ip,null),u.a.createElement("hr",null),u.a.createElement(cd,{onChange:r,emails:n}),u.a.createElement(Cf,{onChange:e.personalMessageChange,content:e.state.content}),u.a.createElement(Xf,null),u.a.createElement(Lp,null))}))}}])&&sd(t.prototype,n),r&&sd(t,r),i}(c.Component);md.propTypes={emails:p.a.array,username:p.a.string,onShareClick:p.a.func,groupId:p.a.string,onChange:p.a.func,deleteAllEmails:p.a.func,filerrIds:p.a.array,trigger:p.a.any,withoutDefaultTriggerMobileWevBehavior:p.a.bool,i18n:p.a.shape({t:p.a.func})};var vd=Object(Te.compose)($c,Object(ge.connect)((function(e){return{username:ko(e),groupId:Mn(e,"collaborators"),filerrIds:la(e)}})))(md),yd={START:"start",END:"end"},bd=(n("S4c2"),["type","className","disabled","icon","iconPosition","onIconClick","innerRef"]);function gd(){return(gd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Od(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cd(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Ed=function(e){var t=e.type,n=e.className,r=e.disabled,o=e.icon,i=e.iconPosition,a=e.onIconClick,c=e.innerRef,s=Cd(e,bd),l=h()("fit-input-wrapper",n,{"fit-input-disabled":r,"fit-input-has-icon":o,"fit-input-icon-start":"start"===i}),f=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Od(Object(n),!0).forEach((function(t){wd(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Od(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({disabled:r,type:t,ref:c},s);return u.a.createElement("div",{className:l},u.a.createElement("div",{className:"fit-input-inner-wrapper"},u.a.createElement("input",gd({className:"fit-input"},f)),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.icon,n=e.iconPosition,r=e.onIconClick;if(!t)return null;if(!u.a.isValidElement(t)){var o={className:"fit-input-icon",iconPosition:n,size:14,children:t};return"function"==typeof r&&(o.onClick=r),u.a.createElement(dl,o)}var i=t.type===dl;return i?u.a.cloneElement(t,{className:h()(t.className,"fit-input-icon")}):null}({icon:o,iconPosition:i,onIconClick:a})))};Ed.propTypes={type:Object(f.oneOf)(["text","password","number","tel"]),disabled:f.bool,icon:f.node,iconPosition:Object(f.oneOf)(Object.values(yd)),onIconClick:f.func,innerRef:Object(f.oneOfType)([f.func,f.object]),className:f.string},Ed.defaultProps={type:"text",disabled:!1,iconPosition:yd.START},Object.assign(Ed,{ICON_POSITIONS:yd});var Sd=Ed;n("YHI1");function _d(e){return(_d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Td(e,t){return(Td=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Pd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Nd(e);if(t){var o=Nd(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return jd(this,n)}}function jd(e,t){if(t&&("object"===_d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Rd(e)}function Rd(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nd(e){return(Nd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Id=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Td(e,t)}(i,e);var t,n,r,o=Pd(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={firstNameInput:"",lastNameInput:""},t.firstNameInputHandelr=t.firstNameInputHandelr.bind(Rd(t)),t.lastNameInputHandelr=t.lastNameInputHandelr.bind(Rd(t)),t.updateClick=t.updateClick.bind(Rd(t)),t}return t=i,(n=[{key:"firstNameInputHandelr",value:function(e){this.setState({firstNameInput:e.target.value})}},{key:"lastNameInputHandelr",value:function(e){this.setState({lastNameInput:e.target.value})}},{key:"updateClick",value:function(){var e=this.props.onUpdateClick,t=this.state;e(t.firstNameInput,t.lastNameInput)}},{key:"render",value:function(){var e=this,t=this.state,n=t.firstNameInput,r=t.lastNameInput,o=this.props,i=o.onExitWithoutFullName,a=o.i18n,c=!(n&&r);return u.a.createElement(rf,{name:"add-your-name-modal attachments_preview-package order_page_perseus",autoOpen:!0,buttonText:a.t("attachments_preview.add_your_name.update"),onClickFooterButton:this.updateClick,onClickCloseButton:i,isButtonDisabled:c,header:a.t("attachments_preview.add_your_name.header")},(function(){return u.a.createElement("div",null,u.a.createElement("p",{className:"font-accent modal-text"},a.t("attachments_preview.add_your_name.text")),u.a.createElement("div",{className:"name-container"},u.a.createElement("h3",{className:"font-accent"},a.t("attachments_preview.add_your_name.first_name")),u.a.createElement(Sd,{className:"name-input",value:n,onChange:e.firstNameInputHandelr})),u.a.createElement("div",{className:"name-container"},u.a.createElement("h3",{className:"font-accent"},a.t("attachments_preview.add_your_name.last_name")),u.a.createElement(Sd,{className:"name-input",value:r,onChange:e.lastNameInputHandelr})))}))}}])&&kd(t.prototype,n),r&&kd(t,r),i}(u.a.Component);Id.propTypes={onUpdateClick:p.a.func,onExitWithoutFullName:p.a.func,i18n:p.a.shape({t:p.a.func})};var xd=$c(Id),Ad=Object(f.oneOfType)([Object(f.arrayOf)(f.node),f.node,f.func]),Ld=(n("j61S"),function(e){var t=e.children,n=e.preventCloseAction,r=e.isOpen,o=e.className;if(!r)return null;var i=h()("modal-want-to-leave",o);return u.a.createElement("div",{className:i,ref:n},t)});Ld.propTypes={children:Ad.isRequired,isOpen:p.a.bool,preventCloseAction:p.a.func,className:p.a.string},Ld.defaultProps={isOpen:!1,preventCloseAction:function(){return null},className:""};var Dd=Ld,Md=(n("GiKe"),function(e){var t=e.onClick;return u.a.createElement("button",{className:"modal-want-to-leave-close font-accent",onClick:t},u.a.createElement("span",{className:"modal-want-to-leave-close-button"},""))});Md.propTypes={onClick:p.a.func.isRequired};var Bd=Md,Fd=(n("ZGZG"),function(e){var t=e.children,n=e.hasCloseBtn,r=e.onClose;return u.a.createElement("header",{className:"modal-want-to-leave-header"},u.a.createElement("h2",null,t),n&&u.a.createElement(Bd,{onClick:r}))});Fd.propTypes={children:Ad.isRequired,hasCloseBtn:p.a.bool,onClose:p.a.func},Fd.defaultProps={hasCloseBtn:!0};var Vd=Fd,Ud=(n("/ngF"),function(e){var t=e.children;return u.a.createElement("section",{className:"modal-want-to-leave-body"},t)});Ud.propTypes={children:Ad.isRequired};var Hd=Ud,Wd=(n("/r2+"),function(e){var t=e.buttonTextStay,n=e.buttonTextLeave,r=e.onClickStay,o=e.onClickLeave;return u.a.createElement("footer",{className:"modal-want-to-leave-footer font-accent"},n&&u.a.createElement(Ll,{className:"leave-button",fill:"ghost",color:"grey",onClick:o},n),t&&u.a.createElement(Ll,{onClick:r},t))});Wd.propTypes={buttonTextStay:p.a.string,buttonTextLeave:p.a.string,onClickStay:p.a.func,onClickLeave:p.a.func};var Gd=Wd;function qd(e){return"function"==typeof e}n("63aE");function zd(e){return(zd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yd(){return(Yd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Kd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zd(e,t){return(Zd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Xd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Qd(e);if(t){var o=Qd(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jd(this,n)}}function Jd(e,t){if(t&&("object"===zd(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return $d(e)}function $d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qd(e){return(Qd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var eh=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zd(e,t)}(i,e);var t,n,r,o=Xd(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).StayOnClick=t.StayOnClick.bind($d(t)),t.LeaveOnClick=t.LeaveOnClick.bind($d(t)),t.headerOnClick=t.headerOnClick.bind($d(t)),t}return t=i,(n=[{key:"StayOnClick",value:function(){var e=this;qd(this.close)&&this.close(),setTimeout((function(){return e.props.onClickStayButton&&e.props.onClickStayButton()}),200)}},{key:"LeaveOnClick",value:function(){var e=this;qd(this.close)&&this.close(),setTimeout((function(){return e.props.onClickLeaveButton&&e.props.onClickLeaveButton()}),200)}},{key:"headerOnClick",value:function(){var e=this;qd(this.close)&&this.close(),setTimeout((function(){return e.props.onClickCloseButton&&e.props.onClickCloseButton()}),200)}},{key:"__view",value:function(e){var t=this.props,n=t.header,r=t.children,o=t.onClickCloseButton,i=t.buttonTextLeave,a=t.buttonTextStay,c=t.className,s=!!o,l=h()("modal-want-to-leave-wrapper",c);return u.a.createElement(Dd,Yd({},e,{className:l}),n&&u.a.createElement(Vd,{hasCloseBtn:s,onClose:this.headerOnClick},cs(n,e)),r&&u.a.createElement(Hd,null,cs(r,e)),u.a.createElement(Gd,{buttonTextLeave:i,buttonTextStay:a,onClickLeave:this.LeaveOnClick,onClickStay:this.StayOnClick}))}}])&&Kd(t.prototype,n),r&&Kd(t,r),i}(be);eh.propTypes={header:p.a.any,footer:p.a.any,children:p.a.any,buttonTextLeave:p.a.string,buttonTextStay:p.a.string,onClickLeaveButton:p.a.func,onClickStayButton:p.a.func,onClickCloseButton:p.a.func,className:p.a.string},eh.defaultProps={closeOnEscape:!1,bindBodyClickListener:!1};var th=eh,nh=(n("uqdd"),function(e){var t=e.onStayClick,n=e.onLeaveClick,r=e.i18n;return u.a.createElement(th,{name:"leave-without-invite-modal attachments_preview-package order_page_perseus",autoOpen:!0,buttonTextLeave:r.t("attachments_preview.leave-without-invite.leave"),buttonTextStay:r.t("attachments_preview.leave-without-invite.stay"),onClickCloseButton:n,onClickStayButton:t,onClickLeaveButton:n,header:r.t("attachments_preview.leave-without-invite.header"),className:"leave-without-invite"},(function(){return u.a.createElement("p",{className:"font-accent modal-text"},r.t("attachments_preview.leave-without-invite.text"))}))});nh.propTypes={onStayClick:p.a.func,onLeaveClick:p.a.func,i18n:p.a.shape({t:p.a.func})};var rh=$c(nh);function oh(e){return(oh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ih(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ah(e,t){return(ah=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ch(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=lh(e);if(t){var o=lh(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return uh(this,n)}}function uh(e,t){if(t&&("object"===oh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return sh(e)}function sh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lh(e){return(lh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ph=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ah(e,t)}(i,e);var t,n,r,o=ch(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),fh(sh(t=o.call(this,e)),"onChange",(function(e){t.setState({emails:e})})),fh(sh(t),"deleteAllEmails",(function(){t.setState({emails:[]})})),t.state={emails:[],shouldShowAddYourName:!1,shouldShowLeaveWithoutInvite:!1,payload:{}},t.onShareClick=t.onShareClick.bind(sh(t)),t.onUpdateClick=t.onUpdateClick.bind(sh(t)),t.onStayClick=t.onStayClick.bind(sh(t)),t.onLeaveClick=t.onLeaveClick.bind(sh(t)),t.onExitWithoutFullName=t.onExitWithoutFullName.bind(sh(t)),t.sendInviteMixPanelEvent=t.sendInviteMixPanelEvent.bind(sh(t)),t}return t=i,(n=[{key:"sendInviteMixPanelEvent",value:function(e){pn({eventName:"Clicked send collaboration invitation",eventData:{"Has Personal Message":!!e.content,"Send Me A Copy":!1,"Number Of Invitees":this.state.emails.length}})}},{key:"onShareClick",value:function(e){var t=this,n=this.state.emails,r=this.props,o=r.currentCollaboratorFullName,i=r.inviteCollaboratorsToCollaboratorsGroup,a=r.i18n;o?i({filerrIds:e.filerrIds,personalMessage:e.content,inviterFullName:o,emails:n}).then((function(){t.sendInviteMixPanelEvent({content:e.content});var r=al(n.length,{fallbackValue:n.length});Df(a.t("attachments_preview.collaboration.toasts.invite_collaborators",{count:r}))})).catch((function(e){Et(e,"InvitePopUpManagerComponents#onShareClick"),Lf(a.t("attachments_preview.collaboration.toasts.error"))})):(e.emails=n,this.setState({shouldShowAddYourName:!0,payload:e}),pn({eventName:"Opened collaboration full name modal"}),xc({group:"collaboration",type:"seen_update_personal_details_collaboration_popup",collaboration:{group:{id:e.groupId,type:"collaborators"}}}))}},{key:"onUpdateClick",value:function(e,t){var n="".concat(e," ").concat(t),r=this.state.payload,o=r.filerrIds,i=r.content,a=r.emails,c=r.groupId,u=this.props,s=u.currentCollaboratorId,l=u.inviteCollaboratorsToCollaboratorsGroup,f=u.updateCollaborator,p=u.i18n;Promise.resolve().then((function(){return f({id:s,fullName:n})})).then((function(){return l({filerrIds:o,personalMessage:i,inviterFullName:n,emails:a})})).then((function(){var e=al(a.length,{fallbackValue:a.length});return Df(p.t("attachments_preview.collaboration.toasts.invite_collaborators",{count:e}))})).catch((function(e){Et(e,"InvitePopUpManagerComponents"),Lf(p.t("attachments_preview.collaboration.toasts.error"))})),this.sendInviteMixPanelEvent({content:i}),this.setState({shouldShowAddYourName:!1}),pn({eventName:"Submitted collaboration full name"}),xc({group:"collaboration",type:"collaboration_done_update_personal_details",collaboration:{group:{id:c,type:"collaborators"}}})}},{key:"onExitWithoutFullName",value:function(){this.setState({shouldShowAddYourName:!1,shouldShowLeaveWithoutInvite:!0}),pn({eventName:"Closed collaboration full name modal"}),xc({group:"collaboration",type:"collaboration_close_update_personal_details",collaboration:{group:{id:this.state.payload.groupId,type:"collaborators"}}})}},{key:"onStayClick",value:function(){this.setState({shouldShowAddYourName:!0,shouldShowLeaveWithoutInvite:!1})}},{key:"onLeaveClick",value:function(){this.setState({shouldShowAddYourName:!1,shouldShowLeaveWithoutInvite:!1})}},{key:"render",value:function(){var e=this.state,t=e.emails,n=e.shouldShowAddYourName,r=e.shouldShowLeaveWithoutInvite,o=this.props,i=o.onlyCurrentFile,a=o.fileId,c=o.trigger,s=o.withoutDefaultTriggerMobileWevBehavior;return u.a.createElement("div",null,u.a.createElement(vd,{emails:t,onChange:this.onChange,fileIds:i?[a]:[],deleteAllEmails:this.deleteAllEmails,onShareClick:this.onShareClick,trigger:c,withoutDefaultTriggerMobileWevBehavior:s}),n&&u.a.createElement(xd,{onUpdateClick:this.onUpdateClick,onExitWithoutFullName:this.onExitWithoutFullName}),r&&u.a.createElement(rh,{onStayClick:this.onStayClick,onLeaveClick:this.onLeaveClick}))}}])&&ih(t.prototype,n),r&&ih(t,r),i}(c.Component);ph.propTypes={currentCollaboratorId:p.a.string,currentCollaboratorFullName:p.a.string,updateCollaborator:p.a.func,onlyCurrentFile:p.a.bool,fileId:p.a.string,inviteCollaboratorsToCollaboratorsGroup:p.a.func,trigger:p.a.any,withoutDefaultTriggerMobileWevBehavior:p.a.bool,i18n:p.a.shape({t:p.a.func})};var dh=Object(Te.compose)($c,Object(ge.connect)((function(e){return{currentCollaboratorId:un(e),currentCollaboratorFullName:Ao(e),fileId:rn(e)}}),{inviteCollaboratorsToCollaboratorsGroup:Ia,updateCollaborator:Na}))(ph),hh=function(e){return u.a.createElement("div",e,u.a.createElement("svg",{width:"9",height:"16",viewBox:"0 0 9 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},u.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.14961 15.8914C8.07874 15.9638 7.98425 16 7.86614 16C7.74803 16 7.64173 15.9638 7.54724 15.8914L0.141732 8.28959C0.0472439 8.21719 0 8.12066 0 8C0 7.87934 0.0472439 7.78281 0.141732 7.71041L7.54724 0.108597C7.64173 0.0361991 7.74803 0 7.86614 0C7.98425 0 8.07874 0.0361991 8.14961 0.108597L8.85827 0.832579C8.95276 0.904977 9 1.00151 9 1.12217C9 1.24284 8.95276 1.35143 8.85827 1.44796L2.44488 8L8.85827 14.552C8.95276 14.6486 9 14.7572 9 14.8778C9 14.9985 8.95276 15.095 8.85827 15.1674L8.14961 15.8914Z",fill:"white"})))};n("JhRV");function mh(e){return(mh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yh(e,t){return(yh=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function bh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=wh(e);if(t){var o=wh(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return gh(this,n)}}function gh(e,t){if(t&&("object"===mh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Oh(e)}function Oh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wh(e){return(wh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ch(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Eh=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yh(e,t)}(i,e);var t,n,r,o=bh(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Ch(Oh(t=o.call(this,e)),"onResize",(function(){t.updateTranslate(t.state.translate)})),Ch(Oh(t),"handleCurrentFilerrIdUpdate",(function(e){var n=t.props,r=n.filerrIds,o=n.currentFilerrId;if(o!==e.currentFilerrId){var i=r.indexOf(o);t.isThumbnailVisible(i)||t.updateTranslate(100*i)}})),Ch(Oh(t),"isThumbnailVisible",(function(e){var n=t.getThumbnailItemSelectorClassName(e),r=t.thumbWrapper.querySelector(".".concat(n));if(r){var o=t.thumbWrapper.getBoundingClientRect(),i=o.left,a=o.right,c=r.getBoundingClientRect(),u=c.left,s=c.right;return u-i>=50&&s-a<=-36}})),Ch(Oh(t),"updateTranslate",(function(e){var n=t.thumbSlider.getBoundingClientRect().width,r=t.thumbWrapper.getBoundingClientRect().width,o=e+r>=n,i=e;e<=0?i=0:o&&(i=n-r+50),t.setState({translate:i,disableLeft:0===i,disableRight:o,showArrows:n>r})})),Ch(Oh(t),"calculateTransform",(function(){var e=t.state.translate;return"translateX(-".concat(e,"px)")})),Ch(Oh(t),"handleThumbnailClick",(function(e){t.props.onThumbnailClick(e)})),Ch(Oh(t),"handleLeftClick",(function(){var e=t.state.translate;t.updateTranslate(e-500)})),Ch(Oh(t),"handleRightClick",(function(){var e=t.state.translate;t.updateTranslate(e+500)})),Ch(Oh(t),"handleDownloadClick",(function(){var e=t.props;En(e.currentFilerrDownloadUrl,"Viewer Carousel",e.currentFilerrPreviewType)})),Ch(Oh(t),"getButtonsOnThumbnail",(function(e){return u.a.createElement("ul",{className:"btns-group"},u.a.createElement("li",null,u.a.createElement(Ms,{content:e.t("attachments_preview.download")},u.a.createElement("div",{onClick:t.handleDownloadClick,className:"icn-download","data-download-link":"",tabIndex:0}))),t.props.currentCollaboratorCanInvite&&u.a.createElement("li",null,u.a.createElement(dh,{onlyCurrentFile:!0,trigger:function(t){var n=t.onClick;return u.a.createElement(Ms,{content:e.t("attachments_preview.invite.share_with_others")},u.a.createElement("div",{onClick:n,className:"icn-share"}))}})))})),Ch(Oh(t),"getThumbnailItemSelectorClassName",(function(e){return"thumb-".concat(e)})),Ch(Oh(t),"getThumbnailItemClassNames",(function(e,n){var r=t.props.currentFilerrId;return h()(t.getThumbnailItemSelectorClassName(n),{selected:e===r})})),t.state={translate:0},t}return t=i,(n=[{key:"componentDidMount",value:function(){this.resizeObserver=new Bs.a(this.onResize),this.resizeObserver.observe(this.thumbWrapper),this.handleCurrentFilerrIdUpdate({})}},{key:"componentDidUpdate",value:function(e){this.handleCurrentFilerrIdUpdate(e)}},{key:"componentWillUnmount",value:function(){this.resizeObserver.disconnect()}},{key:"render",value:function(){var e=this,t=this.props,n=t.filerrIds,r=t.i18n,o=this.state,i=o.showArrows,a=o.disableLeft,c=o.disableRight;return u.a.createElement("ul",{className:h()("thumbnails-wrapper",{hidden:n.length<=1}),ref:function(t){return e.thumbWrapper=t}},u.a.createElement(kn,{condition:i},u.a.createElement(hh,{className:h()("nav-arrow left",{disabled:a}),onClick:this.handleLeftClick}),u.a.createElement(hh,{className:h()("nav-arrow right",{disabled:c}),onClick:this.handleRightClick})),u.a.createElement("div",{className:"thumbs-slider",ref:function(t){return e.thumbSlider=t},style:{transform:this.calculateTransform()}},n.map((function(t,n){return u.a.createElement("li",{key:n,className:e.getThumbnailItemClassNames(t,n),onClick:function(){return e.handleThumbnailClick(t,n)}},u.a.createElement(il,{key:t,filerrId:t},e.getButtonsOnThumbnail(r)))}))))}}])&&vh(t.prototype,n),r&&vh(t,r),i}(c.Component);Eh.propTypes={filerrIds:p.a.array,currentFilerrId:p.a.string,currentFilerrDownloadUrl:p.a.string,currentFilerrPreviewType:p.a.string,currentCollaboratorCanInvite:p.a.bool,onThumbnailClick:p.a.func,i18n:p.a.shape({t:p.a.func})},Eh.defaultProps={filerrIds:[],onThumbnailClick:function(){return!0}};var Sh=Object(Te.compose)($c,Object(ge.connect)((function(e){return{filerrIds:la(e),currentFilerrId:on(e),currentFilerrDownloadUrl:ya(e),currentFilerrPreviewType:ma(e),currentCollaboratorCanInvite:Io(e)}}),(function(e){return{onThumbnailClick:function(t){return e(function(e){return function(t,n){t(Go(e)),t(Wo(Xn(n(),e))),t(zo()),t(Yo())}}(t))}}})))(Eh),_h=function(e){var t=e.primaryColor,n=void 0===t?"#404145":t,r=e.dotColor,o=void 0===r?"#1dbf73":r;return u.a.createElement("svg",{width:"89",height:"27",viewBox:"0 0 89 27",fill:"none",xmlns:"http://www.w3.org/2000/svg"},u.a.createElement("g",{fill:n},u.a.createElement("path",{d:"m81.6 13.1h-3.1c-2 0-3.1 1.5-3.1 4.1v9.3h-6v-13.4h-2.5c-2 0-3.1 1.5-3.1 4.1v9.3h-6v-18.4h6v2.8c1-2.2 2.3-2.8 4.3-2.8h7.3v2.8c1-2.2 2.3-2.8 4.3-2.8h2zm-25.2 5.6h-12.4c.3 2.1 1.6 3.2 3.7 3.2 1.6 0 2.7-.7 3.1-1.8l5.3 1.5c-1.3 3.2-4.5 5.1-8.4 5.1-6.5 0-9.5-5.1-9.5-9.5 0-4.3 2.6-9.4 9.1-9.4 6.9 0 9.2 5.2 9.2 9.1 0 .9 0 1.4-.1 1.8zm-5.7-3.5c-.1-1.6-1.3-3-3.3-3-1.9 0-3 .8-3.4 3zm-22.9 11.3h5.2l6.6-18.3h-6l-3.2 10.7-3.2-10.8h-6zm-24.4 0h5.9v-13.4h5.7v13.4h5.9v-18.4h-11.6v-1.1c0-1.2.9-2 2.2-2h3.5v-5h-4.4c-4.3 0-7.2 2.7-7.2 6.6v1.5h-3.4v5h3.4z"})),u.a.createElement("g",{fill:o},u.a.createElement("path",{d:"m85.3 27c2 0 3.7-1.7 3.7-3.7s-1.7-3.7-3.7-3.7-3.7 1.7-3.7 3.7 1.7 3.7 3.7 3.7z"})))};_h.propTypes={primaryColor:f.string,dotColor:f.string};var kh=_h,Th=function(){return u.a.createElement("svg",{width:"11",height:"9",viewBox:"0 0 11 9",xmlns:"http://www.w3.org/2000/svg"},u.a.createElement("path",{d:"M3.64489 8.10164L0.158292 4.61504C-0.0511769 4.40557 -0.0511769 4.06594 0.158292 3.85645L0.916858 3.09786C1.12633 2.88837 1.46598 2.88837 1.67545 3.09786L4.02419 5.44658L9.05493 0.41586C9.2644 0.206391 9.60405 0.206391 9.81352 0.41586L10.5721 1.17445C10.7816 1.38392 10.7816 1.72355 10.5721 1.93303L4.40348 8.10166C4.19399 8.31113 3.85436 8.31113 3.64489 8.10164V8.10164Z"}))},Ph={SQUARE:"square",CIRCLE:"circle"},jh={WHITE:"white",GREEN:"green",BLUE:"blue"},Rh=(n("mrsR"),["children","className","disabled","shape","color"]);function Nh(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Ih=function(e){var t=e.children,n=e.className,r=e.disabled,o=e.shape,i=e.color,a=Nh(e,Rh);i=i||function(e){return e===Ph.SQUARE?jh.WHITE:jh.GREEN}(o);var c=h()("fit-checkbox",n,"fit-checkbox-color-".concat(i),"fit-checkbox-shape-".concat(o),{"fit-checkbox-disabled":r}),s=h()("checkmark-box",{"box-shadow-z1":o===Ph.CIRCLE}),l=Object.assign({type:"checkbox",disabled:r},a);return u.a.createElement("label",{className:c},u.a.createElement("input",l),u.a.createElement("span",{className:s},u.a.createElement(dl,{className:"check-icon",size:10},Th)),cs(t))};Ih.propTypes={children:p.a.node,disabled:p.a.bool,shape:p.a.oneOf(Object.values(Ph)),color:p.a.oneOf(Object.values(jh)),className:p.a.string},Ih.defaultProps={disabled:!1,shape:Ph.SQUARE},Object.assign(Ih,{SHAPES:Ph,COLORS:jh});var xh=Ih;n("zWCN");function Ah(e){return(Ah="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Lh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dh(e,t){return(Dh=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Mh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Vh(e);if(t){var o=Vh(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Bh(this,n)}}function Bh(e,t){if(t&&("object"===Ah(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Fh(e)}function Fh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vh(e){return(Vh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Uh=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Dh(e,t)}(i,e);var t,n,r,o=Mh(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={checkbox:!e.currentCollaboratorUsername||e.currentColaboratorNotificationPreference,inputValue:e.currentCollaboratorUsername},t.onUsernameChange=t.onUsernameChange.bind(Fh(t)),t.onNotificationsChange=t.onNotificationsChange.bind(Fh(t)),t.onDismiss=t.onDismiss.bind(Fh(t)),t.onUpdate=t.onUpdate.bind(Fh(t)),t}return t=i,(n=[{key:"componentDidMount",value:function(){this.state.currentCollaboratorUsername||pn({eventName:"Opened collaboration settings modal",eventData:{"Start Collaborate Source Component":"Inital"}})}},{key:"componentDidUpdate",value:function(e){e.currentCollaboratorUsername!==this.props.currentCollaboratorUsername&&this.onUsernameChange(this.props.currentCollaboratorUsername)}},{key:"onUsernameChange",value:function(e){this.setState({inputValue:e})}},{key:"onDismiss",value:function(){var e=this.props.currentCollaboratorUsername;this.setState({inputValue:e}),pn({eventName:"Clicked close collaboration soft register modal"})}},{key:"onUpdate",value:function(){var e=this.state,t=e.inputValue,n=e.checkbox;this.updateCollaboratorNotificationsPrefrences(),this.updateCollaboratorName(),pn({eventName:"Complete collaboration soft register",eventData:{"Has Full Name":!!t,"Email Preferences":!!n}})}},{key:"updateCollaboratorNotificationsPrefrences",value:function(){var e=this.props,t=e.currentCollaboratorId,n=e.updateCollaborator,r=e.i18n;n({id:t,emailNotificationEnabled:this.state.checkbox}).catch((function(e){Et(e,"NameModalComponents#updateCollaboratorNotificationsPrefrences"),Lf(r.t("attachments_preview.collaboration.toasts.error"))}))}},{key:"updateCollaboratorName",value:function(){var e=this.props,t=e.currentCollaboratorId,n=e.currentCollaboratorUsername,r=e.updateCollaborator,o=e.i18n,i=this.state.inputValue;n!==i&&r({id:t,username:i}).catch((function(e){Et(e,"NameModalComponents#updateCollaboratorNotificationsPrefrences"),Lf(o.t("attachments_preview.collaboration.toasts.error"))}))}},{key:"onNotificationsChange",value:function(e){this.setState({checkbox:e.target.checked})}},{key:"render",value:function(){var e=this,t=this.state,n=t.inputValue,r=t.checkbox,o=this.props,i=o.trigger,a=o.currentCollaboratorUsername,c=o.currentCollaboratorEmail,s=o.i18n,l=!!a,f=!!c,p=!l||r,d=!!i;return u.a.createElement(rf,{name:"start-collaborating-modal collaboration_perseus attachments_preview-package order_page_perseus",autoOpen:!d,trigger:d?function(e){var t=e.open;return i(t)}:null,buttonText:s.t("attachments_preview.no_name.done"),onClickCloseButton:this.onDismiss,onClickFooterButton:this.onUpdate,header:l?s.t("attachments_preview.no_name.settings"):s.t("attachments_preview.no_name.title"),isButtonDisabled:!n,className:"start-collaborating"},(function(){return u.a.createElement("div",{className:"font-accent start-collaborating-body"},u.a.createElement("h3",null,l?s.t("attachments_preview.no_name.change_name"):s.t("attachments_preview.no_name.add_your_name")),u.a.createElement(Sd,{placeholder:s.t("attachments_preview.no_name.place_holder"),value:n,onChange:function(t){return e.onUsernameChange(t.target.value)},className:"start-collaborating-fit"}),f&&u.a.createElement(xh,{defaultChecked:p,className:"font-accent start-collaborating-fit",onChange:e.onNotificationsChange},s.t("attachments_preview.no_name.send_notification")),u.a.createElement("div",{className:"terms"},s.t("attachments_preview.no_name.see_our"),"",u.a.createElement("a",{href:"/terms_of_service",target:"_blank"},s.t("attachments_preview.no_name.terms_of_service")),"",s.t("attachments_preview.no_name.and"),"",u.a.createElement("a",{href:"/privacy-policy",target:"_blank"},s.t("attachments_preview.no_name.privacy_policy"))))}))}}])&&Lh(t.prototype,n),r&&Lh(t,r),i}(u.a.Component);Uh.propTypes={currentCollaboratorUsername:p.a.string,currentCollaboratorEmail:p.a.string,currentColaboratorNotificationPreference:p.a.bool,currentCollaboratorId:p.a.string,trigger:p.a.any,updateCollaborator:p.a.func,i18n:p.a.shape({t:p.a.func})};var Hh=Object(Te.compose)($c,Object(ge.connect)((function(e){return{currentCollaboratorUsername:ko(e),currentCollaboratorEmail:_o(e,un(e)),currentColaboratorNotificationPreference:Do(e),currentCollaboratorId:un(e)}}),{updateCollaborator:Na}))(Uh),Wh=Object(f.oneOfType)([Object(f.arrayOf)(f.node),f.node,f.func]),Gh=(n("d73j"),function(e){var t=e.children,n=e.preventCloseAction,r=e.isOpen,o=e.className;if(!r)return null;var i=h()("modal-summary",o);return u.a.createElement("div",{className:i,ref:n},t)});Gh.propTypes={children:Wh.isRequired,isOpen:p.a.bool,preventCloseAction:p.a.func,className:p.a.string},Gh.defaultProps={isOpen:!1,preventCloseAction:function(){return null},className:""};var qh=Gh,zh=(n("PYbR"),function(e){var t=e.onClick;return u.a.createElement("button",{className:"modal-summary-close",onClick:t},u.a.createElement("span",null,""))});zh.propTypes={onClick:p.a.func.isRequired};var Yh=zh;n("gxAV");function Kh(e){var t=e.children,n=e.hasCloseBtn,r=e.onClick,o=n&&"function"==typeof r;return u.a.createElement("header",{className:"modal-summary-header"},u.a.createElement("h2",null,t),o&&u.a.createElement(Yh,{onClick:r}))}Kh.propTypes={children:Wh.isRequired,hasCloseBtn:p.a.bool,onClick:p.a.func},Kh.defaultProps={hasCloseBtn:!0};var Zh=Kh,Xh=(n("X/MV"),function(e){var t=e.children;return u.a.createElement("section",{className:"modal-summary-body"},t)});Xh.propTypes={children:Wh.isRequired};var Jh=Xh,$h=(n("s/Wv"),function(e){var t=e.children;return u.a.createElement("footer",{className:"modal-summary-footer"},u.a.createElement("div",null,t))});$h.propTypes={children:Wh};var Qh=$h;n("yPpY");function em(e){return(em="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tm(){return(tm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function nm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rm(e,t){return(rm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function om(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=cm(e);if(t){var o=cm(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return im(this,n)}}function im(e,t){if(t&&("object"===em(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return am(e)}function am(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cm(e){return(cm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var um=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rm(e,t)}(i,e);var t,n,r,o=om(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).headerOnClick=t.headerOnClick.bind(am(t)),t}return t=i,(n=[{key:"headerOnClick",value:function(){var e=this;"function"==typeof this.close&&this.close(),setTimeout((function(){return e.props.onClickCloseButton&&e.props.onClickCloseButton()}),200)}},{key:"__view",value:function(e){var t=this.props,n=t.header,r=t.footer,o=t.children,i=t.hasCloseBtn,a=t.className,c=h()("modal-summary-wrapper",a);return u.a.createElement(qh,tm({},e,{className:c}),n&&u.a.createElement(Zh,{hasCloseBtn:i,onClick:this.headerOnClick},cs(n,e)),o&&u.a.createElement(Jh,null,cs(o,e)),r&&u.a.createElement(Qh,null,cs(r,e)))}}])&&nm(t.prototype,n),r&&nm(t,r),i}(be);um.propTypes={header:p.a.any,footer:p.a.any,children:p.a.any,hasCloseBtn:p.a.bool,onClickCloseButton:p.a.func},um.defaultProps={closeOnEscape:!1,bindBodyClickListener:!1};var sm=um;n("kya4");function lm(e){return(lm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pm(e,t){return(pm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function dm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vm(e);if(t){var o=vm(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return hm(this,n)}}function hm(e,t){if(t&&("object"===lm(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return mm(e)}function mm(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vm(e){return(vm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ym=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pm(e,t)}(i,e);var t,n,r,o=dm(i);function i(e){var t,n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),t=o.call(this,e),n=mm(t),a=function(){var e=t.props,n=e.isEnabledToCreateComments,r=e.currentCollaboratorUsername,o=e.pendingComments,i=e.createComments,a=e.onSubmit,c=e.onClick,u=e.numberOfComments,s=e.numberOfFiles,l=e.userId,f=e.source,p=e.i18n;if(n)if(r){var d={comments:o};xc({type:"clicked_comment_submit_in_collaboration_conversation",group:"collaboration",collaboration:{total_comments:u}}),pn({eventName:"Submitted collaboration comments",eventData:{"Number of Comments":u,"Number of Files":s,"Is Collaborator":!l,"Related Flow":f}}),i(d).then((function(e){var t=al(e.length,{fallbackValue:e.length});Df(p.t("attachments_preview.collaboration.toasts.comments_submited",{count:t}))})).then((function(){return a&&a()})).catch((function(e){Et(e,"CommentsSubmitAllButtonComponents"),Lf(p.t("attachments_preview.collaboration.toasts.error"))})),c()}else t.setState({shouldShowNameModal:!0})},(r="clickHandler")in n?Object.defineProperty(n,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[r]=a,t.state={shouldShowNameModal:!1},t}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.numberOfComments,n=e.isEnabledToCreateComments,r=e.i18n,o=this.state.shouldShowNameModal,i=r.t("attachments_preview.collaboration.comments.submit_comments");if(t){var a=al(t,{fallbackValue:t});i=r.t("attachments_preview.collaboration.comments.submit_num_comments",{count:a})}return u.a.createElement("div",null,u.a.createElement("div",{className:"submit-wrapper"},u.a.createElement(Ll,{className:"submit-all-btn",disabled:!n,onClick:this.clickHandler},i)),o&&u.a.createElement(Hh,null))}}])&&fm(t.prototype,n),r&&fm(t,r),i}(u.a.Component);ym.propTypes={isEnabledToCreateComments:p.a.bool,numberOfComments:p.a.number,createComments:p.a.func,onSubmit:p.a.func,pendingComments:p.a.array,onClick:p.a.func,currentCollaboratorUsername:p.a.string,userId:p.a.number,numberOfFiles:p.a.number,source:p.a.string,i18n:p.a.shape({t:p.a.func})},ym.defaultProps={onClick:function(){return null},onSubmit:function(){return null}};var bm=Object(Te.compose)($c,Object(ge.connect)((function(e){return{isEnabledToCreateComments:Fr(e),numberOfComments:Sr(e),pendingComments:Mr(e),currentCollaboratorUsername:ko(e),numberOfFiles:Jn(e),userId:an(e),source:ir(e)}}),{createComments:lc}))(ym);n("sg0N");function gm(e){return(gm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Om(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Cm(e,t){return(Cm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Em(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=km(e);if(t){var o=km(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Sm(this,n)}}function Sm(e,t){if(t&&("object"===gm(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _m(e)}function _m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function km(e){return(km=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Tm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Pm=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Cm(e,t)}(i,e);var t,n,r,o=Em(i);function i(){var e;Om(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Tm(_m(e=o.call.apply(o,[this].concat(n))),"componentDidMount",(function(){e.reportShowPendingPromptEvent()})),Tm(_m(e),"reportContinueEditingEvent",(function(){xc({group:"collaboration",type:"clicked_on_warning_message",reason:"continue editing",collaboration:{pending_comments:e.props.pendingCommentsIdsLength}}),pn({eventName:dn,eventData:{"Source Button":"Continue editing"}})})),Tm(_m(e),"reportClearPendingEvent",(function(){xc({group:"collaboration",type:"clicked_on_warning_message",reason:"leave without sending comments",collaboration:{pending_comments:e.props.pendingCommentsIdsLength}}),pn({eventName:dn,eventData:{"Source Button":"no thanks"}})})),Tm(_m(e),"reportShowPendingPromptEvent",(function(){xc({group:"collaboration",type:"seen_warning_comments_not_save",collaboration:{pending_comments:e.props.pendingCommentsIdsLength}})})),Tm(_m(e),"onCloseClick",(function(){e.reportContinueEditingEvent(),e.props.setShouldOpen(!1)})),Tm(_m(e),"onDiscard",(function(){var t=e.props,n=t.pendingCommentsIds,r=t.deleteComment,o=t.callback,i=t.setShouldOpen;o(),i(!1),e.reportClearPendingEvent(),n.forEach((function(e){return r(e)}))})),e}return t=i,(n=[{key:"render",value:function(){var e=this,t=this.props,n=t.callback,r=t.shouldNotShowSubmitButton,o=t.setShouldOpen,i=t.shouldOpen,a=t.i18n;return i?u.a.createElement(sm,{name:"pending-comments-prompt-modal attachments_preview-package order_page_perseus",autoOpen:!0,onClickCloseButton:this.onCloseClick,header:a.t("attachments_preview.collaboration.leave_prompt.header"),className:"pending-comments-prompt-modal-wrapper",footer:function(){return u.a.createElement("div",{className:"btns-container"},u.a.createElement(Ll,{className:"discard-button",color:"light-grey",onClick:e.onDiscard},a.t("attachments_preview.collaboration.leave_prompt.discard_comments")),r?u.a.createElement(Ll,{onClick:function(){return o(!1)}},a.t("attachments_preview.collaboration.leave_prompt.continue")):u.a.createElement(bm,{onSubmit:n,onClick:function(){return o(!1)}}))}},(function(){return u.a.createElement("div",{className:"pending-content"},u.a.createElement("p",null,a.t("attachments_preview.collaboration.leave_prompt.body")))})):null}}])&&wm(t.prototype,n),r&&wm(t,r),i}(u.a.Component);Pm.propTypes={pendingCommentsIds:p.a.array,pendingCommentsIdsLength:p.a.number,deleteComment:p.a.func,callback:p.a.func,shouldNotShowSubmitButton:p.a.bool,setShouldOpen:p.a.func,shouldOpen:p.a.bool,i18n:p.a.shape({t:p.a.func})},Pm.defaultProps={pendingCommentsIds:[],pendingCommentsIdsLength:0,deleteComment:function(){return null},callback:function(){return null},shouldNotShowSubmitButton:!1};var jm=Object(Te.compose)($c,Object(ge.connect)((function(e){var t=Er(e);return{pendingCommentsIds:t,pendingCommentsIdsLength:t.length,shouldNotShowSubmitButton:hr(e)}}),{deleteComment:uc}))(Pm);function Rm(e){return(Rm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Nm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Im(e,t){return(Im=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Dm(e);if(t){var o=Dm(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Am(this,n)}}function Am(e,t){if(t&&("object"===Rm(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Lm(e)}function Lm(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dm(e){return(Dm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Mm=function(e){return function(t){var n=function(n){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Im(e,t)}(c,n);var r,o,i,a=xm(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=a.call(this,e)).state={error:void 0},t.handleError=t.handleError.bind(Lm(t)),t}return r=c,(o=[{key:"componentDidCatch",value:function(e){this.handleError(e)}},{key:"handleError",value:function(t){var n=this;this.setState({error:t},(function(){return Et(t,"REACT_COMPONENT_ERROR",{component:e,state:n.props.state,props:n.props.props})}))}},{key:"render",value:function(){return this.state.error?null:u.a.createElement(t,this.props)}}])&&Nm(r.prototype,o),i&&Nm(r,i),c}(c.Component);return Object(ge.connect)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{state:e,props:t}}))(n)}};function Bm(){return(Bm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Fm(e){return u.a.createElement("svg",Bm({"data-download-link":!0,tabIndex:0,width:"12px",height:"14px",viewBox:"0 0 12 14",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},e),u.a.createElement("g",{id:"Collaboration---Mobile",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},u.a.createElement("g",{className:"icn-download-style",transform:"translate(-162.000000, -35.000000)",fill:"#777777"},u.a.createElement("g",{id:"Header"},u.a.createElement("path",{d:"M168.281235,45.8749741 C168.197902,45.9583074 168.104152,45.9999738 167.999986,45.9999738 C167.895819,45.9999738 167.80207,45.9583074 167.718736,45.8749741 L163.124997,41.2499851 C163.041664,41.1874852 162.999998,41.104152 162.999998,40.9999857 C162.999998,40.8958194 163.031248,40.8020697 163.093747,40.7187364 L163.718746,40.0937379 C163.802079,40.031238 163.895829,39.9999881 163.999995,39.9999881 C164.104161,39.9999881 164.187495,40.0416545 164.249995,40.1249878 L167.187488,43.1562306 L167.187488,35.3749991 C167.187488,35.2708328 167.223946,35.1822911 167.296862,35.1093747 C167.369779,35.0364584 167.45832,35 167.562487,35 L168.437485,35 C168.541651,35 168.630193,35.0364584 168.703109,35.1093747 C168.776025,35.1822911 168.812484,35.2708328 168.812484,35.3749991 L168.812484,43.1562306 L171.749977,40.1249878 C171.812477,40.0416545 171.89581,39.9999881 171.999976,39.9999881 C172.104142,39.9999881 172.197892,40.031238 172.281225,40.0937379 L172.874974,40.7187364 C172.958307,40.8020697 172.999974,40.8958194 172.999974,40.9999857 C172.999974,41.104152 172.968724,41.1874852 172.906224,41.2499851 L168.281235,45.8749741 Z M173.624972,47.3749705 C173.729139,47.3749705 173.81768,47.4114289 173.890597,47.4843452 C173.963513,47.5572616 173.999971,47.6458033 173.999971,47.7499696 L173.999971,48.6249675 C173.999971,48.7291338 173.963513,48.8176755 173.890597,48.8905919 C173.81768,48.9635082 173.729139,48.9999666 173.624972,48.9999666 L162.374999,48.9999666 C162.270833,48.9999666 162.182291,48.9635082 162.109375,48.8905919 C162.036458,48.8176755 162,48.7291338 162,48.6249675 L162,47.7499696 C162,47.6458033 162.036458,47.5572616 162.109375,47.4843452 C162.182291,47.4114289 162.270833,47.3749705 162.374999,47.3749705 L173.624972,47.3749705 Z",id:"download-"})))))}n("8WJ7");var Vm=function(e){var t=e.collaborators,n=e.standalone;return u.a.createElement("div",{className:"plus-collaborator font-accent"},"+",t.length-3,u.a.createElement("div",{className:"drawer-container"},u.a.createElement("ul",{className:"collaborators-drawer"},t.map((function(e){var t=e.username,r=e.id,o=e.userImage,i=e.email,a=e.fullName,c=t||i;return n&&a&&(c=a),u.a.createElement("li",{key:r},u.a.createElement(Mu,{username:c,src:o,className:"avatar-collaborator-drawer"}),u.a.createElement("span",{className:"collaborator-name"},c))})))))};Vm.propTypes={collaborators:p.a.arrayOf(xf).isRequired,standalone:p.a.bool};var Um=function(e){var t=e.collaborators,n=e.standalone;if(!t.length)return null;var r=t.length>4,o=t.slice(0,r?3:4);return u.a.createElement("div",{className:"profile-picture-container"},o.map((function(e,t){var n=e.username,r=e.userImage,o=e.email,i=n||o;return u.a.createElement("div",{key:t},u.a.createElement(Ms,{content:i,delay:!0},u.a.createElement(Mu,{className:"avatar-header",username:i,src:r,size:30})))})),r&&u.a.createElement(Vm,{collaborators:t,standalone:n}))};Um.defaultProps={collaborators:[],standalone:!1},Um.propTypes={collaborators:p.a.arrayOf(xf),standalone:p.a.bool};var Hm=Object(ge.connect)((function(e){return{collaborators:bo(e)}}))(Um),Wm=function(){return u.a.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"transparent",xmlns:"http://www.w3.org/2000/svg"},u.a.createElement("g",{id:"Back"},u.a.createElement("path",{id:"Oval 5",className:"circle",d:"M20 40C31.0457 40 40 31.0457 40 20C40 8.9543 31.0457 0 20 0C8.9543 0 0 8.9543 0 20C0 31.0457 8.9543 40 20 40Z",fill:"black",fillOpacity:"0.5"}),u.a.createElement("path",{id:"",d:"M20.2109 27.9141C20.1055 27.9844 20 28.0195 19.8945 28.0195C19.7539 28.0195 19.6836 27.9844 19.6133 27.9141L12.2656 20.5312C12.1602 20.4609 12.125 20.3906 12.125 20.25C12.125 20.1445 12.1602 20.0391 12.2656 19.9688L19.6133 12.5859C19.6836 12.5156 19.7539 12.4805 19.8945 12.4805C20 12.4805 20.1055 12.5156 20.2109 12.5859L20.9141 13.2891C20.9844 13.3594 21.0195 13.4648 21.0195 13.5703C21.0195 13.7109 20.9844 13.8164 20.9141 13.8867L15.4648 19.3359H27.4531C27.5586 19.3359 27.6641 19.4062 27.7344 19.4766C27.8047 19.5469 27.875 19.6523 27.875 19.7578V20.7422C27.875 20.8828 27.8047 20.9883 27.7344 21.0586C27.6641 21.1289 27.5586 21.1641 27.4531 21.1641H15.4648L20.9141 26.6133C20.9844 26.7188 21.0195 26.8242 21.0195 26.9297C21.0195 27.0703 20.9844 27.1406 20.9141 27.2109L20.2109 27.9141Z",fill:"white"})))},Gm=(n("8oih"),Ms.POSITIONS),qm=function(e){var t=e.onClick,n=e.i18n;return u.a.createElement("button",{onClick:t,className:"btn-header-close"},u.a.createElement(Ms,{content:u.a.createElement("p",{className:"tooltip"},n.t("attachments_preview.header.back")),className:"tooltip-container",delay:!0,position:Gm.RIGHT},u.a.createElement(Wm,null)))};qm.propTypes={onClick:p.a.func,i18n:p.a.shape({t:p.a.func})};var zm=$c(qm),Ym=(n("mbTg"),function(e){var t=e.sizeWithUnits,n=e.name;return u.a.createElement("span",{className:"file-info-base"},u.a.createElement("span",{className:"file-name",title:n},n),u.a.createElement("span",{className:"file-size",title:t},"(",t,")"))});Ym.propTypes={sizeWithUnits:p.a.string,name:p.a.string};var Km=Object(ge.connect)((function(e,t){var n=t.filerrId;return{sizeWithUnits:Oa(e,n),name:ba(e,n)}}))(Ym);n("vYa/");function Zm(e){return(Zm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jm(e,t){return(Jm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=tv(e);if(t){var o=tv(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Qm(this,n)}}function Qm(e,t){if(t&&("object"===Zm(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ev(e)}function ev(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tv(e){return(tv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function nv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var rv=Ms.POSITIONS,ov=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jm(e,t)}(i,e);var t,n,r,o=$m(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),nv(ev(t=o.call(this,e)),"onCloseClickHandler",(function(){var e=t.props,n=e.pendingCommentsLength,r=e.close;xc({group:"collaboration",type:"clicked_file_preview_close"}),pn({eventName:"Closed file wiewer",eventData:{"Close Source":"Exit Button","Has Pending Comments":!!n}}),n?t.setShouldShowPromptPendingComments(!0):r()})),nv(ev(t),"setShouldShowPromptPendingComments",(function(e){t.setState({shouldShowPromptPendingComments:e})})),nv(ev(t),"onDownloadClickHandler",(function(){var e=t.props;En(e.currentFilerrDownloadUrl,"Viewer header",e.currentFilerrPreviewType)})),nv(ev(t),"onPreferenceClickHandler",(function(e){var n=t.props.currentCollaboratorId;e(),pn({eventName:"Opened collaboration settings modal",eventData:{"Start Collaborate Source Component":"Preference button"}}),xc({group:"collaboration",type:"external_collaborator_click_start_collaborating",collaboration:{collaborator:{id_str:n}}})})),t.state={shouldShowPromptPendingComments:!1},t}return t=i,(n=[{key:"render",value:function(){var e=this,t=this.props,n=t.currentFilerrId,r=t.currentFilerrDownloadUrl,o=t.close,i=t.standalone,a=t.currentCollaboratorInvitePermissions,c=t.i18n,s=this.state.shouldShowPromptPendingComments,l=!i&&r,f=h()("header-base",{standalone:i});return u.a.createElement("div",{className:f},i&&u.a.createElement("a",{href:"/?utm_source=external_collaboration",target:"_blank"},u.a.createElement("span",{className:"logo"},u.a.createElement(kh,null)),c.t("attachments_preview.header.what_is_fiverr")),u.a.createElement("div",{className:"header-btns"},u.a.createElement("div",{className:"file-details-side"},!i&&u.a.createElement(zm,{onClick:this.onCloseClickHandler}),u.a.createElement(Km,{filerrId:n}),l&&u.a.createElement(Fm,{onClick:this.onDownloadClickHandler,className:"btn-file-download"})),u.a.createElement("div",{className:"btns-side"},u.a.createElement(Hm,{standalone:i}),a&&u.a.createElement(dh,null),i&&u.a.createElement(Hh,{trigger:function(t){return u.a.createElement(Ms,{content:u.a.createElement("p",{className:"tooltip"},c.t("attachments_preview.header.settings")),className:"tooltip-container",delay:!0,position:rv.LEFT},u.a.createElement("button",{className:"preference-button",onClick:function(){return e.onPreferenceClickHandler(t)}},u.a.createElement("span",null)))}}))),u.a.createElement(jm,{callback:o,shouldOpen:s,setShouldOpen:this.setShouldShowPromptPendingComments}))}}])&&Xm(t.prototype,n),r&&Xm(t,r),i}(u.a.Component);ov.defaultProps={standalone:!1,attributesToShow:[],currentCollaboratorInvitePermissions:!1},ov.propTypes={currentFilerrId:p.a.string,currentFilerrDownloadUrl:p.a.string,currentFilerrPreviewType:p.a.string,pendingCommentsLength:p.a.number,close:p.a.func,currentCollaboratorInvitePermissions:p.a.bool,standalone:p.a.bool,currentCollaboratorId:p.a.string,i18n:p.a.shape({t:p.a.func})};var iv=Object(Te.compose)(Mm("Header"),$c,Object(ge.connect)((function(e){return{file:zn(e),currentFilerrId:on(e),currentFilerrDownloadUrl:ya(e),currentFilerrPreviewType:ma(e),pendingCommentsLength:Sr(e),currentCollaboratorInvitePermissions:Io(e),standalone:or(e),currentCollaboratorId:un(e)}})))(ov),av=37,cv=39,uv=function(){return u.a.createElement("svg",{width:"14",height:"16",viewBox:"0 0 14 16",xmlns:"http://www.w3.org/2000/svg"},u.a.createElement("path",{d:"M13.7303 11.3216C13.1265 10.6728 11.9968 9.69687 11.9968 6.5C11.9968 4.07188 10.2943 2.12812 7.99871 1.65125V1C7.99871 0.447812 7.55121 0 6.99934 0C6.44746 0 5.99997 0.447812 5.99997 1V1.65125C3.70434 2.12812 2.00185 4.07188 2.00185 6.5C2.00185 9.69687 0.872161 10.6728 0.268412 11.3216C0.0809126 11.5231 -0.00221228 11.7641 -0.000649781 12C0.00278771 12.5125 0.404974 13 1.00247 13H12.9962C13.5937 13 13.9962 12.5125 13.9993 12C14.0009 11.7641 13.9178 11.5228 13.7303 11.3216ZM2.10966 11.5C2.77278 10.6259 3.49778 9.17719 3.50122 6.51813C3.50122 6.51188 3.49934 6.50625 3.49934 6.5C3.49934 4.56687 5.06622 3 6.99934 3C8.93246 3 10.4993 4.56687 10.4993 6.5C10.4993 6.50625 10.4975 6.51188 10.4975 6.51813C10.5009 9.1775 11.2259 10.6263 11.889 11.5H2.10966ZM6.99934 16C8.10309 16 8.9984 15.1047 8.9984 14H5.00028C5.00028 15.1047 5.89559 16 6.99934 16Z"}))},sv=(n("0upW"),function(e){var t=e.shouldDisplay,n=e.collaboratorId,r=e.i18n;return t?u.a.createElement("div",{className:"no-name-wrapper"},u.a.createElement("div",{className:"no-name-main"},u.a.createElement("div",{className:"no-name-message"},u.a.createElement("div",{className:"no-name-icon"},u.a.createElement(dl,{color:"#FC832B"},uv)),u.a.createElement("div",{className:"no-name-body font-accent"},u.a.createElement("h3",null,r.t("attachments_preview.CollaboratorNoUsernameAlert.title")),u.a.createElement("p",null,r.t("attachments_preview.CollaboratorNoUsernameAlert.text")))),u.a.createElement(Hh,{trigger:function(e){return u.a.createElement(Ll,{fill:"ghost",color:"grey",onClick:function(){return function(e){e(),pn({eventName:"Opened collaboration settings modal",eventData:{"Start Collaborate Source Component":"Banner"}}),xc({group:"collaboration",type:"external_collaborator_click_start_collaborating",collaboration:{collaborator:{id_str:n}}})}(e)}},r.t("attachments_preview.CollaboratorNoUsernameAlert.button"))}}))):null});sv.propTypes={shouldDisplay:p.a.bool,collaboratorId:p.a.string,i18n:p.a.shape({t:p.a.func})},sv.defaultProps={shouldDisplay:!1,collaboratorId:""};var lv=Object(Te.compose)($c,Object(ge.connect)((function(e,t){var n=t.collaboratorId;return{shouldDisplay:po(e,n),collaboratorId:n}})))(sv);n("UOKO");function fv(e){return(fv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dv(e,t){return(dv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function hv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=yv(e);if(t){var o=yv(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return mv(this,n)}}function mv(e,t){if(t&&("object"===fv(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return vv(e)}function vv(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yv(e){return(yv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var bv=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dv(e,t)}(i,e);var t,n,r,o=hv(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).navigateByKeys=t.navigateByKeys.bind(vv(t)),t}return t=i,(n=[{key:"componentDidMount",value:function(){var e=this;this.containerRef.addEventListener("keydown",this.navigateByKeys),this.containerRef.tabIndex<0&&console.error("missing tabIndex attribute on containerRef prop in <Navigation />.\n                Keyboard navigation may not work properly."),setTimeout((function(){e.containerRef&&e.containerRef.focus()}),0)}},{key:"componentWillUnmount",value:function(){this.containerRef.removeEventListener("keydown",this.navigateByKeys)}},{key:"containerRef",get:function(){return this.props.containerRef||this.root}},{key:"reportToMixpanel",value:function(){pn({eventName:"Navigated between files",eventData:{"Navigation Source":"Keyboard"}})}},{key:"navigateByKeys",value:function(e){if(e&&(e.stopPropagation(),!["input","textarea"].some((function(t){return e.target.type===t})))){var t=this.props,n=t.onLeftClick,r=t.onRightClick;switch(e.which){case av:n(),this.reportToMixpanel();break;case cv:r(),this.reportToMixpanel()}}}},{key:"render",value:function(){var e=this,t=this.props,n=t.onLeftClick,r=t.onRightClick,o=t.children,i=t.showArrows,a=t.currentCollaboratorId,c=t.close;return u.a.createElement("div",{className:"navigation-wrapper",ref:function(t){return e.root=t},tabIndex:1},u.a.createElement(iv,{close:c}),u.a.createElement("div",{className:"navigation"},u.a.createElement(Fu,{className:h()("left",{"v-hidden":!i}),onClick:n}),o,u.a.createElement(Fu,{className:h()("right",{"v-hidden":!i}),onClick:r})),u.a.createElement(Sh,null),u.a.createElement(lv,{collaboratorId:a}))}}])&&pv(t.prototype,n),r&&pv(t,r),i}(c.Component);bv.propTypes={onLeftClick:p.a.func,onRightClick:p.a.func,showArrows:p.a.bool,children:p.a.oneOfType([p.a.arrayOf(p.a.node),p.a.node]),containerRef:p.a.object,currentCollaboratorId:p.a.string,close:p.a.func},bv.defaultProps={onLeftClick:function(){return null},onRightClick:function(){return null},showArrows:!0};var gv=Object(ge.connect)((function(e){return{showArrows:Ca(e),currentCollaboratorId:un(e)}}),(function(e){var t=function(){return function(e,t){var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=la(e),n=t.length,r=on(e),o=t.indexOf(r),i=((o-1)%n+n)%n;return t[i]}(t()),r=Xn(t(),n);e(Wo(r)),e(Go(n)),e(zo()),e(Yo())}},n=function(){return function(e,t){var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=la(e),n=t.length,r=on(e),o=t.indexOf(r),i=((o+1)%n+n)%n;return t[i]}(t()),r=Xn(t(),n);e(Wo(r)),e(Go(n)),e(zo()),e(Yo())}};return{onLeftClick:function(){return e(t())},onRightClick:function(){return e(n())}}}))(bv);function Ov(e){return(Ov="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var wv,Cv=function(e){return"object"===("undefined"==typeof Fiverr?"undefined":Ov(Fiverr))&&"function"==typeof Fiverr[e]||void 0},Ev=(wv="_logEventToGraphite",function(){var e;return Cv(wv)&&(e=Fiverr)[wv].apply(e,arguments)});function Sv(e){return(Sv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_v(Object(n),!0).forEach((function(t){Tv(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Tv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rv(e,t){return(Rv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Nv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=xv(e);if(t){var o=xv(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Iv(this,n)}}function Iv(e,t){if(t&&("object"===Sv(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function xv(e){return(xv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Av=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rv(e,t)}(i,e);var t,n,r,o=Nv(i);function i(){return Pv(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.text,n=e.style,r=e.elementRef;return u.a.createElement("div",{className:"message-box",ref:r,style:kv({},n)},t)}}])&&jv(t.prototype,n),r&&jv(t,r),i}(c.Component);Av.propTypes={text:p.a.string,style:p.a.object,elementRef:p.a.func},Av.defaultProps={text:""};var Lv=n("k7+O"),Dv=n.n(Lv);n("uaXv");function Mv(e){return(Mv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fv(e,t){return(Fv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Vv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Wv(e);if(t){var o=Wv(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Uv(this,n)}}function Uv(e,t){if(t&&("object"===Mv(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Hv(e)}function Hv(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wv(e){return(Wv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Gv=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fv(e,t)}(i,e);var t,n,r,o=Vv(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={isOpen:!1},t.preVolume=t.props.volume,t.openBar=t.setBarStatus.bind(Hv(t),!0),t.closeBar=t.setBarStatus.bind(Hv(t),!1),t.handleChange=t.handleChange.bind(Hv(t)),t.handleMute=t.handleMute.bind(Hv(t)),t}return t=i,(n=[{key:"setBarStatus",value:function(e){this.setState({isOpen:e})}},{key:"handleChange",value:function(e){var t=e.target,n=parseFloat(t.value);this.preVolume=n,this.props.handleVolumeChange(n)}},{key:"handleMute",value:function(){0!==this.props.volume?this.props.handleVolumeChange(0):this.props.handleVolumeChange(this.preVolume)}},{key:"render",value:function(){var e=this.state.isOpen,t=0===this.props.volume,n=this.props.volume<.51,r={"--min":0,"--max":1,"--val":this.props.volume},o=h()("fa",{"fa-volume-up":!t&&!n,"fa-volume-off":t,"fa-volume-down":n&&!t});return u.a.createElement("div",{className:"volume-bar",onMouseOver:this.openBar,onMouseLeave:this.closeBar},u.a.createElement("i",{className:o,onClick:this.handleMute}),e&&u.a.createElement("input",{id:"vol-control",type:"range",min:"0",max:"1",step:"0.01",style:r,value:this.props.volume,onChange:this.handleChange}))}}])&&Bv(t.prototype,n),r&&Bv(t,r),i}(c.PureComponent);Gv.propTypes={volume:p.a.number.isRequired,handleVolumeChange:p.a.func.isRequired};var qv=Gv;function zv(e){return(zv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Yv=["get","value","set","configurable","enumerable","writable"],Kv=["get","value"];function Zv(e){var t={};function n(e,n){return t[e]=t.hasOwnProperty(e)?t[e]:n()}for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];o.forEach((function(t){return Xv.call(e,t,n)}))}function Xv(e,t){var n=this,r=Object.getOwnPropertyDescriptor(this.constructor.prototype,e),o=Yv.reduce((function(o,i){switch(zv(r[i])){case"undefined":break;case"function":Kv.includes(i)?o[i]=function(){return t("".concat(e,"$").concat(i),r[i].bind(n))}:o[i]=r[i];break;default:o[i]=r[i]}return o}),{});Object.defineProperty(this,e,o)}function Jv(e){return(Jv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var $v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g.a;return e.split(".").reduce((function(e,t){return"object"===Jv(e)?e[t]:e}),t)};function Qv(e){return(Qv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ey(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ty=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Zv(this,"node","browser","development","production","testing","plike","toString")}var t,n,r;return t=e,(n=[{key:"node",get:function(){return"[object process]"===Object.prototype.toString.call(void 0!==g.a.process?g.a.process:0)}},{key:"browser",get:function(){return g.a.document&&"function"==typeof g.a.document.createElement||!this.node&&["undefined"==typeof document?"undefined":Qv(document),"undefined"==typeof window?"undefined":Qv(window)].every((function(e){return"undefined"!==e}))}},{key:"development",get:function(){return this.toString().includes("dev")}},{key:"dev",get:function(){return this.development}},{key:"production",get:function(){return this.toString().includes("prod")}},{key:"prod",get:function(){return this.production}},{key:"testing",get:function(){return this.toString().includes("test")}},{key:"test",get:function(){return this.testing}},{key:"plike",get:function(){return this.toString().includes("like")}},{key:"toString",value:function(){return((this.browser?$v("app.environment"):$v("process.env.NODE_ENV"))||"").toLowerCase()}}])&&ey(t.prototype,n),r&&ey(t,r),e}());function ny(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ry=new(function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Zv(this,"available");try{this.storage=ty.browser&&window[t]}catch(e){}["get","set"].forEach((function(e){return n[e]=n[e].bind(n)}))}var t,n,r;return t=e,(n=[{key:"available",get:function(){if(!ty.browser||!this.storage)return!1;var e=Math.random().toString(36).substring(2);try{return this.storage.setItem(e,!0),this.storage.removeItem(e),!0}catch(e){return!1}}},{key:"get",value:function(e){if(this.available){var t=this.storage.getItem(e);try{return JSON.parse(t)}catch(e){return t}}}},{key:"set",value:function(e,t){var n=this;return this.available?new Promise((function(r,o){try{n.storage.setItem(e,JSON.stringify(t)),r()}catch(e){o(e)}})):new Promise((function(e){return e}))}},{key:"remove",value:function(e){this.available&&this.storage.removeItem(e)}},{key:"size",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=!n.length,i=0;o&&(n=Array.from(Array(this.storage.length)).map((function(t,n){return e.storage.key(n)})));var a=n.reduce((function(t,n){var r=(n+e.storage.getItem(n)).length;return t[n]=r,o&&(i+=r),t}),{});return o&&Object.assign(a,{total:i}),a}}])&&ny(t.prototype,n),r&&ny(t,r),e}())("localStorage");function oy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var iy=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"handlePressEvents",value:function(e,t,n,r,o){32===e&&t?t():39===e&&n?n(2):37===e&&n?n(-2):38===e&&r?r(o+.2):40===e&&r&&r(o-.2)}},{key:"getVolume",value:function(){var t=ry.get("attachments-preview-collaboration-volume");return e.validVolume(t)?t:.8}},{key:"setVolume",value:function(t){return!!e.validVolume(t)&&(ry.set("attachments-preview-collaboration-volume",t),!0)}},{key:"validVolume",value:function(e){return!("number"!=typeof e||e<0||e>1)}},{key:"durationToText",value:function(t){if("number"!=typeof t)return"00:00";var n=Math.floor(t/60),r=Math.floor(t-60*n);return"".concat(e.padZerosToLeft(n,2),":").concat(e.padZerosToLeft(r,2))}},{key:"padZerosToLeft",value:function(e,t){return(new Array(t+1).join("0")+e).slice(-t)}}],(n=null)&&oy(t.prototype,n),r&&oy(t,r),e}(),ay=function(e){var t=e.currentPosition,n=e.totalLength;return u.a.createElement("div",{className:"duration"},u.a.createElement("span",null,iy.durationToText(t)),u.a.createElement("span",null,iy.durationToText(n)))};ay.propTypes={currentPosition:p.a.number.isRequired,totalLength:p.a.number.isRequired};var cy=ay;n("b9PR");function uy(e){var t=e.isVideo,n=e.isPlaying,r=e.volume,o=e.currentPosition,i=e.totalLength,a=e.onSeek,c=e.onPlayPause,s=e.onVolumeChange,l=e.toggleFullscreen;return u.a.createElement("div",{className:"controls"},u.a.createElement("div",{className:"left"},u.a.createElement("button",{className:"play-button ".concat(n?"pause":"play"),onClick:c}),u.a.createElement(cy,{currentPosition:o,totalLength:i}),u.a.createElement(qv,{volume:r,handleVolumeChange:s})),u.a.createElement("div",{className:"right"},u.a.createElement("button",{className:"seek-left",onClick:function(){return a(-2)}},""),u.a.createElement("button",{className:"seek-right",onClick:function(){return a(2)}},""),t&&u.a.createElement("button",{className:"fullscreen",onClick:l})))}uy.propTypes={isVideo:p.a.bool.isRequired,isPlaying:p.a.bool.isRequired,volume:p.a.number.isRequired,currentPosition:p.a.number.isRequired,totalLength:p.a.number.isRequired,onSeek:p.a.func.isRequired,onPlayPause:p.a.func.isRequired,onVolumeChange:p.a.func.isRequired,toggleFullscreen:p.a.func};var sy=n("/tz4"),ly=n.n(sy);"undefined"!=typeof window&&(window.global=window);var fy=ly()({onMediaLoad:function(){return null},onPlay:function(){return null},onMarkerClick:function(){return null},markers:[],markersTemplate:function(){return null},onError:function(){return null},setEmbeddedElementRef:function(){return null}}),py=p.a.shape({onMediaLoad:p.a.func,onPlay:p.a.func,onMarkerClick:p.a.func,markers:p.a.arrayOf(iu),markersTemplate:p.a.func,onError:p.a.func}).isRequired;n("scqE");function dy(e){return(dy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function my(e,t){return(my=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function vy(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=gy(e);if(t){var o=gy(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return yy(this,n)}}function yy(e,t){if(t&&("object"===dy(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return by(e)}function by(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gy(e){return(gy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Oy=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&my(e,t)}(i,e);var t,n,r,o=vy(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={currentPosition:0,totalLength:0,isPlaying:!1,isWaiting:!1,isLoaded:!0,isLoading:!1,progressWidth:0,bufferWidth:0,volume:iy.getVolume(),isInFullMode:!1},t.player=null,t.safePlayerQueue=Promise.resolve(),t.progressBar=null,t.setPlayer=t.setPlayer.bind(by(t)),t.handleLoad=t.handleLoad.bind(by(t)),t.onEnded=t.onEnded.bind(by(t)),t.onTimeUpdate=Object(Oe.throttle)(t.onTimeUpdate.bind(by(t)),50),t.progressClicked=t.progressClicked.bind(by(t)),t.onProgress=t.onProgress.bind(by(t)),t.seek=t.seek.bind(by(t)),t.seekToPosition=t.seekToPosition.bind(by(t)),t.getWidthForPosition=t.getWidthForPosition.bind(by(t)),t.handleTogglePlay=t.handleTogglePlay.bind(by(t)),t.play=t.play.bind(by(t)),t.pause=t.pause.bind(by(t)),t.onWaiting=t.onWaiting.bind(by(t)),t.handleVolumeChange=t.handleVolumeChange.bind(by(t)),t.toggleFullscreen=t.toggleFullscreen.bind(by(t)),t.setCurrentTime=t.setCurrentTime.bind(by(t)),t.isBufferEnoughtForPlaying=t.isBufferEnoughtForPlaying.bind(by(t)),t.applySafePlayerQueue=t.applySafePlayerQueue.bind(by(t)),t.setMarkerPosition=t.setMarkerPosition.bind(by(t)),t.handleMarkerClick=t.handleMarkerClick.bind(by(t)),t}return t=i,(n=[{key:"componentDidMount",value:function(){var e=this;Dv.a&&Dv.a.on("change",(function(){e.setState({isInFullMode:Dv.a.isFullscreen})})),this.player.volume=this.state.volume}},{key:"componentDidUpdate",value:function(e){this.props.filerr!==e.filerr&&this.setState({isPlaying:!1,currentPosition:0,progressWidth:0})}},{key:"handleLoad",value:function(e){var t=this;if(!e)return!1;var n=e.target.duration;this.setState({totalLength:n});var r=this.player instanceof HTMLAudioElement?tu:nu;this.props.context.onMediaLoad({type:r,element:this.player,api:{seek:function(e){t.setCurrentTime(e)},play:this.play,pause:this.pause,currentTime:function(){return t.player.currentTime}}}),this.onProgress()}},{key:"setPlayer",value:function(e){e&&(this.player=e)}},{key:"onTimeUpdate",value:function(){var e=this.player.currentTime,t=this.getWidthForPosition(e);this.setState({progressWidth:t,currentPosition:e})}},{key:"isBufferEnoughtForPlaying",value:function(){for(var e=this.player,t=e.buffered,n=e.currentTime,r=0;r<t.length;r++)if(t.start(r)<=n){var o=n<this.player.duration-2?2:0;if(t.end(r)>n+o)return!0}return!1}},{key:"applySafePlayerQueue",value:function(e){this.safePlayerQueue=this.safePlayerQueue.then(e)}},{key:"onProgress",value:function(){var e=this;if(this.player.buffered.length){var t=this.state,n=t.isWaiting,r=t.isPlaying,o=this.getWidthForPosition(this.player.buffered.end(this.player.buffered.length-1));n&&r&&this.isBufferEnoughtForPlaying()&&(this.applySafePlayerQueue((function(){return e.player.play()})),this.setState({isWaiting:!1})),this.setState({bufferWidth:o})}}},{key:"onEnded",value:function(){this.setState({isPlaying:!1})}},{key:"toggleFullscreen",value:function(){"undefined"!=typeof document&&Dv.a&&(Dv.a.isFullscreen?Dv.a.exit():(Dv.a.enabled&&Dv.a.request(this.avRootRef),this.sendToMixpanel("Full Screen")))}},{key:"setCurrentTime",value:function(e){this.player.currentTime=e;var t=this.getWidthForPosition(this.player.currentTime);this.setState({progressWidth:t,currentPosition:e})}},{key:"progressClicked",value:function(e){var t=this.props.context,n=e.target.getBoundingClientRect(),r=(e.clientX-n.left)/this.progressBar.offsetWidth,o=this.player.duration,i=o*r;this.setCurrentTime(i),t.onProgressClick({currentTime:i,totalTime:o})}},{key:"seek",value:function(e){var t=this.state.currentPosition+e;this.seekToPosition(t)}},{key:"seekToPosition",value:function(e){var t=this.state.totalLength;e<0?e=0:e>t&&(e=t),this.setCurrentTime(e),this.sendToMixpanel("Seek")}},{key:"getWidthForPosition",value:function(e){return e/this.player.duration*100}},{key:"handleTogglePlay",value:function(e){e&&e.preventDefault(),this.player&&(this.state.isPlaying?(this.sendToMixpanel("Pause"),this.pause()):(this.sendToMixpanel("Play"),this.play()))}},{key:"play",value:function(){var e=this,t=this.props.context,n=this.player.currentTime;this.applySafePlayerQueue((function(){return e.player.play()})),t.onPlay({currentTime:n}),this.setState({isPlaying:!0,isWaiting:!1})}},{key:"onWaiting",value:function(){var e=this;this.isBufferEnoughtForPlaying()||(this.applySafePlayerQueue((function(){return e.player.pause()})),this.setState({isWaiting:!0}))}},{key:"pause",value:function(){var e=this;this.applySafePlayerQueue((function(){return e.player.pause()})),this.setCurrentTime(this.player.currentTime),this.setState({isPlaying:!1})}},{key:"handleVolumeChange",value:function(e){if(iy.validVolume(e)){var t=parseFloat(e.toFixed(2));this.player.volume=t,this.setState({volume:t},(function(){return iy.setVolume(t)}))}}},{key:"setMarkerPosition",value:function(e){return e/this.player.duration*100}},{key:"handleMarkerClick",value:function(e){this.props.context.onMarkerClick(e)}},{key:"sendToMixpanel",value:function(e){pn({eventName:"Clicked player controls",eventData:{"Action Type":e,"File Type":this.props.filerr.previewType,Duration:this.player.duration,"File Width":this.player.clientWidth,"File Height":this.player.clientHeight}})}},{key:"render",value:function(){var e=this,t=this.state,n=t.volume,r=t.isPlaying,o=t.currentPosition,i=t.totalLength,a=t.progressWidth,c=t.bufferWidth,s=t.isInFullMode,l=t.isWaiting,f=this.props,p=f.children,d=f.context,h=d.markers,m=d.markersTemplate,v=h&&!!h.length,y=!!(this.player&&this.player instanceof HTMLVideoElement);return u.a.createElement("div",{className:"audio-video-player ".concat(s?"full-mode":""),ref:function(t){return e.avRootRef=t}},r&&l&&u.a.createElement("div",{className:"loading"}),p(this.onTimeUpdate,this.onProgress,this.onEnded,this.handleLoad,this.setPlayer,this.onWaiting),u.a.createElement("div",{className:"wrap-bottom-bar"},u.a.createElement("div",{className:"bottom-bar"},u.a.createElement("div",{className:"progress"},v&&u.a.createElement("span",{className:"markers-background"}),v&&this.player&&h.map((function(t){var n=e.setMarkerPosition(t.timecode),r={left:"".concat(n,"%")};return u.a.createElement("span",{key:t.id,className:"marker",style:r,onClick:function(){return e.handleMarkerClick(t)}},m(t,e.state,e.player))})),u.a.createElement("div",{className:"progress-click",onClick:this.progressClicked},u.a.createElement("div",{className:"progress-line",ref:function(t){return e.progressBar=t}},u.a.createElement("div",{className:"progress-buffer-line",style:{width:"".concat(c,"%")}}),u.a.createElement("div",{className:"progress-green-line",style:{width:"".concat(a,"%")}})))),u.a.createElement(uy,{isPlaying:r,isVideo:y,volume:n,onSeek:this.seek,currentPosition:o,totalLength:i,onVolumeChange:this.handleVolumeChange,toggleFullscreen:y?this.toggleFullscreen:null,onPlayPause:this.handleTogglePlay}))))}}])&&hy(t.prototype,n),r&&hy(t,r),i}(c.Component);Oy.propTypes={filerr:Nu.isRequired,children:p.a.func.isRequired,context:py};var wy=_n(fy,(function(e){return{context:e}}),Oy);n("iN61"),n("sT+f");function Cy(e){return(Cy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ey(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _y(e,t){return(_y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ky(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Py(e);if(t){var o=Py(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ty(this,n)}}function Ty(e,t){if(t&&("object"===Cy(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Py(e){return(Py=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var jy=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_y(e,t)}(i,e);var t,n,r,o=ky(i);function i(){return Ey(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.filerr,n=e.context,r=n.onError,o=n.setEmbeddedElementRef,i=we.a.get(t,"videoUrls.mediaUrl");return u.a.createElement("div",{className:"preview-container audio-container"},u.a.createElement("div",{className:"preview preview-audio",onKeyDown:this.handleKeydown},u.a.createElement("div",{className:"thumbnail audio",tabIndex:0,onClick:this.toggleReview},u.a.createElement(wy,{filerr:t},(function(e,t,n,a,c,s){return u.a.createElement("div",{ref:o},u.a.createElement("div",{className:"background"}),u.a.createElement("audio",{ref:function(e){return c(e)},src:i,preload:"auto",onTimeUpdate:e,onWaiting:s,onProgress:t,onEnded:n,onError:r,onLoadedMetadata:a}))})))))}}])&&Sy(t.prototype,n),r&&Sy(t,r),i}(c.Component);jy.propTypes={filerr:Nu.isRequired,context:py};var Ry=_n(fy,(function(e){return{context:e}}),jy);function Ny(e){return(Ny="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Iy=["alt","src","placeholderSrc","isActive","onDimensions","lazyLoad","context"];function xy(){return(xy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ay(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Ly(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dy(e,t){return(Dy=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function My(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Vy(e);if(t){var o=Vy(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return By(this,n)}}function By(e,t){if(t&&("object"===Ny(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Fy(e)}function Fy(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vy(e){return(Vy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Uy=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Dy(e,t)}(i,e);var t,n,r,o=My(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).handleLoad=t.handleLoad.bind(Fy(t)),t.state={hasBeenRequested:e.isActive||!e.lazyLoad,isLoaded:!1,type:null},t}return t=i,(n=[{key:"componentWillReceiveProps",value:function(e){var t=this.props,n=t.isActive,r=t.lazyLoad,o=t.src;!e.isActive&&e.lazyLoad||this.setState({hasBeenRequested:!0}),o!==e.src&&this.setState({hasBeenRequested:n||!r})}},{key:"handleLoad",value:function(e){if(e){var t=this.props,n=t.onDimensions,r=t.context,o=e.target,i=o.naturalWidth,a=o.naturalHeight;"function"==typeof n&&n({width:i,height:a}),this.setState({isLoaded:!0}),r.onMediaLoad({type:ru,element:e.currentTarget,api:{}})}}},{key:"render",value:function(){var e=this.props,t=e.alt,n=e.src,r=e.placeholderSrc,o=(e.isActive,e.onDimensions,e.lazyLoad,e.context),i=Ay(e,Iy),a=this.state,c=a.hasBeenRequested,s=a.isLoaded,l=o.onError,f=o.setEmbeddedElementRef,p=h()({"image-loaded":s}),d=r?u.a.createElement("img",xy({},i,{ref:f,alt:t,src:r,onLoad:this.handleLoad,className:p,onError:l})):null;return c?u.a.createElement("img",xy({},i,{ref:f,alt:t,src:n,onLoad:this.handleLoad,className:p,onError:l})):d}}])&&Ly(t.prototype,n),r&&Ly(t,r),i}(c.PureComponent);Uy.propTypes={isActive:p.a.bool.isRequired,src:p.a.string.isRequired,placeholderSrc:p.a.string,alt:p.a.string,onDimensions:p.a.func,lazyLoad:p.a.bool,context:py},Uy.defaultProps={placeholderSrc:null,alt:"",onDimensions:null,lazyLoad:!1};var Hy=_n(fy,(function(e){return{context:e}}),Uy);function Wy(e){return(Wy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qy(e,t){return(qy=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function zy(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zy(e);if(t){var o=Zy(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Yy(this,n)}}function Yy(e,t){if(t&&("object"===Wy(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ky(e)}function Ky(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zy(e){return(Zy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Xy=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qy(e,t)}(i,e);var t,n,r,o=zy(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).throttledUpdateScrollStatus=Object(Oe.throttle)(t.updateScrollStatus.bind(Ky(t)),250),t.handleDimensions=t.handleDimensions.bind(Ky(t)),t.wrapper=null,t.state={isLongImage:!1,isScrollable:!1,hasBeenScrolled:!1},t}return t=i,(n=[{key:"componentDidMount",value:function(){this.throttledUpdateScrollStatus()}},{key:"updateScrollStatus",value:function(){var e=this;this.wrapper&&this.setState((function(t){if(!t.hasBeenScrolled)return{isScrollable:e.wrapper.scrollHeight>e.wrapper.offsetHeight,hasBeenScrolled:e.wrapper.scrollTop>5}}))}},{key:"handleDimensions",value:function(e){e.width/e.height<=1/1.5&&this.setState({isLongImage:!0},this.throttledUpdateScrollStatus)}},{key:"render",value:function(){var e=this,t=this.props,n=t.filerr,r=t.previewMessage,o=t.context,i=this.state.isLongImage,a=o.onError,c=h()("thumbnail",{"long-image":i}),s=n.fileName,l=n.previewUrls,f=u.a.createElement("figure",{className:c,tabIndex:"0",ref:function(t){return e.wrapper=t},onScroll:this.throttledUpdateScrollStatus},u.a.createElement(Hy,{alt:s,isActive:!0,src:l&&l.collaboration,onDimensions:this.handleDimensions,onError:a}));return l&&l.collaboration||a(),u.a.createElement("div",{className:"preview-container"},r&&u.a.createElement("div",{className:"message-box"},r),u.a.createElement("div",{className:"preview preview-image"},f))}}])&&Gy(t.prototype,n),r&&Gy(t,r),i}(c.PureComponent);Xy.propTypes={filerr:Nu.isRequired,previewMessage:p.a.string,context:py};var Jy=_n(fy,(function(e){return{context:e}}),Xy);n("k5qC");function $y(e){return function(t){t(zo(void 0)),t({type:"OVERLAY_CLICKED",payload:e})}}var Qy=function(e){return e.annotationsHidden},eb=function(e){return e.tempAnnotations},tb=function(e){return e.commentBoxCancelled},nb="ANNOTATION_ADDED",rb="ANNOTATION_CLICKED",ob="ANNOTATION_UPDATED",ib="ANNOTATION_DELETED",ab="ANNOTATION_MOUSE_OVER",cb="ANNOTATION_MOUSE_OUT",ub="ANNOTATION_SELECTED",sb="ANNOTATION_UNSELECTED",lb="ANNOTATION_MODE_STARTED",fb="ANNOTATION_MODE_ENDED",pb="ANNOTATION_COUNT",db="APP_RENDERING_START",hb="APP_RENDERING_DONE",mb="APP_RENDERING_FAILED",vb="PDF_VIEWER_OPEN",yb="PDF_VIEWER_CLOSE",bb="PDF_VIEWER_READY",gb="PREVIEW_SELECTION_END",Ob="PREVIEW_PAGE_CLICK",wb={listenOn:Object.values(o)},Cb={listenOn:Object.values(i),enableFilePreviewEvents:!0,enablePDFAnalytics:!1};function Eb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Sb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Eb(Object(n),!0).forEach((function(t){_b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Eb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var kb={showAnnotationTools:!0,enableAnnotationAPIs:!0,includePDFAnnotations:!1,showDisabledSaveButton:!0,showPageControls:!0,dockPageControls:!1,showDownloadPDF:!1,showPrintPDF:!1,defaultViewMode:"FIT_WIDTH",enableFormFilling:!1,enableSearchAPIs:!0},Tb={showToolbar:!1,showCommentsPanel:!1,downloadWithAnnotations:!1,showToolsOnTextSelection:!0,printWithAnnotations:!1},Pb=function(e,t){document.getElementById("adobe-pdf-embed-sdk")&&jb();var n=document.createElement("script");n.src="https://documentcloud.adobe.com/view-sdk/main.js",n.type="application/javascript",n.id="adobe-pdf-embed-sdk",n.onload=function(){"function"==typeof e&&e()},n.onerror=function(e){Et(e,"PDF: Adobe embed sdk: failed to load in script tag"),"function"==typeof t&&t(e)},document.body.appendChild(n)},jb=function(){var e=document.getElementById("adobe-pdf-embed-sdk");null==e||e.parentNode.removeChild(e)},Rb=function(e,t,n,r){return e.previewFile({content:{location:{url:t}},metaData:{fileName:n,id:r}},kb,{embedMode:"SIZED_CONTAINER"})},Nb=function(e,t){t.registerCallback(e.View.Enum.CallbackType.SAVE_API,(function(){return Promise.resolve({code:e.View.Enum.ApiResponseCode.SUCCESS})}),{showSaveButton:!1})},Ib=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Tb;return e.setConfig(Sb(Sb({},Tb),t))},xb=function(e,t,n){t.registerCallback(e.View.Enum.CallbackType.EVENT_LISTENER,(function(e){return n(e)}),Cb)},Ab=function(e,t){e.registerEventListener((function(e){return t(e)}),wb)},Lb=["context"];function Db(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Db(Object(n),!0).forEach((function(t){Bb(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Db(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Bb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fb(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Vb=function(e,t){return e.filter((function(e){return!t.includes(e)})).concat(t.filter((function(t){return!e.includes(t)})))},Ub=function(e){return e.map((function(e){e.context;var t=Fb(e,Lb);return e.context?Mb(Mb({},t),{},{"@context":e.context}):t}))},Hb=function(){var e=document.createElement("div");e.style.width="1in";var t=document.getElementsByTagName("body")[0];t.appendChild(e);var n=window.getComputedStyle(e,null).getPropertyValue("width");return t.removeChild(e),parseFloat(n)};function Wb(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function Gb(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Wb(i,r,o,a,c,"next",e)}function c(e){Wb(i,r,o,a,c,"throw",e)}a(void 0)}))}}function qb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zb(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function Yb(e,t){return function(e,t){if(t.get)return t.get.call(e);return t.value}(e,Zb(e,t,"get"))}function Kb(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,Zb(e,t,"set"),n),n}function Zb(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var Xb=new WeakMap,Jb=function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),zb(this,Xb,{writable:!0,value:void 0}),qb(this,"addInitialAnnotations",function(){var e=Gb(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.length||r){e.next=9;break}return e.prev=1,e.next=4,Yb(n,Xb).addAnnotations(Ub(t));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),Et(e.t0.message,e.t0.code,{failureLocation:"PDF: Adobe embed sdk: addAnnotations in addInitialAnnotations failed",fadedAnnotations:t});case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()),qb(this,"addAnnotations",(function(e){e.length&&Yb(n,Xb).addAnnotations(Ub(e))})),qb(this,"getAnnotations",(function(){return Yb(n,Xb).getAnnotations()})),qb(this,"updateAnnotation",function(){var e=Gb(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Yb(n,Xb).updateAnnotation(Ub([t])[0]);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Et(e.t0.message,e.t0.code,{failureLocation:"PDF: Adobe embed sdk: updateAnnotation failed",annotationData:t});case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()),qb(this,"deleteAnnotations",function(){var e=Gb(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Yb(n,Xb).deleteAnnotations({annotationIds:t});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Et(e.t0.message,e.t0.code,{failureLocation:"PDF: Adobe embed sdk: deleteAnnotations failed",annotationIds:t});case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()),qb(this,"unselectAnnotation",(function(){return Yb(n,Xb).unselectAnnotation()})),qb(this,"selectAnnotation",function(){var e=Gb(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Yb(n,Xb).selectAnnotation(t);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Et(e.t0.message,e.t0.code,{failureLocation:"PDF: Adobe embed sdk: selectAnnotation failed",annotationId:t});case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()),Kb(this,Xb,t)};function $b(e){return($b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qb(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function eg(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Qb(i,r,o,a,c,"next",e)}function c(e){Qb(i,r,o,a,c,"throw",e)}a(void 0)}))}}function tg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ng(e,t){return(ng=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function rg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ag(e);if(t){var o=ag(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return og(this,n)}}function og(e,t){if(t&&("object"===$b(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ig(e)}function ig(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ag(e){return(ag=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function cg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ug=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ng(e,t)}(s,e);var t,n,r,o,i,a,c=rg(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),cg(ig(t=c.call(this,e)),"toolbarHiderOpacity",!1),cg(ig(t),"adobeDCView",null),t.state={isTouch:mn(),showToolbarHider:!1,addedExistingAnnotations:!0},t.iframeRef=u.a.createRef(),t}return t=s,(n=[{key:"componentDidMount",value:function(){var e=this,t=this.props.context;Pb((function(){return e.createPdfViewer()}),t.onError)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.commentsIds,r=t.currentCommentId,o=t.commentBoxCancelled,i=t.annotationsHidden,a=t.filerr,c=t.context;this.annotationMNGR&&(this.removedComments(e)&&this.commentsRemoved(n,e.comments),r!==e.currentCommentId&&this.currentCommentChanged(r),this.changedTempAnnotations(e.tempAnnotations)&&this.annotationMNGR.deleteAnnotations([e.tempAnnotations[0].id]),o&&!e.commentBoxCancelled&&this.deleteLastTempAnnotation(e.tempAnnotations),i!==e.annotationsHidden&&this.toggleHideAnnotations(i),this.pendingCommentsSubmitted(e)&&this.updatePdfAnnotations(e),a&&e.filerr&&a.id!==e.filerr.id&&Pb(this.createPdfViewer(),c.onError))}},{key:"componentWillUnmount",value:function(){this.clearViewerResources(),jb()}},{key:"createPdfViewer",value:function(){var e=this;this.clearViewerResources(),document.addEventListener("adobe_dc_view_sdk.ready",(function(){return e.onAdobeSDKReady()}))}},{key:"onAdobeSDKReady",value:(a=eg(regeneratorRuntime.mark((function e(){var t,n,r,o,i,a=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.filerr,n=t.openUrl,r=t.open_url,o=t.fileName,i=t.id,this.setAdobeDCView(),xb(AdobeDC,this.adobeDCView,(function(e){return a.onViewerEvents(e)})),this.createAdobeViewerPromise=Rb(this.adobeDCView,n||r,o,i),Nb(AdobeDC,this.adobeDCView),e.next=8,this.createAnnotationManager();case 8:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"createAnnotationManager",value:(i=eg(regeneratorRuntime.mark((function e(){var t,n,r,o,i,a=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,n=t.withCollaboration,r=t.context,e.prev=1,e.next=4,this.createAdobeViewerPromise;case 4:return o=e.sent,e.next=7,o.getAnnotationManager();case 7:return i=e.sent,this.annotationMNGR=new Jb(i),e.next=11,Ib(i,{showToolsOnTextSelection:n});case 11:this.toggleHideAnnotations(),Ab(i,(function(e){return a.onAnnotationEvents(e)})),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(1),Et(e.t0.message,e.t0.code,{failureLocation:"PDF: Adobe embed sdk: createAnnotationManager failed"}),r.onError();case 19:case"end":return e.stop()}}),e,this,[[1,15]])}))),function(){return i.apply(this,arguments)})},{key:"setAdobeDCView",value:function(){var e=zt().locale;this.adobeDCView=new AdobeDC.View({clientId:"23e96689fd3240eaa9d6a9c5e454030e",divId:"adobe-dc-view",locale:e})}},{key:"clearViewerResources",value:function(){document.removeEventListener("adobe_dc_view_sdk.ready",this.onAdobeSDKReady);var e=document.getElementById("adobe-dc-view");e&&(e.innerHTML="",this.adobeDCView=null)}},{key:"updatePdfAnnotations",value:function(e){var t,n=this.props,r=n.currentNonPendingComments,o=n.comments,i=Vb(r.map((function(e){return e.id})),e.currentNonPendingComments.map((function(e){return e.id})));if(i.length&&null!==(t=o[i[0]].annotations)&&void 0!==t&&t.length){var a=o[i[0]].annotations[0];"#FCCB00"===a.target.selector.strokeColor&&this.annotationMNGR.updateAnnotation(a)}}},{key:"pendingCommentsSubmitted",value:function(e){var t=this.props,n=t.currentNonPendingComments,r=t.commentsIds;return n.length-1===e.currentNonPendingComments.length&&r.length-1===e.commentsIds.length}},{key:"removedComments",value:function(e){return this.props.pendingComments.length+1===e.pendingComments.length}},{key:"changedTempAnnotations",value:function(e){var t=this.props.tempAnnotations;return t.length&&e.length&&t[0].id!==e[0].id}},{key:"toggleHideAnnotations",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.props,n=t.fadedAnnotations,r=t.annotationsHidden;e?this.annotationMNGR.deleteAnnotations([]):this.annotationMNGR.addInitialAnnotations(n,r)}},{key:"currentCommentChanged",value:function(e){this.annotationMNGR&&(e?this.selectAnnotationByCurrentCommentId(e):this.annotationMNGR.unselectAnnotation())}},{key:"selectAnnotationByCurrentCommentId",value:function(e){var t,n=this.props.comments[e];null!=n&&null!==(t=n.annotations)&&void 0!==t&&t.length&&(this.annotationMNGR?this.annotationMNGR.selectAnnotation(n.annotations[0].id):this.goToAnnotationLocation(n.annotations[0]))}},{key:"commentsRemoved",value:function(e,t){var n=Vb(e,Object.keys(t));if(n.length){var r,o=t[n[0]];null!==(r=o.annotations)&&void 0!==r&&r.length&&this.annotationMNGR.deleteAnnotations(o.annotations.map((function(e){return e.id})))}}},{key:"deleteLastTempAnnotation",value:function(e){e.length&&this.annotationMNGR.deleteAnnotations([e[e.length-1].id])}},{key:"removeAnnotationsWithNoComments",value:function(e,t,n){var r,o,i=Vb(e,t.map((function(e){return e.annotations[0].id})));if(i.length){var a=(r=i,o=n.map((function(e){return e.id})),r.filter((function(e){return!o.includes(e)})));a.length&&this.annotationMNGR.deleteAnnotations(a)}}},{key:"commentsContainsAnnotation",value:function(e){var t=this.props.comments;return Object.values(t).filter((function(t){var n;return(null===(n=t.annotations)||void 0===n?void 0:n.length)&&e.includes(t.annotations[0].id)}))}},{key:"onViewerEvents",value:function(e){var t=this.props,n=t.setCurrentCommentId,r=t.currentCommentId;e.type===vb&&(this.stopLoader(),this.setState({showToolbarHider:!0})),e.type===Ob&&n(void 0),e.type===hb&&this.currentCommentChanged(r)}},{key:"stopLoader",value:function(){this.props.context.onMediaLoad({type:"pdf",element:this.iframeRef.current,api:{}})}},{key:"goToAnnotationLocation",value:(o=eg(regeneratorRuntime.mark((function e(t){var n,r,o,i,a,c,u,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.props.context,r=10,o=Math.round(screen.height/Hb()),i=parseInt(t.target.selector.node.index,10)+1,a=parseInt(t.target.selector.boundingBox[0],10),c=72*o-parseInt(t.target.selector.boundingBox[3],10),e.prev=7,e.next=10,this.createAdobeViewerPromise;case 10:return u=e.sent,e.next=13,u.getAPIs();case 13:s=e.sent,setTimeout((function(){return s.gotoLocation(i,a,c-r)}),0),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(7),Et(e.t0.message,e.t0.code,{failureLocation:"PDF: Adobe embed sdk: goToAnnotationLocation failed"}),n.onError();case 21:case"end":return e.stop()}}),e,this,[[7,17]])}))),function(e){return o.apply(this,arguments)})},{key:"onAnnotationEvents",value:function(e){var t=this.props,n=t.selectCommentIdByAnnotationId,r=t.deleteCommentByAnnotationId,o=t.updateCommentByAnnotation;switch(e.type){case ub:this.canEditAnnotation(e.data.id)||this.annotationMNGR.unselectAnnotation(),this.goToAnnotationLocation(e.data);break;case rb:n(e.data.id);break;case nb:this.onAnnotationAdded(e);break;case ib:r(e.data.id);break;case ob:o(e.data)}}},{key:"onAnnotationAdded",value:function(e){var t=this.props,n=t.overlayClicked,r=t.isActive,o=t.currentCommentId,i=t.fadedAnnotations,a=this.state.isTouch;this.annotationExists(e.data.id,i)||!r&&a?this.selectAnnotationByCurrentCommentId(o):(vn.emit("OVERLAY_CLICK_EVENT"),n(e.data))}},{key:"annotationExists",value:function(e,t){return t.findIndex((function(t){return t.id===e}))>=0}},{key:"canEditAnnotation",value:function(e){var t=this.props,n=t.pendingComments,r=t.tempAnnotations;return!(!n.length&&!r.length)&&n.filter((function(e){var t;return null===(t=e.annotations)||void 0===t?void 0:t.length})).map((function(e){return e.annotations[0]})).concat(r).findIndex((function(t){return t.id===e}))>=0}},{key:"render",value:function(){return u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"toolbar-overlay",style:{opacity:this.state.showToolbarHider?1:0},ref:this.iframeRef}),u.a.createElement("div",{id:"adobe-dc-view",style:{height:"".concat(100,"%"),width:"".concat(100,"%")}}))}}])&&tg(t.prototype,n),r&&tg(t,r),s}(c.PureComponent);ug.propTypes={filerr:Nu.isRequired,context:py,isActive:p.a.bool,overlayClicked:p.a.func.isRequired,fadedAnnotations:p.a.array,comments:p.a.object,setCurrentCommentId:p.a.func,currentCommentId:p.a.string,tempAnnotations:p.a.array,commentsIds:p.a.array,selectCommentIdByAnnotationId:p.a.func,deleteCommentByAnnotationId:p.a.func,updateCommentByAnnotation:p.a.func,commentBoxCancelled:p.a.bool,annotationsHidden:p.a.bool,pendingComments:p.a.array,withCollaboration:p.a.bool,currentNonPendingComments:p.a.array};var sg=Object(Oe.flow)(Object(ge.connect)((function(e){return{isActive:$n(e)&&!dr(e),fadedAnnotations:Hr(e),currentCommentId:sn(e),tempAnnotations:Wr(e),commentsIds:Cr(e),comments:gr(e),commentBoxCancelled:tb(e),annotationsHidden:Qy(e),pendingComments:Mr(e),withCollaboration:er(e),currentNonPendingComments:Qr(e)}}),{overlayClicked:$y,setCurrentCommentId:zo,selectCommentIdByAnnotationId:function(e){return function(t,n){var r=n(),o=Object.values(r.comments).find((function(t){return t.annotations&&t.annotations.length&&t.annotations[0].id===e}));o&&t(zo(o.id))}},deleteCommentByAnnotationId:function(e){return function(t,n){var r=n(),o=Object.values(r.comments).find((function(t){return t.annotations&&t.annotations.length&&t.annotations[0].id===e}));o&&t(uc(o.id))}},updateCommentByAnnotation:function(e){return function(t,n){var r=n(),o=Object.values(r.comments).find((function(t){return t.annotations&&t.annotations.length&&t.annotations[0].id===e.id}));o&&(o.annotations[0].target.selector.strokeColor=e.target.selector.strokeColor,t(cc(o)))}}}),_n(fy,(function(e){return{context:e}})))(ug);function lg(e){return(lg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dg(e,t){return(dg=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function hg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vg(e);if(t){var o=vg(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return mg(this,n)}}function mg(e,t){if(t&&("object"===lg(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function vg(e){return(vg=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var yg=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dg(e,t)}(i,e);var t,n,r,o=hg(i);function i(){return fg(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"setRef",value:function(e,t,n){n&&(e(n),t(n))}},{key:"render",value:function(){var e=this,t=this.props,n=t.filerr,r=t.context,o=we.a.get(n,"videoUrls.mediaUrl"),i=r.onError,a=r.setEmbeddedElementRef;return u.a.createElement("div",{className:"preview-container"},u.a.createElement("div",{className:"preview preview-video"},u.a.createElement(wy,{filerr:n},(function(t,n,r,c,s,l){return u.a.createElement("video",{ref:e.setRef.bind(e,s,a),src:o,preload:"auto",onTimeUpdate:t,onProgress:n,onWaiting:l,onEnded:r,onError:i,onLoadedMetadata:function(e){return c(e)}})}))))}}])&&pg(t.prototype,n),r&&pg(t,r),i}(c.PureComponent);yg.propTypes={filerr:Nu.isRequired,context:py};var bg=_n(fy,(function(e){return{context:e}}),yg),gg=(n("1NYb"),function(e){var t=e.className,n=e.onClick,r=e.text,o=e.fill;return u.a.createElement(Ll,{fill:o,size:"small","data-download-link":!0,onClick:n,className:h()(t,"btn-download-container")},u.a.createElement(Fm,null)," ",r)});gg.propTypes={className:p.a.string,onClick:p.a.func.isRequired,text:p.a.string,fill:p.a.string},gg.defaultProps={onClick:function(){return null},fill:"full"};var Og=gg,wg=(n("3xeu"),function(e){var t=e.icon,n=e.title,r=e.subtitle,o=e.footerContent,i=e.downloadUrl,a=e.type,c=e.i18n;return u.a.createElement("div",{className:"file-status-message-base"},u.a.createElement("span",{className:"icn-file"},"string"==typeof t?u.a.createElement("i",{className:t}):t),u.a.createElement("span",{className:"title-content"},n),u.a.createElement("span",{className:"subtitle-content"},r),u.a.createElement("div",{className:"footer-content"},o),u.a.createElement("div",{className:"btn-download-container"},i&&u.a.createElement(Og,{text:c.t("attachments_preview.header.download"),onClick:function(){return En(i,"Viewer",a)},className:"btn-lrg-standard btn-download"})))});wg.propTypes={icon:p.a.oneOfType([p.a.string,p.a.node,p.a.arrayOf(p.a.node)]).isRequired,title:p.a.string.isRequired,subtitle:p.a.string,downloadUrl:p.a.string,footerContent:p.a.string,type:p.a.string,i18n:p.a.shape({t:p.a.func})};var Cg=$c(wg),Eg=(n("n1rt"),function(e){var t=e.filerr,n=e.i18n;return u.a.createElement("div",{className:"file-not-supported-base"},u.a.createElement(Cg,{icon:"icn-file",title:t.fileName,subtitle:n.t("attachments_preview.media_viewer.file_not_supported"),downloadUrl:t.downloadUrl,type:t.previewType,footerContent:n.t("attachments_preview.media_viewer.file_supported_extensions")}))});Eg.propTypes={filerr:Nu.isRequired,i18n:p.a.shape({t:p.a.func})};var Sg=$c(Eg),_g=(n("VnGc"),function(e){var t=e.filerr,n=e.i18n;return u.a.createElement("div",{className:"file-not-ready-base"},u.a.createElement(Cg,{icon:"icn-file",title:n.t("attachments_preview.media_viewer.file_not_ready"),subtitle:n.t("attachments_preview.media_viewer.file_not_ready_subtitle"),downloadUrl:t.downloadUrl,type:t.previewType}))});_g.propTypes={filerr:Nu.isRequired,i18n:p.a.shape({t:p.a.func})};var kg=$c(_g);function Tg(){return u.a.createElement("svg",{width:"49px",height:"60px",viewBox:"0 0 49 60",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},u.a.createElement("title",null,"EBA5FB4C-3651-4C5E-A046-E2C0CABC8684"),u.a.createElement("desc",null,"Created with sketchtool."),u.a.createElement("defs",null,u.a.createElement("polygon",{id:"path-1",points:"0 0.218766603 48.9892857 0.218766603 48.9892857 59.772296 0 59.772296"})),u.a.createElement("g",{id:"Collaboration---Desktop",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},u.a.createElement("g",{id:"5.4.2-Viewer-Only---Error-Occurrded",transform:"translate(-658.000000, -317.000000)"},u.a.createElement("g",{id:"Error_Occurred",transform:"translate(658.000000, 317.000000)"},u.a.createElement("path",{d:"M37.4802381,30.9415787 L11.51,30.9415787 C10.8516667,30.9415787 10.3195238,31.4759431 10.3195238,32.1370247 C10.3195238,32.7981063 10.8516667,33.3324706 11.51,33.3324706 L37.4802381,33.3324706 C38.1385714,33.3324706 38.6707143,32.7981063 38.6707143,32.1370247 C38.6707143,31.4759431 38.1385714,30.9415787 37.4802381,30.9415787",id:"Fill-1",fill:"#FFFFFF"}),u.a.createElement("path",{d:"M37.4802381,38.354778 L11.51,38.354778 C10.8516667,38.354778 10.3195238,38.8891423 10.3195238,39.5502239 C10.3195238,40.2113055 10.8516667,40.7456698 11.51,40.7456698 L37.4802381,40.7456698 C38.1385714,40.7456698 38.6707143,40.2113055 38.6707143,39.5502239 C38.6707143,38.8891423 38.1385714,38.354778 37.4802381,38.354778",id:"Fill-3",fill:"#FFFFFF"}),u.a.createElement("path",{d:"M37.4802381,23.5273036 L11.51,23.5273036 C10.8516667,23.5273036 10.3195238,24.0616679 10.3195238,24.7227495 C10.3195238,25.3838311 10.8516667,25.9181954 11.51,25.9181954 L37.4802381,25.9181954 C38.1385714,25.9181954 38.6707143,25.3838311 38.6707143,24.7227495 C38.6707143,24.0616679 38.1385714,23.5273036 37.4802381,23.5273036",id:"Fill-5",fill:"#FFFFFF"}),u.a.createElement("path",{d:"M11.5095238,18.5049962 L23.9452381,18.5049962 C24.6035714,18.5049962 25.1357143,17.9706319 25.1357143,17.3095503 C25.1357143,16.6484687 24.6035714,16.1141044 23.9452381,16.1141044 L11.5095238,16.1141044 C10.8511905,16.1141044 10.3190476,16.6484687 10.3190476,17.3095503 C10.3190476,17.9706319 10.8511905,18.5049962 11.5095238,18.5049962",id:"Fill-7",fill:"#FFFFFF"}),u.a.createElement("g",{id:"Group-11",transform:"translate(0.000000, 0.009416)"},u.a.createElement("mask",{id:"mask-2",fill:"white"},u.a.createElement("use",{xlinkHref:"#path-1"})),u.a.createElement("g",{id:"Clip-10"}),u.a.createElement("path",{d:"M41.4888095,56.9167343 L33.8328571,49.5049696 C33.6019048,49.2814213 33.3042857,49.1702448 33.0066667,49.1702448 C32.7090476,49.1702448 32.4114286,49.2814213 32.1804762,49.5049696 L24.5245238,56.9167343 L16.8685714,49.5049696 C16.4066667,49.0590683 15.6757143,49.0590683 15.2161905,49.5049696 L7.81380952,56.6728634 L2.4197619,51.4499602 L2.38047619,3.4671518 C2.38047619,2.99495066 2.765,2.60882163 3.23642857,2.60882163 L35.99,2.60882163 L35.9995238,11.9560133 C36.0007143,12.614704 36.5328571,13.1502638 37.19,13.1502638 L46.6090476,13.1502638 L46.6090476,51.9604156 L41.4888095,56.9167343 Z M45.762619,10.7593719 L38.3792857,10.7593719 L38.3721429,3.44324288 L45.762619,10.7593719 Z M48.0245238,9.64043454 L39.4519048,1.15515939 C38.8435714,0.551459203 38.037619,0.217929791 37.1792857,0.217929791 L37.1780952,0.217929791 L3.23642857,0.217929791 C1.45190476,0.217929791 -0.000476190476,1.67517837 -0.000476190476,3.46834725 L0.0388095238,51.9592201 C0.0388095238,52.283186 0.169761905,52.5928065 0.401904762,52.8175503 L6.98761905,59.1940588 C7.44952381,59.6399602 8.17809524,59.6399602 8.64,59.1940588 L16.042381,52.0249696 L23.6983333,59.4367343 C24.1602381,59.8826357 24.8888095,59.8826357 25.3507143,59.4367343 L33.0066667,52.0249696 L40.662619,59.4367343 C40.8935714,59.6602827 41.1911905,59.7726546 41.4888095,59.7726546 C41.7864286,59.7726546 42.0840476,59.6602827 42.315,59.4367343 L48.6257143,53.3280057 C48.8578571,53.1032619 48.99,52.7924459 48.99,52.4672846 L48.99,11.9548178 C48.99,11.0905104 48.637619,10.2465256 48.0245238,9.64043454 Z",id:"Fill-9",fill:"#FFFFFF",mask:"url(#mask-2)"})),u.a.createElement("polygon",{id:"Path-2",fillOpacity:"0.2",fill:"#FFFFFF",fillRule:"nonzero",points:"1.26483624 2.48361895 1.26483624 52.273658 7.65944261 58.0645161 15.9193773 50.6108241 24.6013935 58.0645161 33.018611 50.6108241 41.1536584 58.0645161 48.2431265 52.273658 48.2431265 12.2720829 37.489671 11.6143208 37.489671 1.24464466 2.58648212 1.24464466"})))))}n("bmcz");var Pg=function(e){var t=e.filerr,n=e.i18n;return u.a.createElement("div",{className:"error-occurred"},u.a.createElement(Cg,{icon:u.a.createElement(Tg,null),title:n.t("attachments_preview.media_viewer.error_ccurred"),subtitle:n.t("attachments_preview.media_viewer.error_ccurred_subtitle"),downloadUrl:t.downloadUrl,type:t.previewType}))};Pg.propTypes={filerr:Nu.isRequired,i18n:p.a.shape({t:p.a.func})};var jg=$c(Pg);n("yGgh");function Rg(e){return(Rg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ng(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ig(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ng(Object(n),!0).forEach((function(t){xg(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ng(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ag(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lg(e,t){return(Lg=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Dg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Fg(e);if(t){var o=Fg(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Mg(this,n)}}function Mg(e,t){if(t&&("object"===Rg(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Bg(e)}function Bg(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fg(e){return(Fg=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Vg=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Lg(e,t)}(i,e);var t,n,r,o=Dg(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).getViewerByFile=t.getViewerByFile.bind(Bg(t)),t.updateCurrentViewerByFile=t.updateCurrentViewerByFile.bind(Bg(t)),t.onMediaLoad=t.onMediaLoad.bind(Bg(t)),t.reportViewerLoadEvents=t.reportViewerLoadEvents.bind(Bg(t)),t.onError=t.onError.bind(Bg(t)),t.updateMarkersInContext=t.updateMarkersInContext.bind(Bg(t)),t.setEmbeddedElementRef=t.setEmbeddedElementRef.bind(Bg(t)),t.onResizeHandler=t.onResizeHandler.bind(Bg(t)),t.rebindObserver=t.rebindObserver.bind(Bg(t)),t.setMediaViewRef=t.setMediaViewRef.bind(Bg(t)),t.resizeObserver=new Bs.a(t.onResizeHandler),t.state={hasForceError:!1,previewMessageStyle:null,context:{onMediaLoad:t.onMediaLoad,onPlay:e.onPlay,onMarkerClick:e.onMarkerClick,markers:e.markers,markersTemplate:e.markersTemplate,onError:t.onError,setEmbeddedElementRef:t.setEmbeddedElementRef,onProgressClick:e.onProgressClick}},t}return t=i,(n=[{key:"componentDidMount",value:function(){this.updateCurrentViewerByFile(),this.reportViewerLoadEvents(),window.addEventListener("resize",this.onResizeHandler),this.rebindObserver()}},{key:"componentDidUpdate",value:function(e,t){this.props.filerr!==e.filerr&&(this.updateCurrentViewerByFile().then(this.reportViewerLoadEvents).catch((function(e){return e})),this.rebindObserver(),this.onResizeHandler()),this.state.hasForceError&&!t.hasForceError&&this.reportViewerLoadEvents(),!this.state.hasForceError&&t.hasForceError&&(this.rebindObserver(),this.onResizeHandler()),this.props.markers!==e.markers&&this.updateMarkersInContext()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onResizeHandler),this.resizeObserver.disconnect()}},{key:"rebindObserver",value:function(){this.embeddedElementRef&&this.resizeObserver.observe(this.embeddedElementRef)}},{key:"setEmbeddedElementRef",value:function(e){e&&(this.embeddedElementRef=e)}},{key:"setMediaViewRef",value:function(e){e&&(this.mediaViewerRef=e)}},{key:"onResizeHandler",value:function(){if(this.props.filerr.previewMessage&&this.embeddedElementRef){var e=this.embeddedElementRef.getBoundingClientRect();this.setState({previewMessageStyle:{visibility:"initial",bottom:e.top-25}})}}},{key:"updateMarkersInContext",value:function(){this.setState({context:Ig(Ig({},this.state.context),{},{markers:this.props.markers})})}},{key:"onMediaLoad",value:function(e){var t=this.props.onLoad;t&&t(e),this.setState({isLoading:!1})}},{key:"updateCurrentViewerByFile",value:function(){var e=this;return new Promise((function(t){var n=e.getViewerByFile(e.props.filerr),r=Object.values(a).indexOf(n)>-1;e.onMediaLoad(null),e.setState({isLoading:r,hasForceError:!1},t)}))}},{key:"reportViewerLoadEvents",value:function(){var e=this.props,t=e.filerr,n=e.source,r=this.getViewerByFile(t),o=t||{},i=o.id,a=o.previewType,c=o.previewState;r===Sg?(xc({group:"collaboration",type:"seen_file_preview_not_supported"}),pn({eventName:"Opened file viewer",eventData:{"File Type":a,"File state":"Not Supported","Related Flow":n}})):r===jg?(xc({group:"collaboration",type:"seen_file_preview_error"}),pn({eventName:"Opened file viewer",eventData:{"File Type":a,"File state":"Error Occurred","Attachment Id":i,"Related Flow":n}}),Ev({label:"collaboration.file_preview_error"})):c&&"processing"===c?pn({eventName:"Opened file viewer",eventData:{"File Type":a,"File state":"Pending","Related Flow":n}}):(xc({group:"collaboration",type:"clicked_file_preview_show"}),pn({eventName:"Opened file viewer",eventData:{"File Type":a,"File state":"Ready","Related Flow":n}}))}},{key:"getViewerByFile",value:function(e){var t=this.props.eligibleToPdfViewer;if(!e||this.state.hasForceError)return jg;var n=e.previewState,r=e.previewType,o=Object(Oe.startCase)(r);return n&&"processing"===n?kg:("pdf"!==r||t)&&a[o]||Sg}},{key:"onError",value:function(){this.setState({hasForceError:!0,isLoading:!1})}},{key:"render",value:function(){var e=this.state,t=e.isLoading,n=e.previewMessageStyle,r=e.currentViewerWrapperStyle,o=this.props.filerr,i=this.getViewerByFile(o),a=h()("media-viewer-package",{loading:t});return u.a.createElement(fy.Provider,{value:this.state.context},u.a.createElement("div",{className:a,ref:this.setMediaViewRef},o&&o.previewMessage&&u.a.createElement(Av,{text:o.previewMessage,style:n,elementRef:this.setPreviewMessageRef}),u.a.createElement("div",{className:"current-viewer-wrapper",style:r},u.a.createElement(i,{filerr:o}))))}}])&&Ag(t.prototype,n),r&&Ag(t,r),i}(c.Component);Vg.propTypes={source:p.a.string,filerr:Nu.isRequired,onLoad:p.a.func,markers:p.a.array,markersTemplate:p.a.func,onMarkerClick:p.a.func,onProgressClick:p.a.func,onPlay:p.a.func,eligibleToPdfViewer:p.a.bool};Vg.defaultProps={source:"Not Defined",onLoad:function(){return null},extraControls:null,onMarkerClick:function(){return null},onProgressClick:function(){return null},onPlay:function(){return null}};var Ug=Object(ge.connect)((function(e){return{eligibleToPdfViewer:fr(e)}}))(Vg);var Hg=function(e){var t=e.annotationsHidden,n=e.showAnnotationsToggle,r=e.toggleAnnotationsVisible,o=e.i18n;if(!n)return null;return u.a.createElement("button",{className:"hide-annotations",onClick:function(e){e.preventDefault(),r()}},u.a.createElement("i",{className:"fa ".concat(t?"fa-eye":"fa-eye-slash")}),t?o.t("attachments_preview.collaboration.annotations.show"):o.t("attachments_preview.collaboration.annotations.hide"))};Hg.propTypes={annotationsHidden:p.a.bool,showAnnotationsToggle:p.a.bool,toggleAnnotationsVisible:p.a.func.isRequired,i18n:p.a.shape({t:p.a.func})},Hg.defaultProps={annotationsHidden:!1,showAnnotationsToggle:!1};var Wg=Object(Te.compose)($c,Object(ge.connect)(null,{toggleAnnotationsVisible:function(){return{type:"TOGGLE_ANNOTATIONS_VISIBILITY_CLICK"}}}))(Hg);function Gg(e){return(Gg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zg(e,t){return(zg=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Yg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Xg(e);if(t){var o=Xg(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Kg(this,n)}}function Kg(e,t){if(t&&("object"===Gg(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Zg(e)}function Zg(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xg(e){return(Xg=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Jg=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zg(e,t)}(i,e);var t,n,r,o=Yg(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this)).markersSetUp=e.markersSetUp.bind(Zg(e)),e}return t=i,(n=[{key:"markersSetUp",value:function(e){var t=Object(Oe.find)(this.props.collaborators,(function(t){return t.id===e.collaboratorId}));return t&&u.a.createElement(Mu,{username:t.username,src:t.userImage,size:16,className:"avatar-marker"})}},{key:"render",value:function(){var e=this.props,t=e.onMediaLoad,n=e.filerr,r=e.markers,o=e.source,i=e.children,a=e.onMarkerClick,c=e.onProgressClick,s=e.onPlay,l=e.close;return u.a.createElement(gv,{close:l},i,u.a.createElement(Ug,{filerr:n,source:o,onLoad:t,markers:r,markersTemplate:this.markersSetUp,onMarkerClick:a,onProgressClick:c,onPlay:s,extraControls:u.a.createElement(Wg,null)}))}}])&&qg(t.prototype,n),r&&qg(t,r),i}(c.Component);Jg.propTypes={source:p.a.string,filerr:Nu.isRequired,onMediaLoad:p.a.func,collaborators:p.a.array,markers:p.a.array,onMarkerClick:p.a.func,onProgressClick:p.a.func,onPlay:p.a.func,children:p.a.any,close:p.a.func},Jg.defaultProps={loadedMedia:{},currentFile:null,source:null,markers:[],collaborators:[],onMarkerClick:function(){return!0},onProgressClick:function(){return!0},onPlay:function(){return!0}};var $g=Object(ge.connect)((function(e){return{filerr:pa(e),collaborators:ho(e),markers:Dr(e),source:ir(e)}}))(Jg),Qg=n("M96Z"),eO=n.n(Qg),tO=function(){return u.a.createElement("svg",{className:"desktop-open",width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},u.a.createElement("path",{className:"circle",d:"M20 40C31.0457 40 40 31.0457 40 20C40 8.9543 31.0457 0 20 0C8.9543 0 0 8.9543 0 20C0 31.0457 8.9543 40 20 40Z",fill:"black",fillOpacity:"0.5"}),u.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M29.9481 25.7755C29.8293 26.1383 29.6153 26.4331 29.3062 26.6599C28.9972 26.8866 28.6524 27 28.272 27C27.1071 27 25.8946 26.6599 24.6345 25.9796C23.7073 26.1837 22.7504 26.2517 21.7638 26.1837C20.7771 26.1156 19.8559 25.9002 19 25.5374C20.4978 25.424 21.8767 25.0952 23.1368 24.551C23.7549 24.5057 24.3374 24.4036 24.8842 24.2449C26.1204 24.9932 27.2497 25.3673 28.272 25.3673C27.2973 24.8685 26.7505 24.1995 26.6316 23.3605C27.1071 23.0204 27.4875 22.6349 27.7728 22.2041C28.1056 21.6825 28.272 21.1497 28.272 20.6054C28.272 20.2426 28.1888 19.8798 28.0224 19.517C28.2839 18.678 28.3434 17.839 28.2007 17C28.7713 17.5215 29.2111 18.0941 29.5202 18.7177C29.8293 19.3413 29.9838 19.9705 29.9838 20.6054C29.9838 21.7392 29.5677 22.771 28.7356 23.7007C28.8307 23.7914 28.9496 23.8707 29.0922 23.9388C29.4251 24.1202 29.6747 24.381 29.8411 24.7211C30.0076 25.0612 30.0432 25.4127 29.9481 25.7755Z",fill:"white"}),u.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.0076 12C20.6061 12 22.038 12.316 23.3035 12.9479C24.458 13.5122 25.3627 14.2569 26.0176 15.1823C26.6725 16.1076 27 17.0668 27 18.0599C27 18.8498 26.7946 19.6115 26.3839 20.3451C25.9732 21.0786 25.4126 21.7274 24.7022 22.2917C23.9917 22.8559 23.1703 23.296 22.2378 23.612C21.2388 23.9505 20.162 24.1198 19.0076 24.1198C18.1861 24.1198 17.398 24.0295 16.6431 23.849C15.2223 24.6163 13.8791 25 12.6136 25C12.2362 25 11.9032 24.8815 11.6146 24.6445C11.326 24.4076 11.1372 24.1085 11.0484 23.7474C10.9596 23.3863 10.9929 23.0365 11.1483 22.6979C11.3038 22.3594 11.548 22.0998 11.881 21.9193C12.1252 21.8064 12.325 21.6823 12.4804 21.5469C12.2362 21.276 12.0142 20.9939 11.8144 20.7005C11.2816 19.8655 11.0151 18.9683 11.0151 18.0091C11.0151 17.0499 11.3426 16.1076 11.9975 15.1823C12.6525 14.2569 13.5572 13.5122 14.7116 12.9479C15.9771 12.316 17.4091 12 19.0076 12Z",fill:"white"}))},nO=function(){return u.a.createElement("svg",{className:"desktop-close",width:"40px",height:"40px",viewBox:"0 0 40 40",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},u.a.createElement("g",{id:"Hide"},u.a.createElement("circle",{id:"Oval-5",fill:"transparent",fillRule:"nonzero",cx:"20",cy:"20",r:"20"}),u.a.createElement("path",{d:"M11.7483517,28.6372417 C10.9539072,28.6372417 10.3039071,28.1872417 10.3039071,27.6372417 C10.3039071,27.0872417 10.9539072,26.6372417 11.7483517,26.6372417 L26.1927972,26.6372417 C26.9872417,26.6372417 27.6372417,27.0872417 27.6372417,27.6372417 C27.6372417,28.1872417 26.9872417,28.6372417 26.1927972,28.6372417 L11.7483517,28.6372417 Z M15.39417,19.7920464 L18.0088262,19.7920464 L18.0088262,11.6577496 C18.0088262,11.1288384 18.4436522,10.6960929 18.9751063,10.6960929 C19.5065603,10.6960929 19.9413863,11.1288384 19.9413863,11.6577496 L19.9413863,19.7920464 L22.4213685,19.7920464 C22.7112526,19.7920464 22.9286656,20.0084191 22.9286656,20.2969161 C22.9286656,20.3930818 22.9045086,20.4652061 22.8561946,20.5373303 L19.4099323,24.8647855 C19.2649903,25.1051997 18.9751063,25.1773239 18.7335363,25.0571168 C18.6610653,25.009034 18.5885943,24.9609512 18.5402803,24.8647855 L14.959344,20.5613717 C14.838559,20.3209576 14.91103,20.0084191 15.1526,19.8641706 C15.225071,19.8160878 15.321699,19.7920464 15.39417,19.7920464 Z",id:"Fill-1",fill:"#999999",transform:"translate(18.970574, 19.666667) rotate(-90.000000) translate(-18.970574, -19.666667) "})))},rO=function(){return u.a.createElement("svg",{className:"mobile-open",version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"127px",height:"40px",viewBox:"0 0 127 40"},u.a.createElement("g",{id:"Collaboration---Mobile"},u.a.createElement("g",{id:"Comments"},u.a.createElement("path",{className:"background",fillOpacity:".4",fill:"#000",id:"Rectangle-18",d:"M20,0h87c11,0,20,9,20,20l0,0c0,11-9,20-20,20H20C9,40,0,31,0,20l0,0C0,9,9,0,20,0z"}),u.a.createElement("path",{fill:"#fff",d:"M45.6,18.8c0-0.2-0.1-0.4-0.2-0.6c-0.1-0.2-0.3-0.4-0.5-0.5c-0.2-0.1-0.4-0.3-0.6-0.3 c-0.2-0.1-0.5-0.1-0.7-0.1c-0.5,0-0.8,0.1-1.2,0.3c-0.3,0.2-0.6,0.4-0.8,0.7c-0.2,0.3-0.3,0.6-0.4,1C41.1,19.6,41,20,41,20.4 c0,0.4,0,0.8,0.1,1.1c0.1,0.4,0.2,0.7,0.4,1c0.2,0.3,0.5,0.5,0.8,0.7c0.3,0.2,0.7,0.3,1.2,0.3c0.6,0,1.1-0.2,1.5-0.6 c0.4-0.4,0.6-0.9,0.6-1.5h2c-0.1,0.6-0.2,1.1-0.4,1.6s-0.5,0.9-0.9,1.2c-0.4,0.3-0.8,0.6-1.2,0.8s-1,0.3-1.6,0.3 c-0.7,0-1.3-0.1-1.9-0.4s-1-0.6-1.4-1c-0.4-0.4-0.7-0.9-0.9-1.5S39,21.1,39,20.4c0-0.7,0.1-1.3,0.3-1.9c0.2-0.6,0.5-1.1,0.9-1.6 c0.4-0.4,0.9-0.8,1.4-1c0.6-0.3,1.2-0.4,1.9-0.4c0.5,0,1,0.1,1.4,0.2s0.9,0.4,1.2,0.6s0.7,0.6,0.9,1c0.2,0.4,0.4,0.9,0.4,1.4H45.6 z M50.9,21.6c0,0.3,0,0.5,0.1,0.8c0.1,0.3,0.1,0.5,0.3,0.7s0.3,0.4,0.5,0.5c0.2,0.1,0.5,0.2,0.8,0.2s0.6-0.1,0.8-0.2 s0.4-0.3,0.5-0.5s0.2-0.4,0.3-0.7c0.1-0.3,0.1-0.5,0.1-0.8s0-0.5-0.1-0.8c-0.1-0.3-0.1-0.5-0.3-0.7c-0.1-0.2-0.3-0.4-0.5-0.5 s-0.5-0.2-0.8-0.2s-0.6,0.1-0.8,0.2c-0.2,0.1-0.4,0.3-0.5,0.5c-0.1,0.2-0.2,0.4-0.3,0.7C50.9,21.1,50.9,21.4,50.9,21.6z M49.1,21.6c0-0.5,0.1-1,0.2-1.5c0.2-0.4,0.4-0.8,0.7-1.1c0.3-0.3,0.7-0.5,1.1-0.7s0.9-0.3,1.4-0.3c0.5,0,1,0.1,1.4,0.3 s0.8,0.4,1.1,0.7s0.5,0.7,0.7,1.1c0.2,0.4,0.2,0.9,0.2,1.5s-0.1,1-0.2,1.5c-0.2,0.4-0.4,0.8-0.7,1.1c-0.3,0.3-0.7,0.5-1.1,0.7 c-0.4,0.2-0.9,0.2-1.4,0.2c-0.5,0-1-0.1-1.4-0.2c-0.4-0.2-0.8-0.4-1.1-0.7c-0.3-0.3-0.5-0.7-0.7-1.1 C49.1,22.7,49.1,22.2,49.1,21.6z M57.7,18.3h1.7v0.9h0c0.2-0.3,0.5-0.6,0.9-0.8c0.3-0.2,0.7-0.3,1.2-0.3c0.4,0,0.8,0.1,1.2,0.2 s0.6,0.5,0.8,0.9c0.2-0.3,0.5-0.6,0.8-0.8c0.3-0.2,0.7-0.3,1.2-0.3c0.4,0,0.7,0,1,0.1c0.3,0.1,0.6,0.2,0.8,0.4 c0.2,0.2,0.4,0.4,0.5,0.7c0.1,0.3,0.2,0.7,0.2,1.1V25h-1.8v-3.8c0-0.2,0-0.4,0-0.6c0-0.2-0.1-0.4-0.1-0.5 c-0.1-0.1-0.2-0.3-0.3-0.4c-0.2-0.1-0.4-0.1-0.6-0.1s-0.5,0-0.6,0.1c-0.2,0.1-0.3,0.2-0.4,0.4c-0.1,0.2-0.2,0.3-0.2,0.5 c0,0.2,0,0.4,0,0.6V25h-1.8v-3.8c0-0.2,0-0.4,0-0.6s0-0.4-0.1-0.5c-0.1-0.2-0.2-0.3-0.3-0.4c-0.2-0.1-0.4-0.1-0.7-0.1 c-0.1,0-0.2,0-0.3,0.1c-0.1,0-0.3,0.1-0.4,0.2c-0.1,0.1-0.2,0.3-0.3,0.5c-0.1,0.2-0.1,0.5-0.1,0.8V25h-1.8V18.3z M69.9,18.3h1.7 v0.9h0c0.2-0.3,0.5-0.6,0.9-0.8c0.3-0.2,0.7-0.3,1.2-0.3c0.4,0,0.8,0.1,1.2,0.2c0.4,0.2,0.6,0.5,0.8,0.9c0.2-0.3,0.5-0.6,0.8-0.8 c0.3-0.2,0.7-0.3,1.2-0.3c0.4,0,0.7,0,1,0.1c0.3,0.1,0.6,0.2,0.8,0.4c0.2,0.2,0.4,0.4,0.5,0.7c0.1,0.3,0.2,0.7,0.2,1.1V25h-1.8 v-3.8c0-0.2,0-0.4,0-0.6c0-0.2-0.1-0.4-0.1-0.5c-0.1-0.1-0.2-0.3-0.3-0.4c-0.2-0.1-0.4-0.1-0.6-0.1s-0.5,0-0.6,0.1 c-0.2,0.1-0.3,0.2-0.4,0.4c-0.1,0.2-0.2,0.3-0.2,0.5c0,0.2,0,0.4,0,0.6V25h-1.8v-3.8c0-0.2,0-0.4,0-0.6s0-0.4-0.1-0.5 c-0.1-0.2-0.2-0.3-0.3-0.4c-0.2-0.1-0.4-0.1-0.7-0.1c-0.1,0-0.2,0-0.3,0.1c-0.1,0-0.3,0.1-0.4,0.2c-0.1,0.1-0.2,0.3-0.3,0.5 c-0.1,0.2-0.1,0.5-0.1,0.8V25h-1.8V18.3z M86.6,20.9c-0.1-0.5-0.2-0.8-0.5-1.1c-0.2-0.2-0.6-0.4-1-0.4c-0.3,0-0.5,0-0.7,0.1 c-0.2,0.1-0.4,0.2-0.5,0.4c-0.1,0.1-0.2,0.3-0.2,0.5s-0.1,0.3-0.1,0.4H86.6z M83.6,22.1c0,0.6,0.2,1,0.5,1.3 c0.3,0.3,0.7,0.4,1.2,0.4c0.4,0,0.7-0.1,1-0.3c0.3-0.2,0.4-0.4,0.5-0.6h1.6c-0.3,0.8-0.7,1.4-1.2,1.7s-1.2,0.5-1.9,0.5 c-0.5,0-1-0.1-1.4-0.3c-0.4-0.2-0.8-0.4-1.1-0.7s-0.5-0.7-0.7-1.1c-0.2-0.4-0.2-0.9-0.2-1.4c0-0.5,0.1-1,0.2-1.4 c0.2-0.4,0.4-0.8,0.7-1.1c0.3-0.3,0.7-0.6,1.1-0.7c0.4-0.2,0.9-0.3,1.4-0.3c0.6,0,1.1,0.1,1.5,0.3c0.4,0.2,0.8,0.5,1,0.9 c0.3,0.4,0.5,0.8,0.6,1.3c0.1,0.5,0.2,1,0.1,1.5H83.6z M89.9,18.3h1.8v0.9h0c0.2-0.4,0.5-0.7,0.9-0.9c0.4-0.2,0.8-0.3,1.1-0.3 c0.5,0,0.9,0.1,1.2,0.2c0.3,0.1,0.6,0.3,0.7,0.6c0.2,0.2,0.3,0.5,0.4,0.9c0.1,0.3,0.1,0.7,0.1,1.1V25h-1.8v-3.8 c0-0.6-0.1-1-0.3-1.2c-0.2-0.3-0.5-0.4-0.9-0.4c-0.5,0-0.9,0.1-1.1,0.4c-0.2,0.3-0.3,0.8-0.3,1.5V25h-1.8V18.3z M100.4,18.3h1.4 v1.2h-1.4v3.3c0,0.3,0.1,0.5,0.2,0.6c0.1,0.1,0.3,0.2,0.6,0.2c0.1,0,0.2,0,0.3,0c0.1,0,0.2,0,0.3,0V25c-0.2,0-0.3,0-0.5,0.1 c-0.2,0-0.4,0-0.6,0c-0.3,0-0.6,0-0.8-0.1s-0.5-0.1-0.7-0.2c-0.2-0.1-0.3-0.3-0.5-0.5c-0.1-0.2-0.2-0.5-0.2-0.8v-4h-1.1v-1.2h1.1 v-2h1.8V18.3z M104.5,22.8c0,0.2,0,0.4,0.1,0.5c0.1,0.1,0.2,0.3,0.3,0.4c0.1,0.1,0.3,0.2,0.4,0.2s0.3,0.1,0.5,0.1 c0.1,0,0.3,0,0.4,0c0.1,0,0.3-0.1,0.4-0.1c0.1-0.1,0.2-0.2,0.3-0.3c0.1-0.1,0.1-0.2,0.1-0.4c0-0.3-0.2-0.5-0.6-0.6 c-0.4-0.1-0.9-0.3-1.5-0.4c-0.3-0.1-0.5-0.1-0.8-0.2c-0.3-0.1-0.5-0.2-0.7-0.3c-0.2-0.1-0.4-0.3-0.5-0.5c-0.1-0.2-0.2-0.5-0.2-0.7 c0-0.4,0.1-0.8,0.3-1.1c0.2-0.3,0.4-0.5,0.7-0.7c0.3-0.2,0.6-0.3,0.9-0.3c0.3-0.1,0.7-0.1,1.1-0.1s0.7,0,1.1,0.1 c0.3,0.1,0.6,0.2,0.9,0.4s0.5,0.4,0.7,0.7s0.3,0.6,0.3,1h-1.8c0-0.4-0.2-0.6-0.4-0.7s-0.5-0.2-0.9-0.2c-0.1,0-0.2,0-0.3,0 c-0.1,0-0.2,0-0.3,0.1c-0.1,0-0.2,0.1-0.3,0.2c-0.1,0.1-0.1,0.2-0.1,0.3c0,0.2,0.1,0.3,0.2,0.4c0.1,0.1,0.3,0.2,0.5,0.3 c0.2,0.1,0.4,0.1,0.7,0.2s0.5,0.1,0.8,0.2c0.3,0.1,0.5,0.1,0.8,0.2c0.3,0.1,0.5,0.2,0.7,0.3c0.2,0.1,0.4,0.3,0.5,0.5 c0.1,0.2,0.2,0.5,0.2,0.8c0,0.4-0.1,0.8-0.3,1.1s-0.4,0.5-0.7,0.7c-0.3,0.2-0.6,0.3-1,0.4s-0.7,0.1-1.1,0.1c-0.4,0-0.8,0-1.1-0.1 c-0.4-0.1-0.7-0.2-1-0.4s-0.5-0.4-0.7-0.7c-0.2-0.3-0.3-0.7-0.3-1.1H104.5z"}),u.a.createElement("path",{fill:"#fff",id:"comments",d:"M32.2,24.9c-0.1,0.3-0.3,0.5-0.5,0.7c-0.2,0.2-0.5,0.3-0.8,0.3c-0.9,0-1.9-0.3-2.9-0.8 c-0.7,0.2-1.5,0.2-2.3,0.2c-0.8-0.1-1.5-0.2-2.2-0.5c1.2-0.1,2.3-0.4,3.3-0.8c0.5,0,1-0.1,1.4-0.3c1,0.6,1.9,0.9,2.7,0.9 c-0.8-0.4-1.2-1-1.3-1.7c0.4-0.3,0.7-0.6,0.9-1c0.3-0.4,0.4-0.9,0.4-1.3c0-0.3-0.1-0.6-0.2-0.9c0.2-0.7,0.3-1.4,0.1-2.1 c0.5,0.4,0.8,0.9,1,1.4c0.2,0.5,0.4,1,0.4,1.6c0,0.9-0.3,1.8-1,2.6c0.1,0.1,0.2,0.1,0.3,0.2c0.3,0.2,0.5,0.4,0.6,0.6 S32.3,24.6,32.2,24.9z M22.8,14.6c-1.1,0-2.1,0.2-2.9,0.6C19,15.6,18.4,16,18,16.6c-0.4,0.6-0.6,1.1-0.6,1.7c0,0.5,0.2,1,0.5,1.5 c0.3,0.4,0.6,0.8,1.1,1.1c-0.1,0.8-0.6,1.4-1.6,1.9c1,0,2.1-0.4,3.2-1.1c0.7,0.2,1.4,0.3,2.2,0.3c1.1,0,2.1-0.2,2.9-0.6 c0.8-0.4,1.4-0.8,1.9-1.4c0.4-0.6,0.6-1.1,0.6-1.7c0-0.6-0.2-1.1-0.6-1.7c-0.5-0.6-1.1-1.1-1.9-1.4C24.8,14.8,23.9,14.6,22.8,14.6 z M22.8,13.3c1.4,0,2.6,0.3,3.6,0.8c1,0.5,1.7,1.1,2.3,1.9c0.6,0.8,0.8,1.6,0.8,2.4c0,0.7-0.2,1.3-0.5,1.9 c-0.3,0.6-0.8,1.2-1.4,1.6c-0.6,0.5-1.3,0.8-2.1,1.1c-0.8,0.3-1.8,0.4-2.7,0.4c-0.7,0-1.4-0.1-2-0.2c-1.2,0.6-2.3,1-3.4,1 c-0.3,0-0.6-0.1-0.8-0.3s-0.4-0.4-0.5-0.7c-0.1-0.3,0-0.6,0.1-0.9c0.1-0.3,0.3-0.5,0.6-0.6c0.2-0.1,0.4-0.2,0.5-0.3 c-0.2-0.2-0.4-0.5-0.6-0.7c-0.5-0.7-0.7-1.4-0.7-2.2c0-0.8,0.3-1.6,0.8-2.4c0.6-0.8,1.3-1.4,2.3-1.9 C20.2,13.5,21.4,13.3,22.8,13.3z"}))))},oO=function(){return u.a.createElement("svg",{className:"mobile-close",width:"40",height:"40",xmlns:"http://www.w3.org/2000/svg"},u.a.createElement("g",{fill:"none",fillRule:"evenodd"},u.a.createElement("circle",{fillOpacity:".4",fill:"transparent",fillRule:"nonzero",cx:"20",cy:"20",r:"20"}),u.a.createElement("path",{fill:"#95979D",d:"M22.0859182 27.433557c-.0703123.0703123-.1640623.1054685-.2812493.1054685-.117187 0-.2226555-.0351562-.3164055-.1054685l-7.3476387-7.3827949C14.0468747 19.9804497 14 19.8866998 14 19.7695127c0-.117187.0468747-.210937.1406247-.2812493l7.3476387-7.3827949c.09375-.0703123.1992185-.1054685.3164055-.1054685.117187 0 .210937.0351562.2812493.1054685l.7031233.7031233c.09375.0703124.1406247.1640623.1406247.2812494 0 .117187-.0468747.2226555-.1406247.3164054l-6.363266 6.3632661 6.363266 6.3632661c.09375.09375.1406247.1992185.1406247.3164055 0 .117187-.0468747.210937-.1406247.2812493l-.7031233.7031234z"})))};n("UfCg");function iO(e){return(iO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function aO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cO(e,t){return(cO=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function uO(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=fO(e);if(t){var o=fO(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return sO(this,n)}}function sO(e,t){if(t&&("object"===iO(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return lO(e)}function lO(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fO(e){return(fO=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var pO=Ms.POSITIONS,dO=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cO(e,t)}(i,e);var t,n,r,o=uO(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={isTouch:mn()},t.onToggleClick=t.onToggleClick.bind(lO(t)),t}return t=i,(n=[{key:"componentDidMount",value:function(){this.state.isTouch&&vn.on("ANNOTATION_CLICK_EVENT",this.props.onClick)}},{key:"onToggleClick",value:function(){var e=this.props,t=e.isOpen,n=e.onClick;pn({eventName:"Clicked collaboration toggle panel",eventData:{"Toggle State":!t}}),n()}},{key:"render",value:function(){var e=this.props,t=e.isOpen,n=e.collaborationsTabSelected,r=e.i18n,o=h()("comment-panel-toggle",{open:t,"dark-theme":n});return u.a.createElement("button",{className:o,onClick:this.onToggleClick},u.a.createElement(Ms,{content:u.a.createElement("p",{className:"tooltip"},r.t("attachments_preview.collaboration.comments.comments")),className:"tooltip-container",delay:!0,position:pO.LEFT},u.a.createElement(tO,null)),u.a.createElement(Ms,{content:u.a.createElement("p",{className:"tooltip"},r.t("attachments_preview.collaboration.comments.hide_comments")),className:"tooltip-container",delay:!0,position:pO.LEFT},u.a.createElement(nO,null)),u.a.createElement(rO,null),u.a.createElement(oO,null))}}])&&aO(t.prototype,n),r&&aO(t,r),i}(c.Component);dO.propTypes={onClick:p.a.func.isRequired,isOpen:p.a.bool,collaborationsTabSelected:p.a.bool,i18n:p.a.shape({t:p.a.func})},dO.defaultProps={isOpen:!1};var hO=Object(Te.compose)($c,Object(ge.connect)((function(e){return{collaborationsTabSelected:In(e)}})))(dO),mO=(n("Hf1y"),function(e){var t=e.i18n;return u.a.createElement("div",{className:"comments-header"},u.a.createElement("h2",null,t.t("attachments_preview.collaboration.comments.comments")))});mO.propTypes={i18n:p.a.shape({t:p.a.func})};var vO=$c(mO),yO=(n("/APW"),function(e){var t=e.open,n=e.i18n;return u.a.createElement("div",{className:"comments-summary-modal-trigger"},u.a.createElement(Ll,{onClick:t,className:"comments-summary-modal-trigger-btn"},n.t("attachments_preview.comments_summary_modal.trigger_button")))});yO.propTypes={open:p.a.func,i18n:p.a.shape({t:p.a.func})},yO.defaultProps={open:Function.prototype};var bO=$c(yO),gO=(n("eQpz"),function(e){var t=e.commentsCount,n=e.fileName,r=e.thumbnail,o=e.previewType,i=e.i18n;if(!t)return null;var a=al(t,{fallbackValue:t});return u.a.createElement("div",{className:"file-review"},u.a.createElement(rl,{previewType:o,thumbnail:r}),u.a.createElement("div",{className:"main-review"},u.a.createElement("p",{className:"comments-num"},i.t("attachments_preview.comments_summary_modal.new_comments",{count:a})),u.a.createElement("p",{className:"file-name"},n)))});gO.defaultProps={fileName:"",thumbnail:"",commentsCount:0},gO.propTypes={fileName:p.a.string,thumbnail:p.a.string,commentsCount:p.a.number,previewType:p.a.string,i18n:p.a.shape({t:p.a.func})};var OO=Object(Te.compose)($c,Object(ge.connect)((function(e,t){var n=t.item,r=n.filerr.id;return{commentsCount:n.commentsCount,fileName:ba(e,r),thumbnail:da(e,r),previewType:ha(e,r)}})))(gO);n("KbMU");function wO(e){return(wO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function CO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function EO(e,t){return(EO=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function SO(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=kO(e);if(t){var o=kO(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _O(this,n)}}function _O(e,t){if(t&&("object"===wO(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function kO(e){return(kO=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var TO=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&EO(e,t)}(i,e);var t,n,r,o=SO(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={review:e.review},t}return t=i,(n=[{key:"render",value:function(){var e=this.state.review,t=this.props,n=t.pendingCommentsIdsLength,r=t.setCommentsSummaryMessage,o=t.commentsSummaryMessage;return u.a.createElement("div",{className:"comments-summary-modal-body"},u.a.createElement(Of,{className:h()("summary-textarea",{"with-comments":!!n}),onChange:r},o),u.a.createElement("div",{className:"summary-reviews"},e.map((function(e,t){return u.a.createElement(OO,{key:t,item:e})}))))}}])&&CO(t.prototype,n),r&&CO(t,r),i}(u.a.Component);TO.propTypes={review:p.a.arrayOf(p.a.shape({filerr:Nu,commentsCount:p.a.number})),pendingCommentsIdsLength:p.a.number,setCommentsSummaryMessage:p.a.func,commentsSummaryMessage:p.a.string},TO.defaultProps={review:[],pendingCommentsIdsLength:0};var PO=Object(ge.connect)((function(e){var t=Er(e);return{pendingCommentsIdsLength:t.length,review:Za(e,t)}}))(TO);n("yXM+");function jO(e){return(jO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function RO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function NO(e,t){return(NO=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function IO(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=LO(e);if(t){var o=LO(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return xO(this,n)}}function xO(e,t){if(t&&("object"===jO(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return AO(e)}function AO(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LO(e){return(LO=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var DO=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&NO(e,t)}(i,e);var t,n,r,o=IO(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={isLoading:!1},t.handleClick=t.handleClick.bind(AO(t)),t.handleError=t.handleError.bind(AO(t)),t.handleSuccess=t.handleSuccess.bind(AO(t)),t.createComments=t.createComments.bind(AO(t)),t}return t=i,(n=[{key:"createComments",value:function(){var e=this.props,t=e.pendingComments,n=e.commentsSummaryMessage,r=e.numberOfFiles,o=e.userId,i=e.source,a={comments:t,reviewType:"REVISION",reviewMessage:n};return pn({eventName:"Submitted collaboration comments",eventData:{"Number of Comments":t.length,"Number of Files":r,"Is Collaborator":!o,"Related Flow":i}}),this.props.createComments(a)}},{key:"handleSuccess",value:function(){this.setState({isLoading:!1});var e=this.props,t=e.close,n=e.i18n;t(),Df(n.t("attachments_preview.collaboration.toasts.review_submited"))}},{key:"handleError",value:function(e){this.setState({isLoading:!1});var t=this.props.i18n;Et(e,"CommentsSummaryToSubmitModalComponents"),Lf(t.t("attachments_preview.collaboration.toasts.error"))}},{key:"handleClick",value:function(e){e.preventDefault(),this.setState({isLoading:!0}),this.createComments().then(this.handleSuccess).catch(this.handleError)}},{key:"render",value:function(){var e=this.props.i18n,t=h()("comments-summary-modal-footer-btn",{loading:this.state.isLoading}),n=this.props.commentsSummaryMessage.trim(),r=this.state.isLoading||!n;return u.a.createElement(Ll,{onClick:this.handleClick,className:t,disabled:r},e.t("attachments_preview.comments_summary_modal.button"))}}])&&RO(t.prototype,n),r&&RO(t,r),i}(c.Component);DO.propTypes={createComments:p.a.func,pendingComments:p.a.arrayOf(p.a.shape({id:p.a.string,collaboratorId:p.a.string,body:p.a.string,timecode:p.a.number,annotations:p.a.array,groupId:p.a.string,fileId:p.a.string,createdAt:p.a.number})),commentsSummaryMessage:p.a.string,close:p.a.func,numberOfFiles:p.a.number,userId:p.a.number,source:p.a.string,i18n:p.a.shape({t:p.a.func})},DO.defaultProps={close:Function.prototype,createComments:Function.prototype,pendingComments:[]};var MO={createComments:lc},BO=Object(Te.compose)($c,Object(ge.connect)((function(e){return{pendingComments:Mr(e),numberOfFiles:Jn(e),userId:an(e),source:ir(e)}}),MO))(DO);function FO(e){return(FO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function VO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function UO(e,t){return(UO=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function HO(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=qO(e);if(t){var o=qO(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return WO(this,n)}}function WO(e,t){if(t&&("object"===FO(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return GO(e)}function GO(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qO(e){return(qO=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var zO=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&UO(e,t)}(i,e);var t,n,r,o=HO(i);function i(e){var t,n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),t=o.call(this,e),n=GO(t),a=function(e){return t.setState({commentsSummaryMessage:e.target.value})},(r="setCommentsSummaryMessage")in n?Object.defineProperty(n,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[r]=a,t.state={commentsSummaryMessage:e.i18n.t("attachments_preview.comments_summary_modal.default_text",{senderUsername:e.currentCollaboratorUsername,recipientUsername:e.recipientCollaboratorUsername})},t}return t=i,(n=[{key:"render",value:function(){var e=this,t=this.state.commentsSummaryMessage,n=this.props.i18n;return u.a.createElement(sm,{name:"comments-summary-modal attachments_preview-package order_page_perseus",trigger:function(e){var t=e.open;return u.a.createElement(bO,{open:t})},onClose:this.props.close,header:n.t("attachments_preview.comments_summary_modal.title"),footer:function(e){var n=e.close;return u.a.createElement(BO,{commentsSummaryMessage:t,close:n})}},(function(){return u.a.createElement(PO,{setCommentsSummaryMessage:e.setCommentsSummaryMessage,commentsSummaryMessage:t})}))}}])&&VO(t.prototype,n),r&&VO(t,r),i}(u.a.Component);zO.propTypes={currentCollaboratorUsername:p.a.string,recipientCollaboratorUsername:p.a.string,close:p.a.func,i18n:p.a.shape({t:p.a.func})},zO.defaultProps={currentCollaboratorUsername:"",recipientCollaboratorUsername:"",close:function(){return null}};var YO=Object(Te.compose)($c,(function(e){function t(t,n){var r=n.close;return u.a.createElement(e,Lc({},t,{close:r}))}return t.contextTypes={close:p.a.func.isRequired},t.displayName="WithGlobalModalBehavior(".concat(e.displayName||e.name||"Component",")"),t}),Object(ge.connect)((function(e){return{currentCollaboratorUsername:ko(e),recipientCollaboratorUsername:Fo(e)}})))(zO),KO=function(e){var t=e.shouldShowCommentsSummaryToSubmitModal;return e.isDisplay?t?u.a.createElement(YO,null):u.a.createElement(bm,null):null};KO.propTypes={shouldShowCommentsSummaryToSubmitModal:p.a.bool,isDisplay:p.a.bool},KO.defaultProps={shouldShowCommentsSummaryToSubmitModal:!1,isDisplay:!0};var ZO=Object(ge.connect)((function(e){return{shouldShowCommentsSummaryToSubmitModal:hr(e)}}))(KO),XO=(n("/BZf"),function(e){var t=e.collaboratorTab,n=void 0!==t&&t,r=e.placeholderTabClicked,o=e.i18n,i=h()("icn-no-comments",{"collaborator-tab":n,invite:r});return r?u.a.createElement("div",{className:"no-comments-wrapper"},u.a.createElement("div",{className:"no-comments-text"},u.a.createElement("i",{className:i}),u.a.createElement("p",{className:"font-accent"},o.t("attachments_preview.collaboration.comments.invite_default_tab")),u.a.createElement("div",{className:"invite-btn-container"},u.a.createElement(dh,{onlyCurrentFile:!0,withoutDefaultTriggerMobileWevBehavior:!0})))):u.a.createElement("div",{className:"no-comments-wrapper"},u.a.createElement("div",{className:"no-comments-text"},u.a.createElement("i",{className:i}),u.a.createElement("p",{className:"font-accent"},n?o.t("attachments_preview.collaboration.comments.no_comments_text_external"):o.t("attachments_preview.collaboration.comments.no_comments_text"))))});XO.propTypes={collaboratorTab:p.a.bool,placeholderTabClicked:p.a.bool,i18n:p.a.shape({t:p.a.func})};var JO,$O=$c(XO),QO=new Uint8Array(16);function ew(){if(!JO&&!(JO="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return JO(QO)}var tw=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var nw=function(e){return"string"==typeof e&&tw.test(e)},rw=[],ow=0;ow<256;++ow)rw.push((ow+256).toString(16).substr(1));var iw,aw,cw=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(rw[e[t+0]]+rw[e[t+1]]+rw[e[t+2]]+rw[e[t+3]]+"-"+rw[e[t+4]]+rw[e[t+5]]+"-"+rw[e[t+6]]+rw[e[t+7]]+"-"+rw[e[t+8]]+rw[e[t+9]]+"-"+rw[e[t+10]]+rw[e[t+11]]+rw[e[t+12]]+rw[e[t+13]]+rw[e[t+14]]+rw[e[t+15]]).toLowerCase();if(!nw(n))throw TypeError("Stringified UUID is invalid");return n},uw=0,sw=0;var lw=function(e,t,n){var r=t&&n||0,o=t||new Array(16),i=(e=e||{}).node||iw,a=void 0!==e.clockseq?e.clockseq:aw;if(null==i||null==a){var c=e.random||(e.rng||ew)();null==i&&(i=iw=[1|c[0],c[1],c[2],c[3],c[4],c[5]]),null==a&&(a=aw=16383&(c[6]<<8|c[7]))}var u=void 0!==e.msecs?e.msecs:Date.now(),s=void 0!==e.nsecs?e.nsecs:sw+1,l=u-uw+(s-sw)/1e4;if(l<0&&void 0===e.clockseq&&(a=a+1&16383),(l<0||u>uw)&&void 0===e.nsecs&&(s=0),s>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");uw=u,sw=s,aw=a;var f=(1e4*(268435455&(u+=122192928e5))+s)%4294967296;o[r++]=f>>>24&255,o[r++]=f>>>16&255,o[r++]=f>>>8&255,o[r++]=255&f;var p=u/4294967296*1e4&268435455;o[r++]=p>>>8&255,o[r++]=255&p,o[r++]=p>>>24&15|16,o[r++]=p>>>16&255,o[r++]=a>>>8|128,o[r++]=255&a;for(var d=0;d<6;++d)o[r+d]=i[d];return t||cw(o)},fw=["isRemovable"];function pw(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var dw=function(e){return e.tempAnnotations.map((function(e){e.isRemovable;return pw(e,fw)}))};n("yxN8");function hw(e){return(hw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vw(e,t){return(vw=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function yw(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ow(e);if(t){var o=Ow(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return bw(this,n)}}function bw(e,t){if(t&&("object"===hw(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return gw(e)}function gw(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ow(e){return(Ow=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ww=new Se,Cw="comment-box:focused",Ew=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vw(e,t)}(i,e);var t,n,r,o=yw(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={isOpen:t.props.defaultOpen,checkBox:!0,require:!1,text:""},t.open=t.open.bind(gw(t)),t.close=t.close.bind(gw(t)),t.save=t.save.bind(gw(t)),t.showTimeCode=t.showTimeCode.bind(gw(t)),t.onChange=t.onChange.bind(gw(t)),t.textareaChange=t.textareaChange.bind(gw(t)),t.onBoxClick=t.onBoxClick.bind(gw(t)),t}return t=i,(n=[{key:"componentDidMount",value:function(){var e=this.props.body;this.props.parentId&&this.textarea.focus(),e&&this.setState({text:e}),vn.on("OVERLAY_CLICK_EVENT",this.open)}},{key:"componentDidUpdate",value:function(e,t){var n=this.props,r=n.userId,o=n.parentId,i=n.fileId,a=n.groupId;e.fileId===i&&e.groupId===a||this.close(),!t.text&&this.state.text&&pn(o?{eventName:"Started collaboration comment reply",eventData:{"Is Collaborator":!r,"Comment ID":o}}:{eventName:"Started new collaboration comment",eventData:{"Is Collaborator":!r,"Comment Source":"Comment Box"}})}},{key:"open",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.props,n=t.setShowNoCommentsFalse,r=t.onFocus,o=t.setCurrentCommentId,i=t.commentBoxOpened;i(),e&&this.setState({tempAnnotations:[e]}),n&&n(),r&&r(),this.textarea&&this.textarea.focus(),this.setState({isOpen:!0}),o(void 0)}},{key:"close",value:function(e){var t=this.props,n=t.setShowNoCommentsTrue,r=t.parentId,o=t.setReplyClicked,i=t.stopEdit,a=t.commentBoxCancelled;e&&e.stopPropagation(),n(),a({parentId:r,text:this.state.text}),r&&o(),i&&i(),this.setState({isOpen:!1,require:!1}),this.setState({text:""})}},{key:"textareaChange",value:function(e){var t=Object(Oe.get)(e,"target.value");this.setState({require:!1,text:t})}},{key:"onBoxClick",value:function(e){e.detail="comment-box"}},{key:"isNotValid",value:function(){return!this.state.text.trim()}},{key:"save",value:function(){var e=this.props,t=e.stopEdit,n=e.setShowNoCommentsFalse,r=e.parentId,o=e.setReplyClicked;if(this.isNotValid())return this.setState({require:!0}),void this.textarea.focus();t&&t(this.state.text),r&&(this.saveReply(),o()),r||t||this.saveComment(),this.setState({isOpen:!1,text:""}),n()}},{key:"saveComment",value:function(){var e=this.props,t=e.timecode,n=e.groupId,r=e.fileId,o=e.setCurrentCommentId,i=e.collaboratorId,a=e.addComment,c=e.annotations,u=e.userId,s=t;this.showTimeCode()||(s=null);var l=lw(),f={body:this.state.text,timecode:s,groupId:n,fileId:r,id:l,collaboratorId:i,annotations:c,pending:!0};this.state.checkBox||(f.timecode=null),a(f),o(l),xc({group:"collaboration",type:"add_comment_in_collaboration_conversation",reason:"comment"}),pn({eventName:"Saved collaboration comment",eventData:{Timestamp:f.timecode,"Text Lenght":f.body.length,"Has Annotation":!!c.length,"Is Collaborator":!u}})}},{key:"saveReply",value:function(){var e=this.props,t=e.parentId,n=e.groupId,r=e.fileId,o=e.setCurrentCommentId,i=e.collaboratorId,a=e.userId;(0,e.addComment)({body:this.state.text,parentId:t,groupId:n,fileId:r,id:lw(),collaboratorId:i,pending:!0}),o(t),xc({group:"collaboration",type:"add_comment_in_collaboration_conversation",reason:"reply"}),pn({eventName:"Saved collaboration comment reply",eventData:{"Comment ID":t,"Is Collaborator":!a}})}},{key:"showTimeCode",value:function(){var e=this.props,t=e.filerr,n=e.parentId,r=e.stopEdit;return!(n||r||t.previewType!==nu&&t.previewType!==tu)}},{key:"onChange",value:function(e){this.setState({checkBox:e.target.checked}),pn({eventName:"Clicked collaboration toggle timestamp",eventData:{State:!this.state.checkBox,"File Type":this.props.filerr.previewType,Duration:this.props.filerr.duration}})}},{key:"render",value:function(){var e=this,t=this.props,n=t.username,r=t.userImage,o=t.timecode,i=t.body,a=t.timecodeEdit,c=t.isReply,s=t.email,l=t.disabled,f=t.i18n,p=this.state,d=p.isOpen,m=p.require,v=p.text,y=h()("comment-box-wrapper",{open:d,require:m,reply:c,"edit-reply":i,disabled:l}),b=h()("comment-box",{reply:c,"edit-reply":i}),g=n||s||"",O=Sn(a||o);return u.a.createElement("div",{onClick:this.onCommentBoxClick,className:b},u.a.createElement("div",{className:y,onClick:this.onBoxClick},u.a.createElement("div",{className:"text"},u.a.createElement(Mu,{username:g,src:r,className:"avatar"}),u.a.createElement("textarea",{id:"collaboration-comment-box",value:v,placeholder:f.t("attachments_preview.collaboration.comments.add_a_comment"),onFocus:this.open,onChange:this.textareaChange,ref:function(t){return e.textarea=t}})),u.a.createElement("footer",null,u.a.createElement("span",{className:"save-actions"},u.a.createElement("button",{className:"btn-cancel",onClick:this.close},f.t("attachments_preview.collaboration.comments.cancel")),u.a.createElement("button",{className:"btn-add",onClick:this.save},f.t("attachments_preview.collaboration.comments.add"))),this.showTimeCode()&&u.a.createElement("div",{className:"timestamp"},u.a.createElement(xh,{defaultChecked:!0,onChange:this.onChange}),u.a.createElement("span",{className:"time"},f.t("attachments_preview.collaboration.comments.time_stamp")," (",O,")")))))}}])&&mw(t.prototype,n),r&&mw(t,r),i}(u.a.Component);Ew.propTypes={userId:p.a.number,username:p.a.string,userImage:p.a.string,timecode:p.a.number,defaultOpen:p.a.bool,parentId:p.a.string,groupId:p.a.string,fileId:p.a.string,setShowNoCommentsFalse:p.a.func,setShowNoCommentsTrue:p.a.func,setReplyClicked:p.a.func,commentBoxCancelled:p.a.func.isRequired,onFocus:p.a.func,filerr:Nu,body:p.a.string,timecodeEdit:p.a.number,stopEdit:p.a.func,isReply:p.a.bool,disabled:p.a.bool,email:p.a.string,collaboratorId:p.a.string,addComment:p.a.func,annotations:p.a.array,setCurrentCommentId:p.a.func,i18n:p.a.shape({t:p.a.func}),commentBoxOpened:p.a.func.isRequired},Ew.defaultProps={userImage:"",defaultOpen:!1,parentId:"",groupId:"",fileId:"",setShowNoCommentsFalse:function(){return null},setShowNoCommentsTrue:function(){return null},addComment:function(){return null},annotations:[]};var Sw=Object(Te.compose)($c,Object(ge.connect)((function(e){var t=ro(e),n=t.username,r=t.userImage,o=t.email,i=t.id,a=t.userId,c=Hn(e),u=Kn(e);return{username:n,email:o,userImage:r,groupId:cn(e),fileId:rn(e),filerr:pa(e),userId:a,collaboratorId:i,timecode:ln(e),disabled:c||"active"!==u,annotations:dw(e)}}),{commentBoxCancelled:function(e){return function(t,n){var r=ro(n()).userId;pn({eventName:"Cancelled collaboration comment",eventData:{"Has text":!!e.text,"Has Annotation":!!n().tempAnnotations.length,"Is Collaborator":!r}}),t({type:"COMMENT_BOX_CANCELLED",payload:e})}},commentBoxOpened:function(e){return function(t){t({type:"COMMENT_BOX_OPENED",payload:e})}},onFocus:function(){return function(){ww.emit(Cw)}},addComment:sc,setCurrentCommentId:zo}))(Ew),_w=function(){return u.a.createElement("svg",{width:"14",height:"9",viewBox:"0 0 14 9",xmlns:"http://www.w3.org/2000/svg"},u.a.createElement("path",{d:"M0.190647 7.7279L0.809334 8.34662C0.955772 8.49306 1.19321 8.49306 1.33968 8.34662L6.99999 2.69978L12.6603 8.34662C12.8067 8.49306 13.0442 8.49306 13.1906 8.34662L13.8094 7.7279C13.9558 7.58146 13.9558 7.34403 13.8094 7.19756L7.26518 0.65337C7.11874 0.506932 6.8813 0.506932 6.73483 0.65337L0.190647 7.19756C0.044178 7.34403 0.0441781 7.58146 0.190647 7.7279Z"}))},kw=function(){return u.a.createElement("svg",{width:"14",height:"9",viewBox:"0 0 14 9",xmlns:"http://www.w3.org/2000/svg"},u.a.createElement("path",{d:"M0.190662 1.2721L0.809349 0.653381C0.955787 0.506943 1.19322 0.506943 1.33969 0.653381L7.00001 6.30022L12.6603 0.653381C12.8068 0.506944 13.0442 0.506944 13.1907 0.653381L13.8094 1.2721C13.9558 1.41854 13.9558 1.65597 13.8094 1.80244L7.26519 8.34663C7.11875 8.49307 6.88132 8.49307 6.73485 8.34663L0.190662 1.80244C0.0441933 1.65597 0.0441933 1.41854 0.190662 1.2721Z"}))},Tw=n("F809"),Pw=n.n(Tw),jw=n("0u2M"),Rw=n.n(jw),Nw=n("O8cK"),Iw=n.n(Nw),xw=n("7pFD"),Aw=n.n(xw),Lw=n("b8ws"),Dw=n.n(Lw),Mw=n("ZXDK"),Bw=n.n(Mw),Fw=n("pDEI"),Vw=n.n(Fw),Uw=n("Ev1t"),Hw=n.n(Uw),Ww=n("+5jU"),Gw=n.n(Ww),qw=n("4v8u"),zw=n.n(qw),Yw=n("4coB"),Kw=n.n(Yw),Zw=n("GLf8"),Xw=n.n(Zw),Jw=n("iQJf"),$w=n.n(Jw),Qw=n("CXhC"),eC=n.n(Qw),tC=n("cPJV"),nC=n.n(tC);var rC=function(e){return e instanceof Date?60-e.getSeconds():""};function oC(e){return(oC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function iC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function aC(e,t){return(aC=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function cC(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=lC(e);if(t){var o=lC(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return uC(this,n)}}function uC(e,t){if(t&&("object"===oC(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return sC(e)}function sC(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lC(e){return(lC=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var fC=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&aC(e,t)}(i,e);var t,n,r,o=cC(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={currentTime:new Date,dateTime:new Date(e.dateTime)},t.updateTime=t.updateTime.bind(sC(t)),t}return t=i,(n=[{key:"componentDidMount",value:function(){this.props.type===this.TYPE_RELATIVE&&this.updateTime()}},{key:"componentDidUpdate",value:function(e){this.props.dateTime!==e.dateTime&&this.setState({dateTime:new Date(this.props.dateTime)})}},{key:"componentWillUnmount",value:function(){window.clearTimeout(this.updateTimeReference)}},{key:"updateTime",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rC();this.updateTimeReference=setTimeout((function(){e.setState({currentTime:new Date}),e.updateTime(e.MILLISECONDS_IN_MINUTE)}),t)}},{key:"relativeDate",value:function(e){var t=this.props.relativeSuffix||"";if(this.isGivenDateBeforeUnit("m"))return e.t("attachments_preview.datetime.just_now");if(this.isGivenDateBeforeUnit("h"))return"".concat(this.diffFromCurrentToGivenDate("m"),"m ").concat(t);if(this.isGivenDateBeforeUnit("d"))return"".concat(this.diffFromCurrentToGivenDate("h"),"h ").concat(t);if(this.isGivenDateBeforeUnit("w"))return"".concat(this.diffFromCurrentToGivenDate("d"),"d ").concat(t);if(this.isGivenDateBeforeUnit("M")){var n=this.diffFromCurrentToGivenDate("w");return"".concat(e.t("attachments_preview.datetime.week",{count:n})," ").concat(t)}if(this.isGivenDateBeforeUnit("y")){var r=this.diffFromCurrentToGivenDate("M");return"".concat(e.t("attachments_preview.datetime.month",{count:r})," ").concat(t)}var o=this.diffFromCurrentToGivenDate("y");return"".concat(e.t("attachments_preview.datetime.year",{count:o})," ").concat(t)}},{key:"diffFromCurrentToGivenDate",value:function(e){var t=this.state,n=t.dateTime,r=t.currentTime;switch(e){case"m":return Bw()(r,n);case"M":return Pw()(r,n);case"h":return Rw()(r,n);case"d":return Iw()(r,n);case"w":return Aw()(r,n);case"y":return Dw()(r,n)}}},{key:"isGivenDateBeforeUnit",value:function(e){var t,n=this.state,r=n.dateTime,o=n.currentTime;switch(e){case"m":t=Xw()(o,1);break;case"M":t=Hw()(o,1);break;case"h":t=Gw()(o,1);break;case"d":t=zw()(o,1);break;case"w":t=Kw()(o,1);break;case"y":t=$w()(o,1);break;default:return!1}return Vw()(r,t)}},{key:"isGivenDateAfterMidnight",value:function(){var e=this.state.dateTime,t=eC()(new Date);return Vw()(e,t)}},{key:"absoluteDateAndTimeFormat",value:function(e){var t=this.state.dateTime;return this.props.withoutHours?nC()(t,"MMM DD, YYYY",{locale:e}):this.isGivenDateBeforeUnit("y")?nC()(t,"MMM DD, h:mm A",{locale:e}):this.isGivenDateAfterMidnight()?nC()(t,"h:mm A",{locale:e}):nC()(t,"MMM DD, YYYY, h:mm A",{locale:e})}},{key:"formatDateTime",value:function(e,t){var n=this.props.type;if(!this.props.dateTime)return"";switch(n){case this.TYPE_RELATIVE:return this.relativeDate(e);default:return this.absoluteDateAndTimeFormat(t)}}},{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.locale;return u.a.createElement("time",{dateTime:new Date(this.props.dateTime)},this.formatDateTime(t,n))}}])&&iC(t.prototype,n),r&&iC(t,r),i}(u.a.Component);fC.propTypes={dateTime:p.a.number.isRequired,type:p.a.string,relativeSuffix:p.a.string,withoutHours:p.a.bool,i18n:p.a.object,locale:p.a.string},fC.contextTypes={locale:p.a.string},fC.prototype.TYPE_RELATIVE="RELATIVE",fC.prototype.MILLISECONDS_IN_MINUTE=6e4;var pC=$c(fC),dC=function(){return u.a.createElement("svg",{className:"icn-comment-reply",width:"12",height:"11",viewBox:"0 0 12 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},u.a.createElement("path",{className:"icn-reply-path",d:"M0.1875 3.70312C0.046875 3.82031 0 3.96094 0 4.125C0 4.3125 0.046875 4.45312 0.1875 4.54688L4.3125 8.10938C4.42969 8.22656 4.57031 8.27344 4.71094 8.25C4.85156 8.25 4.99219 8.17969 5.08594 8.08594C5.17969 7.99219 5.25 7.85156 5.25 7.6875V5.625C6.51562 5.64844 7.5 5.78906 8.17969 6.02344C8.92969 6.30469 9.39844 6.75 9.60938 7.38281C9.79688 8.01562 9.72656 8.88281 9.39844 9.98438C9.35156 10.125 9.35156 10.2188 9.42188 10.3125C9.49219 10.4062 9.58594 10.4766 9.70312 10.5C9.82031 10.5234 9.9375 10.5 10.0547 10.4062C10.5938 10.0312 11.0391 9.51562 11.4141 8.85938C11.7891 8.17969 12 7.5 12 6.79688C12 5.15625 11.3438 4.00781 10.0312 3.30469C8.97656 2.76562 7.38281 2.48438 5.25 2.4375V0.5625C5.25 0.421875 5.17969 0.28125 5.08594 0.1875C4.99219 0.09375 4.85156 0.0234375 4.71094 0C4.57031 0 4.42969 0.046875 4.3125 0.140625L0.1875 3.70312Z",fill:"#B5B6BA"}))};n("rLWM");function hC(e){return(hC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vC(e,t){return(vC=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function yC(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=OC(e);if(t){var o=OC(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return bC(this,n)}}function bC(e,t){if(t&&("object"===hC(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return gC(e)}function gC(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OC(e){return(OC=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var wC=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vC(e,t)}(i,e);var t,n,r,o=yC(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={isReplyClicked:!1,isEditMode:!1,deleting:!1},t.setReplyClicked=t.setReplyClicked.bind(gC(t)),t.setDelete=t.setDelete.bind(gC(t)),t.showTimeCode=t.showTimeCode.bind(gC(t)),t.isPending=t.isPending.bind(gC(t)),t.selected=t.selected.bind(gC(t)),t.startEdit=t.startEdit.bind(gC(t)),t.stopEdit=t.stopEdit.bind(gC(t)),t.showEditOptions=t.showEditOptions.bind(gC(t)),t.isNotEditMode=t.isNotEditMode.bind(gC(t)),t.markerSelected=t.markerSelected.bind(gC(t)),t.handleDelete=t.handleDelete.bind(gC(t)),t.shouldShowReplyButton=t.shouldShowReplyButton.bind(gC(t)),t.hasAnnotations=t.hasAnnotations.bind(gC(t)),t.getCurrentUsername=t.getCurrentUsername.bind(gC(t)),t}return t=i,(n=[{key:"componentDidMount",value:function(){vn.on("MARKER_CLICK_EVENT",this.markerSelected)}},{key:"emitCommentClicked",value:function(e){var t=e.timecode,n=this.props.comment;tc.emit("comment:clicked",{timecode:t,commentId:n.id})}},{key:"hasAnnotations",value:function(){var e=this.props.comment;return!!Object(Oe.get)(e,"annotations.length")}},{key:"setReplyClicked",value:function(e){var t=this.props.isCommentSelected;e&&t&&e.stopPropagation(),this.setState({isReplyClicked:!this.state.isReplyClicked}),this.state.isReplyClicked||tc.emit("reply:clicked",this.props.comment.id)}},{key:"startEdit",value:function(e){e.stopPropagation(),this.setState({isEditMode:!0})}},{key:"stopEdit",value:function(e){if(e){var t=this.props,n=t.updateComment,r=t.comment,o=t.isReply;if(!r.pending)return;n({id:r.id,body:e}),xc({group:"collaboration",type:"edit_comment_in_collaboration_conversation",reason:o?"reply":"comment"}),pn({eventName:"Managed collaboration comment",eventData:{Action:"edit","Has Annotations":!!r.annotations.length}})}this.setState({isEditMode:!1})}},{key:"setCommentHeight",value:function(){this.comment.style.height="".concat(this.comment.getBoundingClientRect().height,"px")}},{key:"setDelete",value:function(){this.props.comment.pending&&(this.setCommentHeight(),this.setState({deleting:!0}))}},{key:"handleDelete",value:function(){var e=this.props,t=e.comment,n=e.setCurrentCommentId,r=e.deleteComment,o=e.isReply;this.state.deleting&&(r(t.id),n(void 0),xc({group:"collaboration",type:"delete_comment_in_collaboration_conversation",reason:o?"reply":"comment"}),pn({eventName:"Managed collaboration comment",eventData:{Action:"delete","Has Annotations":!!t.annotations.length}}))}},{key:"showTimeCode",value:function(){var e=this.props.comment;return!Object(Oe.isNil)(e.timecode)&&this.isNotEditMode()}},{key:"showEditOptions",value:function(){return this.isPending()&&this.isNotEditMode()}},{key:"isPending",value:function(){return this.props.comment.pending}},{key:"isNotEditMode",value:function(){return!this.state.isEditMode}},{key:"markerSelected",value:function(e){var t=e.id;this.props.setCurrentCommentId(t)}},{key:"selected",value:function(e){var t=this.props,n=t.comment,r=t.setCurrentCommentId,o=t.isReply,i=t.isCommentSelected,a=t.parentComment,c=t.setCurrentFileId,u=t.setCurrentFilerrId,s=t.filerrId;i&&"comment-box"===e.detail||(pn({eventName:"Opened collaboration comment",eventData:{"Opened Comment Source":"Comments Panel"}}),o?this.emitCommentClicked(a):this.emitCommentClicked(n),i?r(void 0):(r(o?n.parentId:n.id),c(n.fileId),u(s)))}},{key:"shouldShowReplyButton",value:function(){var e=this.props,t=e.hasReplies,n=e.isRevisionRequest,r=this.state.isReplyClicked;return!n&&!r&&!t}},{key:"getCurrentUsername",value:function(){var e=this.props,t=e.standalone,n=e.username,r=e.currentCollaboratorId,o=e.comment,i=e.fullName,a=e.i18n;return r===o.collaboratorId?a.t("attachments_preview.general.me"):t&&i?i:n}},{key:"render",value:function(){var e=this,t=this.props,n=t.username,r=t.userImage,o=t.comment,i=t.isReply,a=t.currentCollaboratorId,c=t.isCommentSelected,s=t.disabled,l=t.removed,f=t.i18n,p=o.createdAt,d=o.timecode,m=o.body,v=o.id,y=o.collaboratorId,b=this.state,g=b.isReplyClicked,O=b.deleting,w=Sn(d),C=h()("inner",{reply:i}),E=h()("comment-wrapper",{selected:c,"delete-animation":O,"others-comment":y!==a,removed:l}),S=i?o.parentId:v,_=this.getCurrentUsername();return _?u.a.createElement("div",{className:E,onClick:this.selected,onAnimationEnd:this.handleDelete,id:"comment-".concat(v),ref:function(t){return e.comment=t}},u.a.createElement("div",{className:C},u.a.createElement(Mu,{username:n,src:r}),u.a.createElement("div",{className:"main-comment"},u.a.createElement("div",{className:"comment-header"},u.a.createElement("h3",null,_),!this.isPending()&&u.a.createElement("span",{className:"date"},u.a.createElement(pC,{dateTime:p,type:"RELATIVE"})),this.isPending()&&u.a.createElement("span",{className:"pending"},f.t("attachments_preview.collaboration.comments.pending"))),this.isNotEditMode()&&u.a.createElement("div",{className:"comment-body"},u.a.createElement("div",{className:"comment-content"},m),this.shouldShowReplyButton()&&u.a.createElement("button",{className:"reply-button",onClick:this.setReplyClicked,disabled:s},u.a.createElement(dC,null),u.a.createElement("span",null,f.t("attachments_preview.collaboration.comments.reply"))))),u.a.createElement("div",{className:"comment-stamp"},this.showTimeCode()&&u.a.createElement("div",{className:"time"},w),this.hasAnnotations()&&u.a.createElement("i",{className:"annotation",style:{backgroundColor:o.annotations.length&&o.annotations[0].target?o.annotations[0].target.selector.strokeColor:"#FF62AD"}})),this.showEditOptions()&&u.a.createElement("button",{className:"delete",onClick:this.setDelete}),this.showEditOptions()&&u.a.createElement("button",{className:"edit",onClick:this.startEdit})),g&&u.a.createElement(Sw,{parentId:S,defaultOpen:!0,setReplyClicked:this.setReplyClicked,isReply:i}),!this.isNotEditMode()&&u.a.createElement(Sw,{defaultOpen:!0,stopEdit:this.stopEdit,body:m,timecodeEdit:d})):null}}])&&mC(t.prototype,n),r&&mC(t,r),i}(u.a.Component);wC.propTypes={username:p.a.string.isRequired,userImage:p.a.string,comment:iu.isRequired,hasReplies:p.a.bool,isReply:p.a.bool,isCommentSelected:p.a.bool,setCurrentCommentId:p.a.func,currentCollaboratorId:p.a.string,parentComment:iu,disabled:p.a.bool,standalone:p.a.bool,fullName:p.a.string,removed:p.a.bool,deleteComment:p.a.func,updateComment:p.a.func,setCurrentFileId:p.a.func,setCurrentFilerrId:p.a.func,filerrId:p.a.string,isRevisionRequest:p.a.bool,i18n:p.a.shape({t:p.a.func})},wC.defaultProps={userImage:"",standalone:!1,fullName:"",removed:!1,updateComment:function(){return null},deleteComment:function(){return null},setCurrentFileId:function(){return null},setCurrentFilerrId:function(){return null},filerrId:""};var CC=Object(Te.compose)($c,Object(ge.connect)((function(e,t){var n=Or(e,t.commentId),r=n.collaboratorId,o=n.id,i=n.parentId,a=n.fileId,c=no(e,r),u=c.userImage,s=c.fullName,l=c.removed,f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return Eo(e,t)||_o(e,t)}(e,r),p=un(e),d=Or(e,i),h=Hn(e),m=Kn(e),v=Yn(e,a);return{username:f,userImage:u,currentCollaboratorId:p,hasReplies:Ar(e,o),isCommentSelected:Vr(e,o,i),parentComment:d,disabled:h||"active"!==m,standalone:e.settings.standalone,fullName:s,removed:l,comment:n,filerrId:v}}),{setCurrentCommentId:zo,deleteComment:uc,updateComment:cc,setCurrentFileId:Wo,setCurrentFilerrId:Go}))(wC),EC=function(e){var t=e.repliesIds,n=e.isRevisionRequest;return t?u.a.createElement("ol",null,t.map((function(e,t){return u.a.createElement("li",{key:t},u.a.createElement(CC,{commentId:e,isReply:!0,isRevisionRequest:n}))}))):null};EC.defaultProps={repliesIds:[],isRevisionRequest:!1},EC.propTypes={repliesIds:p.a.array,isRevisionRequest:p.a.bool};var SC=Object(ge.connect)((function(e,t){var n=t.commentId;return{repliesIds:Ir(e,n)}}))(EC);n("boaV");function _C(e){return(_C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function TC(e,t){return(TC=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function PC(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=NC(e);if(t){var o=NC(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return jC(this,n)}}function jC(e,t){if(t&&("object"===_C(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return RC(e)}function RC(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NC(e){return(NC=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var IC=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&TC(e,t)}(i,e);var t,n,r,o=PC(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={shouldShowComment:e.shouldShowComment},t.toggleComments=t.toggleComments.bind(RC(t)),t.defaultOpen=t.defaultOpen.bind(RC(t)),t.selectFile=t.selectFile.bind(RC(t)),t}return t=i,(n=[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.currentFileId,r=t.fileId,o=t.commentIds;e.currentFileId!==n&&r===n&&this.defaultOpen(),e.commentIds.length<o.length&&this.defaultOpen()}},{key:"defaultOpen",value:function(){this.setState({shouldShowComment:!0})}},{key:"toggleComments",value:function(e){e.stopPropagation(),this.setState({shouldShowComment:!this.state.shouldShowComment})}},{key:"selectFile",value:function(){var e=this.props,t=e.setCurrentFileId,n=e.setCurrentFilerrId,r=e.setCurrentCommentId,o=e.setCurrentTimecode,i=e.fileId,a=e.filerrId;t(i),n(a),r(void 0),o(void 0)}},{key:"render",value:function(){var e=this.props,t=e.commentIds,n=e.fileName,r=e.currentFileId,o=e.fileId,i=e.isRevisionRequest,a=e.areTherePendingComments,c=e.i18n,s=this.state.shouldShowComment;if(!t.length&&r!==o)return null;if(!a&&!i)return null;if(!t.length&&i)return null;var l=!!t.length,f=h()("file-comments-header font-accent",{selected:r===o,revision:i}),p=h()("file-comments-wrapper",{revision:i}),d=al(t.length,{fallbackValue:t.length});return u.a.createElement("div",{className:p,id:"file-comment-".concat(o)},u.a.createElement("div",{className:f,onClick:this.selectFile},u.a.createElement("span",{className:"file-name"},n),l&&u.a.createElement("div",null,u.a.createElement("span",null,c.t("attachments_preview.collaboration.comments.file_comments",{count:d})),!i&&u.a.createElement(dl,{className:"file-chevron",size:8,onClick:this.toggleComments},s?_w:kw))),s&&t.map((function(e,t){return u.a.createElement("li",{key:t},u.a.createElement(CC,{commentId:e,isRevisionRequest:i}),u.a.createElement(SC,{commentId:e,isRevisionRequest:i}))})))}}])&&kC(t.prototype,n),r&&kC(t,r),i}(c.Component);IC.defaultProps={shouldShowComment:!0,commentIds:[],fileName:"",currentFileId:"",fileId:"",filerrId:"",setCurrentFileId:function(){return null},setCurrentFilerrId:function(){return null},setCurrentCommentId:function(){return null},setCurrentTimecode:function(){return null},isRevisionRequest:!1},IC.propTypes={shouldShowComment:p.a.bool,commentIds:p.a.array,fileName:p.a.string,currentFileId:p.a.string,fileId:p.a.string,filerrId:p.a.string,setCurrentFileId:p.a.func,setCurrentFilerrId:p.a.func,setCurrentCommentId:p.a.func,setCurrentTimecode:p.a.func,isRevisionRequest:p.a.bool,areTherePendingComments:p.a.bool,i18n:p.a.shape({t:p.a.func})};var xC=Object(Te.compose)($c,Object(ge.connect)((function(e,t){var n=t.fileId,r=t.isRevisionRequest,o=Yn(e,n);return{commentIds:Zr(e,n,r),fileName:ba(e,o),currentFileId:rn(e),fileId:n,filerrId:o,areTherePendingComments:Gr(e,n)}}),{setCurrentFileId:Wo,setCurrentFilerrId:Go,setCurrentCommentId:zo,setCurrentTimecode:Yo}))(IC);n("bKmE");function AC(e){var t=e.i18n;return u.a.createElement("div",{className:"collaboration-group-error-wrapper"},u.a.createElement("div",{className:"text"},u.a.createElement("h3",null,t.t("attachments_preview.collaboration.comments.group_error.title")),u.a.createElement("p",null,t.t("attachments_preview.collaboration.comments.group_error.text"))))}AC.propTypes={i18n:p.a.shape({t:p.a.func})};var LC=$c(AC);n("bL1F");function DC(e){return(DC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function MC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function BC(e,t){return(BC=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function FC(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=HC(e);if(t){var o=HC(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return VC(this,n)}}function VC(e,t){if(t&&("object"===DC(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return UC(e)}function UC(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HC(e){return(HC=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function WC(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var GC=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&BC(e,t)}(i,e);var t,n,r,o=FC(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),WC(UC(t=o.call(this,e)),"componentDidMount",(function(){vn.on("ANNOTATION_CLICK_EVENT",(function(){return t.setState({shouldShowComments:!0})}))})),WC(UC(t),"toggleComments",(function(e){e.stopPropagation(),t.setState({shouldShowComments:!t.state.shouldShowComments})})),t.state={shouldShowComments:!0},t}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.fileIds,n=e.revisionDate,r=this.state.shouldShowComments;return n?u.a.createElement("div",{className:"revison-request-container"},u.a.createElement("div",{className:"revison-request",onClick:this.toggleComments},u.a.createElement("div",{className:"revison-request-main"},u.a.createElement("div",{className:"circle"}),u.a.createElement("div",{className:"revision-data"},u.a.createElement("p",{className:"name"},"Revision Request"),u.a.createElement("p",{className:"date"},u.a.createElement(pC,{dateTime:n})))),u.a.createElement(dl,{className:"file-chevron",size:12},r?_w:kw)),r&&u.a.createElement("ol",{className:"revision-request-comments"},t.map((function(e){return u.a.createElement(xC,{key:e,fileId:e,isRevisionRequest:!0})})))):null}}])&&MC(t.prototype,n),r&&MC(t,r),i}(u.a.Component);GC.defaultProps={fileIds:[],revisionDate:0},GC.propTypes={fileIds:p.a.array,revisionDate:p.a.number};var qC=Object(ge.connect)((function(e){var t=jn(e).id;return{fileIds:Fn(e,t),revisionDate:Xr(e)}}))(GC),zC="wizard-steps",YC="step",KC="wizard-breadcrumbs",ZC=p.a.shape({id:p.a.oneOfType([p.a.string,p.a.number]),title:p.a.oneOfType([p.a.string,p.a.number])}),XC=function(e){var t=e.currentStep,n=e.navigateNext,r=e.navigateBack,o=e.navigateTo,i=e.steps,a=e.numOfSteps,c=e.id,s=e.children,l=e.className,f=e.title,p=e.isLoading;if(t.id!==c)return null;var d=$C(s,{currentStep:t,navigateNext:n,navigateBack:r,navigateTo:o,steps:i,numOfSteps:a,isLoading:p}),h={id:c,title:f,className:[YC,l].join(" ").trim()};return u.a.createElement("div",h,d)};XC.propTypes={currentStep:ZC,backHandler:p.a.func,nextHandler:p.a.func,jumpToStep:p.a.func,steps:p.a.arrayOf(ZC),numOfSteps:p.a.number,id:p.a.oneOfType([p.a.string,p.a.number]),className:p.a.string,title:p.a.string};var JC=XC;function $C(e,t){var n=0;return u.a.Children.map(e,(function(e){if(!(e&&e.type&&"function"==typeof e.type))return e;var r={};if(e.type===JC){var o=e.props.id||n;r={id:o,title:e.props.title||String(o)},n++}return u.a.cloneElement(e,Object.assign({},e.props,t,r))}))}n("EjUJ");function QC(e){return(QC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tE(e,t){return(tE=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function nE(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=iE(e);if(t){var o=iE(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return rE(this,n)}}function rE(e,t){if(t&&("object"===QC(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return oE(e)}function oE(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iE(e){return(iE=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var aE=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tE(e,t)}(i,e);var t,n,r,o=nE(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={isLoading:!1,currentStepIndex:0,numOfSteps:0},t._wizardSteps=[],t.navigateTo=t.navigateTo.bind(oE(t)),t.handleAsync=t.handleAsync.bind(oE(t)),t.updateStep=t.updateStep.bind(oE(t)),t.navigateNext=t.navigateNext.bind(oE(t)),t.navigateBack=t.navigateBack.bind(oE(t)),t.controls={navigateTo:t.navigateTo,next:t.navigateNext,back:t.navigateBack},t}return t=i,(n=[{key:"componentWillMount",value:function(){var e=this.props.currentStepId,t=this.countSteps(),n=(e?this._wizardSteps.findIndex((function(t){return t.id===e})):null)||0;this.setState({numOfSteps:t,currentStepIndex:n})}},{key:"componentWillReceiveProps",value:function(e){var t=this.props.currentStepId;if(e.currentStepId!==t){var n=e.currentStepId?this._wizardSteps.findIndex((function(t){return t.id===e.currentStepId})):this.state.currentStepIndex;n>=0&&this.setState({currentStepIndex:n})}}},{key:"countSteps",value:function(){var e=this,t=0;return u.a.Children.forEach(this.props.children,(function(n){if(null!==n&&n.type===JC){var r=n.props.id||t,o=n.props.title||r;e._wizardSteps[t]={id:r,title:o},t++}})),t}},{key:"getChildren",value:function(){var e=this.state,t=e.currentStepIndex,n=e.numOfSteps,r=e.isLoading;return $C(this.props.children,{currentStep:this._wizardSteps[t],navigateTo:this.navigateTo,navigateNext:this.navigateNext,navigateBack:this.navigateBack,steps:this._wizardSteps,numOfSteps:n,isLoading:r})}},{key:"navigateNext",value:function(){var e=this.state,t=e.currentStepIndex,n=t+1<e.numOfSteps?this._wizardSteps[t+1].id:this._wizardSteps[t].id;this.navigateTo(n)}},{key:"navigateBack",value:function(){var e=this.state.currentStepIndex,t=e>0?this._wizardSteps[e-1].id:this._wizardSteps[e].id;this.navigateTo(t)}},{key:"navigateTo",value:function(e){var t=this._wizardSteps.findIndex((function(t){return t.id===e}));if(-1===t)throw new Error("The requested step id does not exists.");var n=this.state,r=n.currentStepIndex,o=n.numOfSteps,i=void 0!==this.props.onStepSubmit,a=r+1===o,c=0===r,u={currentStepIndex:r,requestedStepIndex:t,currentStep:this._wizardSteps[r],requestedStep:this._wizardSteps[t],isFirstStep:c,isLastStep:a};i?this.handleAsync(u):this.updateStep(u)}},{key:"updateStep",value:function(e){var t=this.props,n=t.onComplete,r=t.onStepComplete,o=e.isFirstStep,i=e.isLastStep,a=e.currentStepIndex,c=e.requestedStepIndex,u=c>=a;r(e),i&&u?n():o&&!u||i&&u||this.setState({currentStepIndex:c})}},{key:"handleAsync",value:function(e){var t=this,n=this.props.onStepSubmit;this.setState({isLoading:!0}),n(e).then((function(){t.setState({isLoading:!1}),t.updateStep(e)})).catch((function(){return t.setState({isLoading:!1})}))}},{key:"render",value:function(){var e=[zC,this.props.className].join(" ").trim();return u.a.createElement("div",{className:e},this.getChildren())}}])&&eE(t.prototype,n),r&&eE(t,r),i}(c.PureComponent);aE.propTypes={onStepComplete:p.a.func,onStepSubmit:p.a.func,onComplete:p.a.func,className:p.a.string,currentStepId:p.a.string,children:function(e,t){var n=e[t];return u.a.Children.toArray(n).some((function(e){return e.type===JC}))?null:new Error("`<Wizard>` must have at least one `<Step/>` component.")}},aE.defaultProps={onStepComplete:function(){return null},onComplete:function(){return null}};var cE=aE,uE=function(e){var t=e.navigateNext,n=e.children,r=e.className,o=e.disabled;return u.a.createElement("button",{onClick:t,className:["wizard-btn","btn-next",r].join(" ").trim(),disabled:o},n)};uE.propTypes={children:p.a.any,navigateNext:p.a.func,className:p.a.string,disabled:p.a.bool},uE.defaultProps={navigateNext:function(){return null},disabled:!1};var sE=function(e){var t=e.navigateBack,n=e.children,r=e.className,o=e.disabled;return u.a.createElement("button",{onClick:t,className:["wizard-btn","btn-back",r].join(" ").trim(),disabled:o},n)};sE.propTypes={children:p.a.any,navigateBack:p.a.func,className:p.a.string,disabled:p.a.bool},sE.defaultProps={navigateBack:function(){return null},disabled:!1};n("speT");var lE=function(e){var t=e.navigateTo,n=e.steps,r=e.className,o=e.currentStep,i=e.disabled,a=[KC,r].join(" ").trim();return u.a.createElement("ul",{className:a},n&&n.length&&n.map((function(e){return u.a.createElement("li",{key:e.id,className:o.id===e.id?"step-active":""},u.a.createElement("a",{href:"#!",onClick:function(n){return function(e,n){e.preventDefault(),i||t(n.id)}(n,e)}},e.title))})))};lE.propTypes={navigateTo:p.a.func,steps:p.a.arrayOf(ZC),className:p.a.string,currentStep:ZC,disabled:p.a.bool},lE.defaultProps={navigateTo:function(){return null},disabled:!1};n("UwGb");var fE=function(e){var t=e.fileCount,n=e.onDeliveryRejection,r=e.onRevisionAcceptanceQuestion,o=e.onAcceptDeliveryBtnClick,i=e.i18n,a=al(t,{fallbackValue:t});return u.a.createElement("div",{className:"pre-revision-question-on-delivery"},u.a.createElement("i",{className:"icn-delivery-files"}),u.a.createElement("p",null,i.t("attachments_preview.pre_revision.are_you_pleased.prefix")," ",u.a.createElement("b",null,i.t("attachments_preview.pre_revision.are_you_pleased.files",{count:a}))," ",i.t("attachments_preview.pre_revision.are_you_pleased.suffix")),u.a.createElement(Ll,{onClick:function(){r("Yes"),o()}},i.t("attachments_preview.general.yes")),u.a.createElement(Ll,{onClick:function(){r("No"),n("REJECTION_REASONS_STEP")}},i.t("attachments_preview.general.no")))};fE.propTypes={fileCount:p.a.number.isRequired,onDeliveryRejection:p.a.func.isRequired,onAcceptDeliveryBtnClick:p.a.func.isRequired,onRevisionAcceptanceQuestion:p.a.func.isRequired,i18n:p.a.shape({t:p.a.func})};var pE=Object(Te.compose)($c,Object(ge.connect)((function(e){return{fileCount:Jn(e),onAcceptDeliveryBtnClick:ec(e),onRevisionAcceptanceQuestion:$a(e)}})))(fE),dE=(n("DhUG"),["translationKey","forwardToStep"]);function hE(){return(hE=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function mE(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var vE=[{translationKey:"still_need_revisions",forwardToStep:"NEED_REVISIONS_STEP"},{translationKey:"received_partial_delivery",forwardToStep:"PARTIAL_DELIVERY_RESOLUTION_STEP"},{translationKey:"dissatisfied_with_quality",forwardToStep:"DISSATISFIED_QUALITY_STEP"},{translationKey:"did_not_receive_anything",forwardToStep:"RECEIVED_NOTHING_STEP"}],yE=function(e){var t=e.onReasonSelect,n=e.onRevisionRejection,r=e.goBack,o=e.i18n,i=function(e){return o.t("attachments_preview.pre_revision.why_delivery_ready.".concat(e))};return u.a.createElement("div",{className:"pre-revision-rejection-reasons"},u.a.createElement("p",null,o.t("attachments_preview.pre_revision.why_delivery_ready.question")),vE.map((function(e,r){var o=e.translationKey,a=e.forwardToStep,c=mE(e,dE);return u.a.createElement(Ll,hE({key:r,className:"btn-answer",color:"grey",fill:"ghost",onClick:function(){return function(e,r){n(i(e)),t(r)}(o,a)}},c),i(o))})),u.a.createElement("small",null,u.a.createElement("a",{className:"link-back",onClick:r},o.t("attachments_preview.general.back"))))};yE.propTypes={onReasonSelect:p.a.func.isRequired,onRevisionRejection:p.a.func.isRequired,goBack:p.a.func.isRequired,i18n:p.a.shape({t:p.a.func})};var bE=Object(Te.compose)($c,Object(ge.connect)((function(e){return{onRevisionRejection:Ja(e)}})))(yE),gE=(n("ctoA"),["translationKey","forwardToStep"]);function OE(){return(OE=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function wE(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var CE=function(e){var t=e.step,n=e.setStep,r=e.goBack,o=e.goToResolutionCenter,i=e.i18n,a=[{translationKey:"request_revision",forwardToStep:"NEED_REVISIONS_STEP"},{translationKey:"go_to_resolution_center",forwardToStep:o}],c=function(e){return i.t("attachments_preview.pre_revision.rejection_resolution.".concat(e))};return u.a.createElement("div",{className:"pre-revision-rejection-resolution"},u.a.createElement("p",null,c(we.a.toLower(t))),a.map((function(e,t){var r=e.translationKey,o=e.forwardToStep,i=wE(e,gE);return u.a.createElement(Ll,OE({key:t,className:"btn-answer",color:"grey",fill:"ghost",onClick:function(){return function(e,t){we.a.isFunction(t)?t():n(t)}(0,o)}},i),c(r))})),u.a.createElement("small",null,u.a.createElement("a",{className:"link-back",onClick:r},i.t("attachments_preview.general.back"))))};CE.propTypes={step:p.a.string,setStep:p.a.func.isRequired,goBack:p.a.func.isRequired,goToResolutionCenter:p.a.func.isRequired,i18n:p.a.shape({t:p.a.func})};var EE=Object(Te.compose)($c,Object(ge.connect)((function(e){return{goToResolutionCenter:Qa(e)}})))(CE);n("DLwQ");function SE(e){return(SE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function TE(e,t){return(TE=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function PE(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=NE(e);if(t){var o=NE(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return jE(this,n)}}function jE(e,t){if(t&&("object"===SE(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return RE(e)}function RE(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NE(e){return(NE=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function IE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xE=["PARTIAL_DELIVERY_RESOLUTION_STEP","DISSATISFIED_QUALITY_STEP","RECEIVED_NOTHING_STEP"],AE=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&TE(e,t)}(i,e);var t,n,r,o=PE(i);function i(){var e;_E(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return IE(RE(e=o.call.apply(o,[this].concat(n))),"state",{step:"QUESTION_STEP"}),IE(RE(e),"componentDidUpdate",(function(t,n){var r=e.props,o=r.setWithRevisionSettings,i=r.setWithPreRevisionSettings;e.syncHistory(t,n),e.isWizrdEnded()&&(o(!0),i(!1))})),IE(RE(e),"syncHistory",(function(t,n){e.state.step!==n.step&&Object(Oe.last)(e.history)!==e.state.step&&e.history.push(e.state.step)})),IE(RE(e),"history",[e.state.step]),IE(RE(e),"goBack",(function(){var t=Object(Oe.initial)(e.history),n=Object(Oe.last)(t);e.history=t,e.setStep(n)})),IE(RE(e),"isWizrdEnded",(function(){var t=e.state.step;return!t||"NEED_REVISIONS_STEP"===t})),IE(RE(e),"setStep",(function(t){return e.setState({step:t})})),e}return t=i,(n=[{key:"render",value:function(){var e=this,t=this.state.step;return this.isWizrdEnded()?null:u.a.createElement("div",{className:"pre-revision-wizard"},u.a.createElement(cE,{currentStepId:t},u.a.createElement(JC,{id:"QUESTION_STEP"},u.a.createElement(pE,{onDeliveryRejection:this.setStep})),u.a.createElement(JC,{id:"REJECTION_REASONS_STEP"},u.a.createElement(bE,{onReasonSelect:this.setStep,goBack:this.goBack})),xE.map((function(t){return u.a.createElement(JC,{id:t,key:t},u.a.createElement(EE,{step:t,setStep:e.setStep,goBack:e.goBack}))}))))}}])&&kE(t.prototype,n),r&&kE(t,r),i}(u.a.Component);AE.propTypes={setWithRevisionSettings:p.a.func.isRequired,setWithPreRevisionSettings:p.a.func.isRequired};var LE=Object(ge.connect)(null,{setWithRevisionSettings:function(e){return{type:"SET_WITH_REVISIONS",payload:e}},setWithPreRevisionSettings:function(e){return{type:"SET_WITH_PRE_REVISIONS",payload:e}}})(AE);n("cLZm");function DE(e){return(DE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ME(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function BE(e,t){return(BE=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function FE(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=HE(e);if(t){var o=HE(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return VE(this,n)}}function VE(e,t){if(t&&("object"===DE(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return UE(e)}function UE(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HE(e){return(HE=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var WE=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&BE(e,t)}(i,e);var t,n,r,o=FE(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this)).state={showNoComments:!0},e.scrollIdIntoView=e.scrollIdIntoView.bind(UE(e)),e.setShowNoCommentsTrue=e.setShowNoCommentsTrue.bind(UE(e)),e.setShowNoCommentsFalse=e.setShowNoCommentsFalse.bind(UE(e)),e}return t=i,(n=[{key:"componentDidMount",value:function(){var e=this;tc.on("comment:added",(function(t){return e.scrollIdIntoView(t)})),tc.on("reply:clicked",(function(t){return e.scrollIdIntoView(t)})),vn.on("MARKER_CLICK_EVENT",(function(t){var n=t.id;return e.scrollIdIntoView(n,!0)})),vn.on("ANNOTATION_CLICK_EVENT",(function(t){var n=t.commentId;return e.scrollIdIntoView(n,!0)}))}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.currentFileId,r=t.placeholderTabClicked,o=t.groupType;e.currentFileId===n&&e.placeholderTabClicked===r&&e.groupType===o||this.setShowNoCommentsTrue(),e.currentFileId!==n&&this.scrollIdIntoView(n,!0,!0)}},{key:"scrollIdIntoView",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2?arguments[2]:void 0;setTimeout((function(){if(t.olRoot){var o=r?t.olRoot.querySelector("#file-comment-".concat(e)):t.olRoot.querySelector("#comment-".concat(e));o&&o.scrollIntoView(n)}}),0)}},{key:"setShowNoCommentsTrue",value:function(){this.setState({showNoComments:!0})}},{key:"setShowNoCommentsFalse",value:function(){this.setState({showNoComments:!1})}},{key:"render",value:function(){var e=this,t=this.props,n=t.commentIds,r=t.isCollaborationDataReady,o=t.fileIds,i=t.placeholderTabClicked,a=t.groupType,c=t.currentCollaboratorInvitePermissions,s=t.isCurrentCollaboratorExternal,l=t.currentFileId,f=t.onlyOneGroup,p=t.isPostRevisionMode,d=t.isPreRevisionMode,h=t.isSellerCollaborationTabSelected,m=this.state.showNoComments;if(i&&c&&f)return u.a.createElement("div",{className:"comments-list-wrapper"},u.a.createElement($O,{placeholderTabClicked:i}));if(!r)return u.a.createElement("div",{className:"comments-list-wrapper"},u.a.createElement(LC,null));if(d&&!i&&h)return u.a.createElement(LE,null);if(p&&"collaborators"!==a)return u.a.createElement("div",{className:"comments-list-wrapper revision"},u.a.createElement("div",{className:"comments-list"},u.a.createElement(qC,null),u.a.createElement("ol",{ref:function(t){return e.olRoot=t}},o.map((function(e){return u.a.createElement(xC,{key:e,fileId:e})})))),u.a.createElement(Sw,null));if(!n||!n.length){var v=!s&&"collaborators"===a;return u.a.createElement("div",{className:"comments-list-wrapper"},o.map((function(e){return u.a.createElement(xC,{key:e,fileId:e})})),u.a.createElement(Sw,{setShowNoCommentsTrue:this.setShowNoCommentsTrue,setShowNoCommentsFalse:this.setShowNoCommentsFalse}),m&&u.a.createElement($O,{collaboratorTab:v}))}return p&&"collaborators"!==a?u.a.createElement("div",{className:"comments-list-wrapper revision"},u.a.createElement("div",{className:"comments-list"},u.a.createElement(qC,null),u.a.createElement("ol",{ref:function(t){return e.olRoot=t}},o.map((function(e){return u.a.createElement(xC,{key:e,fileId:e})})))),u.a.createElement(Sw,null)):u.a.createElement("div",{className:"comments-list-wrapper"},u.a.createElement("ol",{className:"comments-list",ref:function(t){return e.olRoot=t}},o.map((function(e){return[u.a.createElement(xC,{key:e,fileId:e}),l===e?u.a.createElement(Sw,null):null]}))))}}])&&ME(t.prototype,n),r&&ME(t,r),i}(c.Component);WE.defaultProps={commentsIds:[],fileIds:[],groupType:"seller",isCollaborationDataReady:!1,placeholderTabClicked:!1,currentCollaboratorInvitePermissions:!1,onlyOneGroup:!0,isPostRevisionMode:!1},WE.propTypes={commentIds:p.a.array,fileIds:p.a.array,groupType:p.a.string,isCollaborationDataReady:p.a.bool,placeholderTabClicked:p.a.bool,currentCollaboratorInvitePermissions:p.a.bool,isCurrentCollaboratorExternal:p.a.bool,currentFileId:p.a.string,onlyOneGroup:p.a.bool,isPostRevisionMode:p.a.bool,isPreRevisionMode:p.a.bool,isSellerCollaborationTabSelected:p.a.bool};var GE=Object(ge.connect)((function(e){var t=jn(e),n=t.id,r=t.type;return{commentIds:Lr(e),isCollaborationDataReady:pr(e),currentCollaboratorInvitePermissions:Io(e),fileIds:Fn(e,n),groupType:r,isCurrentCollaboratorExternal:Mo(e),currentFileId:rn(e),onlyOneGroup:Vn(e),isPostRevisionMode:nr(e),isSellerCollaborationTabSelected:xn(e),isPreRevisionMode:tr(e)}}))(WE),qE=(n("C88J"),function(e,t){return"collaborators"===e?t.t("attachments_preview.collaboration.groups.external_collaborators_group"):t.t("attachments_preview.collaboration.groups.buyer_seller_group")});function zE(e){var t=e.groupId,n=e.groupName,r=e.onClick,o=e.currentGroupId;return u.a.createElement("button",{className:h()("tab",{selected:o===t}),onClick:function(){return r(t)}},n)}zE.propTypes={type:p.a.string,currentGroupId:p.a.string.isRequired,groupId:p.a.string,groupName:p.a.string,onClick:p.a.func.isRequired,i18n:p.a.shape({t:p.a.func})};var YE=Object(Te.compose)($c,Object(ge.connect)((function(e,t){var n=t.type,r=t.i18n;return{currentGroupId:cn(e),groupId:Mn(e,n),groupName:qE(n,r)}}),{}))(zE);function KE(e){return(KE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ZE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function XE(e,t){return(XE=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function JE(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=eS(e);if(t){var o=eS(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $E(this,n)}}function $E(e,t){if(t&&("object"===KE(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return QE(e)}function QE(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eS(e){return(eS=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tS(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var nS=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&XE(e,t)}(i,e);var t,n,r,o=JE(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),tS(QE(t=o.call(this,e)),"setShouldShowPromptPendingComments",(function(e,n){t.setState({shouldShowPromptPendingComments:e,groupId:n})})),tS(QE(t),"handleOnClickOneGroup",(function(){var e=t.props,n=e.handlePlaceholderTabClick;e.pendingCommentsIdsLength?t.setShouldShowPromptPendingComments(!0):n(!0)})),tS(QE(t),"handleOnClickNotOneGroup",(function(e){var n=t.props,r=n.setCurrentGroupIdAndCurrentCollaboratorId;n.pendingCommentsIdsLength?t.setShouldShowPromptPendingComments(!0,e):r(e)})),t.state={shouldShowPromptPendingComments:!1},t}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.groups,n=e.handlePlaceholderTabClick,r=e.isPlaceholderTabClicked,o=e.setCurrentGroupIdAndCurrentCollaboratorId,i=e.senderInvitePermissions,a=e.i18n,c=this.state,s=c.shouldShowPromptPendingComments,l=c.groupId;return i?1===t.length?u.a.createElement("div",{className:"groups-tabs"},u.a.createElement("button",{className:h()("tab",{selected:!r}),onClick:function(){return n(!1)}},qE("seller",a)),u.a.createElement("button",{className:h()("tab",{selected:r}),onClick:this.handleOnClickOneGroup},qE("collaborators",a)),u.a.createElement(jm,{callback:function(){return n(!0)},shouldOpen:s,setShouldOpen:this.setShouldShowPromptPendingComments})):u.a.createElement("div",{className:"groups-tabs"},u.a.createElement(YE,{type:"seller",onClick:this.handleOnClickNotOneGroup}),u.a.createElement(YE,{type:"collaborators",onClick:this.handleOnClickNotOneGroup}),u.a.createElement(jm,{callback:function(){return o(l)},shouldOpen:s,setShouldOpen:this.setShouldShowPromptPendingComments})):null}}])&&ZE(t.prototype,n),r&&ZE(t,r),i}(u.a.Component);nS.propTypes={groups:p.a.array.isRequired,handlePlaceholderTabClick:p.a.func,setCurrentGroupIdAndCurrentCollaboratorId:p.a.func,isPlaceholderTabClicked:p.a.bool,senderInvitePermissions:p.a.bool,pendingCommentsIdsLength:p.a.number,i18n:p.a.shape({t:p.a.func})};var rS=Object(Te.compose)($c,Object(ge.connect)((function(e){return{groups:Object.values(Tn(e)),senderInvitePermissions:Io(e),pendingCommentsIdsLength:Sr(e)}}),(function(e){return{setCurrentGroupIdAndCurrentCollaboratorId:function(t){return e(Ko(t))}}})))(nS);n("mxL9");function oS(e){return(oS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function iS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function aS(e,t){return(aS=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function cS(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=lS(e);if(t){var o=lS(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return uS(this,n)}}function uS(e,t){if(t&&("object"===oS(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return sS(e)}function sS(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lS(e){return(lS=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var fS=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&aS(e,t)}(i,e);var t,n,r,o=cS(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={placeholderTabClicked:!1},t.handlePlaceholderTabClick=t.handlePlaceholderTabClick.bind(sS(t)),t}return t=i,(n=[{key:"componentDidUpdate",value:function(e){e.onlyOneGroup!==this.props.onlyOneGroup&&this.handlePlaceholderTabClick(!1)}},{key:"handlePlaceholderTabClick",value:function(e){this.setState({placeholderTabClicked:e}),this.props.setCurrentCommentId(void 0)}},{key:"render",value:function(){var e=this.props,t=e.collaborationsTabSelected,n=e.isSellerGroupInPreRevisionMode,r=this.state.placeholderTabClicked,o=h()("comments-panel",{"dark-theme":t||r});return u.a.createElement("div",{className:o},u.a.createElement(vO,null),u.a.createElement(rS,{handlePlaceholderTabClick:this.handlePlaceholderTabClick,isPlaceholderTabClicked:r}),u.a.createElement(GE,{placeholderTabClicked:r}),u.a.createElement(ZO,{isDisplay:!r&&!n}))}}])&&iS(t.prototype,n),r&&iS(t,r),i}(u.a.Component);fS.propTypes={collaborationsTabSelected:p.a.bool,setCurrentCommentId:p.a.func,onlyOneGroup:p.a.bool,isSellerGroupInPreRevisionMode:p.a.bool};var pS=Object(ge.connect)((function(e){return{collaborationsTabSelected:In(e),onlyOneGroup:Vn(e),isSellerGroupInPreRevisionMode:dr(e)}}),{setCurrentCommentId:zo})(fS);n("2GTP");function dS(e){var t=e.isCollaborationEnabled,n=e.shouldDisplayOpen,r=e.onOpen,o=e.onClose;if(!t)return null;var i=n&&t;return u.a.createElement(eO.a,{defaultOpen:i,bindBodyClickListener:!1,togglerDidOpen:r,togglerDidClose:o},(function(e){var t=e.isOpen,n=e.toggle,r=e.preventCloseAction;return u.a.createElement("div",{className:h()("collaboration-content-wrapper",{shown:t}),ref:r},u.a.createElement(hO,{key:1,onClick:n,isOpen:t}),u.a.createElement(pS,{key:2,isOpen:t}))}))}dS.propTypes={onOpen:p.a.func,onClose:p.a.func,isCollaborationEnabled:p.a.bool,shouldDisplayOpen:p.a.bool},dS.defaultProps={onOpen:function(){return null},onClose:function(){return null},isCollaborationEnabled:!1,defaultTogglerOpen:!1};var hS=Object(Te.compose)(Mm("CollaborationSidebar"),Object(ge.connect)((function(e){return{isCollaborationEnabled:er(e)&&pr(e)}})))(dS),mS=(n("cyMd"),function(){return u.a.createElement("div",{className:"loader"})});n("L7qC");function vS(e){return(vS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bS(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function OS(e,t){return(OS=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function wS(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=SS(e);if(t){var o=SS(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return CS(this,n)}}function CS(e,t){if(t&&("object"===vS(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ES(e)}function ES(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SS(e){return(SS=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _S=[nu,ru],kS=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&OS(e,t)}(i,e);var t,n,r,o=wS(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this)).state={isVisible:!1,width:0,height:0,left:0,top:0,indicatorTop:0,indicatorLeft:0,isTouch:mn()},e.previousResizeHandler=null,e.handleNewMedia=e.handleNewMedia.bind(ES(e)),e.setOverlayPosition=e.setOverlayPosition.bind(ES(e)),e.renderAnnotations=e.renderAnnotations.bind(ES(e)),e.annotationClicked=e.annotationClicked.bind(ES(e)),e.onClick=e.onClick.bind(ES(e)),e.onResizeHandler=Object(Oe.throttle)(e.onResizeHandler.bind(ES(e)),0),e.resizeObserver=new Bs.a(e.onResizeHandler),e.toggleFaddedAnnotations=e.toggleFaddedAnnotations.bind(ES(e)),e.updateIndicatorPosition=e.updateIndicatorPosition.bind(ES(e)),e}return t=i,(n=[{key:"componentDidMount",value:function(){var e=this.props.media;document.addEventListener("transitionend",this.onResizeHandler),window.addEventListener("resize",this.onResizeHandler),this.handleNewMedia(null,e)}},{key:"componentDidUpdate",value:function(e){this.props.media!==e.media&&this.handleNewMedia(e.media,this.props.media)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("transitionend",this.onResizeHandler),window.removeEventListener("resize",this.onResizeHandler);var e=Object(Oe.get)(this,"props.media.element");e&&this.resizeObserver.unobserve(e)}},{key:"onResizeHandler",value:function(){var e=this.props.media;this.setOverlayPosition(e)}},{key:"toggleFaddedAnnotations",value:function(e){e.stopPropagation(),this.props.toggleAnnotationsVisible()}},{key:"updateIndicatorPosition",value:function(e){this.setState({indicatorLeft:e.clientX-3,indicatorTop:e.clientY-8})}},{key:"handleNewMedia",value:function(e,t){e&&e!==t&&this.resizeObserver.unobserve(e.element),t&&_S.includes(t.type)&&(this.resizeObserver.observe(t.element),this.setOverlayPosition(t))}},{key:"setOverlayPosition",value:function(e){if(e){var t=e.element.getBoundingClientRect();if(t){var n=e.type===nu?t.height-25:t.height;this.setState({height:n,isVisible:!0,width:t.width,left:t.left,top:t.top})}}}},{key:"onClick",value:function(e){var t=this.props,n=t.isActive,r=t.overlayClicked,o=this.state.isTouch;if(n&&!o){vn.emit("OVERLAY_CLICK_EVENT");var i=this.overlay.getBoundingClientRect(),a=e.clientY-i.top,c=e.clientX-i.left,u=i.height,s=i.width;r(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yS(Object(n),!0).forEach((function(t){bS(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({type:"Dot"},{yPercentage:(a/u*100).toFixed(2),xPercentage:(c/s*100).toFixed(2)}))}}},{key:"renderAnnotations",value:function(e){var t=this;return e.length?Object(Oe.map)(e,(function(e){return u.a.createElement("div",{className:h()("annotation",{faded:!e.isCurrent},{removable:e.isRemovable}),key:"".concat(e.xPercentage,"-").concat(e.yPercentage),onClick:function(n){return t.annotationClicked(n,e)},style:{left:"calc(".concat(e.xPercentage,"% - ").concat(8,"px)"),top:"calc(".concat(e.yPercentage,"% - ").concat(8,"px)")}})})):null}},{key:"annotationClicked",value:function(e,t){e.stopPropagation(),t.commentId&&vn.emit("ANNOTATION_CLICK_EVENT",t),this.props.annotationClicked(t),pn({eventName:"Opened collaboration comment",eventData:{"Opened Comment Source":"Dots"}})}},{key:"render",value:function(){var e=this,t=this.props,n=t.media,r=t.isActive,o=t.isVisible,i=t.annotations,a=t.fadedAnnotations,c=t.annotationsHidden,s=t.hasTempAnnotation;if(!n||!_S.includes(n.type))return null;if(!o)return null;var l=this.state,f=l.isTouch,p=l.width,d=l.height,m=l.top,v=l.left,y=l.indicatorTop,b=l.indicatorLeft,g={width:p,height:d,top:m,left:v},O=h()("indicator",{"has-temp":s}),w=h()("media-overlay",{active:r},{"is-touch":f});return u.a.createElement("div",{style:g,ref:function(t){return e.overlay=t},className:w,onClick:this.onClick,onMouseEnter:this.updateIndicatorPosition,onMouseMove:this.updateIndicatorPosition},this.renderAnnotations(i),!c&&this.renderAnnotations(a),u.a.createElement("div",{className:O,style:{top:y,left:b}}))}}])&&gS(t.prototype,n),r&&gS(t,r),i}(c.Component);kS.defaultProps={overlayClicked:function(){return null},annotationClicked:function(){return null},toggleAnnotationsVisible:function(){return null},annotations:[],fadedAnnotations:[],annotationsHidden:!1,isVisible:!0,isActive:!1,hasTempAnnotation:!1},kS.propTypes={media:p.a.shape({type:p.a.string.isRequired,element:p.a.object.isRequired,api:p.a.object.isRequired}),overlayClicked:p.a.func.isRequired,annotationClicked:p.a.func.isRequired,toggleAnnotationsVisible:p.a.func.isRequired,annotations:p.a.array.isRequired,fadedAnnotations:p.a.array,isVisible:p.a.bool,isActive:p.a.bool,annotationsHidden:p.a.bool,hasTempAnnotation:p.a.bool};var TS=Object(ge.connect)((function(e){return{annotations:Wr(e),fadedAnnotations:Hr(e),annotationsHidden:Qy(e),hasTempAnnotation:!!eb(e).length,isVisible:pr(e),isActive:$n(e)&&!dr(e)}}),{annotationClicked:function(e){return function(t){e.commentId&&t(zo(e.commentId)),t({type:"ANNOTATION_CLICKED",payload:e})}},overlayClicked:$y,toggleAnnotationsVisible:function(){return{type:"TOGGLE_ANNOTATIONS_VISIBILITY_CLICK"}}})(kS),PS=p.a.shape({type:p.a.string.isRequired,element:p.a.object.isRequired,api:p.a.object.isRequired});function jS(e){return(jS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function RS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function NS(e,t){return(NS=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function IS(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=LS(e);if(t){var o=LS(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return xS(this,n)}}function xS(e,t){if(t&&("object"===jS(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return AS(e)}function AS(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LS(e){return(LS=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var DS=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&NS(e,t)}(i,e);var t,n,r,o=IS(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).onCommentBoxFocus=t.onCommentBoxFocus.bind(AS(t)),t.onProgressClick=t.onProgressClick.bind(AS(t)),t.onCommentClick=t.onCommentClick.bind(AS(t)),t.pauseMedia=t.pauseMedia.bind(AS(t)),t.onPlay=t.onPlay.bind(AS(t)),t}return t=i,(n=[{key:"componentDidMount",value:function(){ww.on(Cw,this.onCommentBoxFocus),tc.on("comment:clicked",this.onCommentClick),vn.on("MARKER_CLICK_EVENT",this.onCommentClick),vn.on("MEDIA_PLAY_EVENT",this.onPlay),vn.on("OVERLAY_CLICK_EVENT",this.pauseMedia),vn.on("PROGRESS_CLICK_EVENT",this.onProgressClick)}},{key:"onPlay",value:function(){this.props.setCurrentCommentId(void 0)}},{key:"onProgressClick",value:function(){this.props.setCurrentCommentId(void 0)}},{key:"pauseMedia",value:function(){var e=this.props.media,t=Object(Oe.get)(e,"api.pause");t&&t()}},{key:"updateCurrentTime",value:function(){var e=this.props,t=e.media,n=e.setCurrentTimecode,r=Object(Oe.get)(t,"api.currentTime"),o=r&&r()||0;n&&n(o)}},{key:"seekMedia",value:function(e){var t=this.props.media,n=Object(Oe.get)(t,"api.seek");!Object(Oe.isNil)(e)&&n&&n(e)}},{key:"onCommentClick",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pauseMedia(),this.seekMedia(e.timecode),this.updateCurrentTime()}},{key:"onCommentBoxFocus",value:function(){this.pauseMedia(),this.updateCurrentTime()}},{key:"render",value:function(){return null}}])&&RS(t.prototype,n),r&&RS(t,r),i}(c.Component);DS.propTypes={media:PS,setCurrentTimecode:p.a.func,setCurrentCommentId:p.a.func};var MS=Object(ge.connect)(null,{setCurrentTimecode:Yo,setCurrentCommentId:zo})(DS),BS=(n("mfkv"),"/?utm_source=external_collaboration"),FS=function(e){var t=e.i18n;return u.a.createElement("div",{className:"attachments_preview-package error-page-collaboration-wrapper font-accent"},u.a.createElement("header",null,u.a.createElement("a",{href:BS},u.a.createElement("span",{className:"logo"},u.a.createElement(kh,null)),t.t("attachments_preview.header.what_is_fiverr"))),u.a.createElement("div",{className:"error-page-main"},u.a.createElement("div",{className:"icon"}),u.a.createElement("h3",null,t.t("attachments_preview.error_page.title")),u.a.createElement("p",null,t.t("attachments_preview.error_page.file_not_exist")),u.a.createElement(Ll,{href:BS},t.t("attachments_preview.error_page.go_to_fiverr"))))};FS.propTypes={i18n:p.a.shape({t:p.a.func})};var VS=$c(FS);n("W+43");function US(e){return(US="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function HS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function WS(e,t){return(WS=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function GS(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=YS(e);if(t){var o=YS(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return qS(this,n)}}function qS(e,t){if(t&&("object"===US(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return zS(e)}function zS(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YS(e){return(YS=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var KS="".concat("collaboration-wrapper"," attachments_preview-package order_page_perseus collaboration_perseus"),ZS=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&WS(e,t)}(i,e);var t,n,r,o=GS(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={loadedMedia:null,walkThroughSteps:[],seenWalkThrough:!1},t.updateRootRef=t.updateRootRef.bind(zS(t)),t.mediaLoaded=t.mediaLoaded.bind(zS(t)),t.beforeUnloadHandler=t.beforeUnloadHandler.bind(zS(t)),t.setWalkThroughSteps=t.setWalkThroughSteps.bind(zS(t)),t.shouldStartWalkthroughTour=t.shouldStartWalkthroughTour.bind(zS(t)),t.onMarkerClick=t.onMarkerClick.bind(zS(t)),t.onProgressClick=t.onProgressClick.bind(zS(t)),t.onPlay=t.onPlay.bind(zS(t)),t.handleSeenWalkThrough=t.handleSeenWalkThrough.bind(zS(t)),t}return t=i,(n=[{key:"componentDidMount",value:function(){window.addEventListener("beforeunload",this.beforeUnloadHandler);var e=window.innerWidth>=1024;this.trackPageViewEvent(),this.setState({shouldDisplayOpen:e,togglerOpen:e})}},{key:"componentDidUpdate",value:function(e,t){this.shouldStartWalkthroughTour(e,t)&&this.setWalkThroughSteps()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("beforeunload",this.beforeUnloadHandler)}},{key:"trackPageViewEvent",value:function(){var e=this.props,t=e.currentCollaboratorInvitePermissions,n=e.activeParticipatorsInCurrentGroup;e.isCollaborationEnabled&&pn({eventName:"Viewed Collaboration Tool",eventData:{"Has share permissions":t,"Number of active participants":n.length}})}},{key:"shouldStartWalkthroughTour",value:function(e,t){return!(this.props.isLoading||!this.props.isCollaborationEnabled||window.innerWidth<768||(e.currentCollaboratorId||!this.props.currentCollaboratorId||!this.state.togglerOpen)&&(!e.isLoading||this.props.isLoading||!this.state.togglerOpen)&&(e.pendingCommentsIds.length||!this.props.pendingCommentsIds.length||!this.state.togglerOpen)&&(t.togglerOpen||!this.state.togglerOpen||!this.props.currentCollaboratorId))}},{key:"beforeUnloadHandler",value:function(e){var t=Object(Oe.get)(e,"target.activeElement");if(t&&t.hasAttribute("data-download-link"))document.querySelector(".".concat("collaboration-wrapper")).focus();else{var n=this.props.pendingCommentsIds;n.length&&(e.preventDefault(),e.returnValue=""),pn({eventName:"Closed file wiewer",eventData:{"Close Source":"Browser","Has Pending Comments":!!n.length}})}}},{key:"updateRootRef",value:function(e){this.state.rootRef||this.setState({rootRef:e})}},{key:"mediaLoaded",value:function(e){this.setState({loadedMedia:e})}},{key:"setWalkThroughSteps",value:function(){var e=this.props,t=e.currentFilerrPreviewType,n=e.comments,r=e.currentCollaboratorId,o=e.currentCollaboratorPermissions,i=e.groupsCount,a=e.i18n,c=Object(Oe.filter)(n,(function(e){return e.collaboratorId!==r}));this.setState({walkThroughSteps:pu(t,c.length,o,i,a)})}},{key:"onMarkerClick",value:function(e){vn.emit("MARKER_CLICK_EVENT",e),pn({eventName:"Opened collaboration comment",eventData:{"Opened Comment Source":"Timeline Markers"}})}},{key:"handleSeenWalkThrough",value:function(e){this.setState({seenWalkThrough:e})}},{key:"onProgressClick",value:function(e){vn.emit("PROGRESS_CLICK_EVENT",e)}},{key:"onPlay",value:function(){vn.emit("MEDIA_PLAY_EVENT")}},{key:"render",value:function(){var e=this;if(this.props.isRemovedCollaboratorError)return u.a.createElement(VS,null);var t=this.props,n=t.close,r=t.isCollaborationEnabled,o=t.currentCollaboratorUsername,i=t.isUnsubscribing,a=this.state,c=a.loadedMedia,s=a.shouldDisplayOpen,l=a.seenWalkThrough,f=void 0!==s&&r,p=i||!o&&l;return u.a.createElement("div",{className:KS,tabIndex:0,ref:this.updateRootRef},u.a.createElement("div",{className:"previewer-content"},f&&u.a.createElement(hS,{shouldDisplayOpen:s,onOpen:function(){return e.setState({togglerOpen:!0})},onClose:function(){return e.setState({togglerOpen:!1})}}),u.a.createElement($g,{onMediaLoad:this.mediaLoaded,loadedMedia:c,onMarkerClick:this.onMarkerClick,onProgressClick:this.onProgressClick,onPlay:this.onPlay,close:n},u.a.createElement(kn,{condition:r},u.a.createElement(TS,{media:c}),u.a.createElement(MS,{media:c}))),u.a.createElement(Ru,{steps:this.state.walkThroughSteps,handleSeenWalkThrough:this.handleSeenWalkThrough}),p&&u.a.createElement(Hh,null),u.a.createElement(eu.a,{namespace:"collaboration-wrapper",position:{vertical:Qc.POS_TOP,horizontal:Qc.POS_CENTER}})))}}])&&HS(t.prototype,n),r&&HS(t,r),i}(c.Component);ZS.propTypes={close:p.a.func,currentFilerrPreviewType:p.a.string,isCollaborationEnabled:p.a.bool,pendingCommentsIds:p.a.array,comments:p.a.arrayOf(iu),currentCollaboratorId:p.a.string,currentCollaboratorPermissions:p.a.object,groupsCount:p.a.number,isLoading:p.a.bool,currentCollaboratorUsername:p.a.string,currentCollaboratorInvitePermissions:p.a.bool,activeParticipatorsInCurrentGroup:p.a.array,isRemovedCollaboratorError:p.a.bool,isUnsubscribing:p.a.bool,i18n:p.a.shape({t:p.a.func})};var XS=Object(Te.compose)($c,Object(ge.connect)((function(e){return{currentFilerrPreviewType:ma(e),isCollaborationEnabled:er(e)&&pr(e),pendingCommentsIds:Er(e),groupsCount:Ln(e),comments:Tr(e),currentCollaboratorId:un(e),currentCollaboratorPermissions:No(e),currentCollaboratorUsername:ko(e),isRemovedCollaboratorError:Ba(e),isLoading:Wn(e),isUnsubscribing:ar(e),currentCollaboratorInvitePermissions:Io(e),activeParticipatorsInCurrentGroup:bo(e)}})))(function(e){function t(t){return t.isLoading?u.a.createElement(mS,null):u.a.createElement(e,t)}return t.propTypes={isLoading:p.a.bool},t.displayName="WithLoadingState(".concat(e.displayName||e.name||"Component",")"),t}(ZS));function JS(e){return(JS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function QS(e,t){return(QS=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function e_(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=n_(e);if(t){var o=n_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return t_(this,n)}}function t_(e,t){if(t&&("object"===JS(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function n_(e){return(n_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var r_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&QS(e,t)}(i,e);var t,n,r,o=e_(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).store=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(jc=Te.createStore(wt,e,Te.compose(Te.applyMiddleware(Re),"object"===("undefined"==typeof window?"undefined":Pc(window))&&void 0!==window.devToolsExtension?window.devToolsExtension():function(e){return e}))).dispatch(Tc(t)).catch((function(e){Et(e,"createStore")})),jc}(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{filerrs:Nc(e.filerrs),settings:{source:e.source,withModalBehavior:e.withModalBehavior,withCollaboration:e.withCollaboration,withPreRevision:e.withPreRevision,withUnsubscribe:e.withUnsubscribe,withRevision:e.withRevision,withPostRevision:e.withPostRevision,contextType:e.contextType,contextId:e.contextId,standalone:!e.withModalBehavior||!1,requiredGroupType:e.requiredGroupType,teamId:e.teamId,showPdfViewer:e.showPdfViewer},current:{userId:e.userId,collaboratorId:e.collaboratorId,reviewId:e.reviewId},tempAnnotations:Rc,annotationsHidden:!1,callbacks:e.callbacks,commentBoxCancelled:!1}}(t.props),t.props),t}return t=i,(n=[{key:"componentDidMount",value:function(){var e=this.props.source;this.trackPageVisit(e)}},{key:"trackPageVisit",value:function(e){xc({type:"collaboration_tool_show",group:"page_view",collaboration:{source:e}})}},{key:"render",value:function(){var e=this.props,t=e.close,n=e.locale;return u.a.createElement(ge.Provider,{store:this.store},u.a.createElement(Hc,{close:t},u.a.createElement(Jc,{locale:n},u.a.createElement(XS,{close:t}))))}}])&&$S(t.prototype,n),r&&$S(t,r),i}(c.Component);r_.propTypes={filerrIds:p.a.arrayOf(p.a.string),filerrs:p.a.array,currentFilerrId:p.a.string.isRequired,userId:p.a.number,collaboratorId:p.a.string,recipientIds:p.a.arrayOf(p.a.number),contextType:p.a.string,contextId:p.a.oneOfType([p.a.string,p.a.number]),withCollaboration:p.a.bool,withRevision:p.a.bool,withPostRevision:p.a.bool,reviewId:p.a.string,withModalBehavior:p.a.bool,withUnsubscribe:p.a.bool,source:p.a.string,callbacks:p.a.shape({onReviewCreated:p.a.func}),groupType:p.a.string,close:p.a.func,locale:p.a.string,requiredGroupType:p.a.string,teamId:p.a.string},r_.defaultProps={withCollaboration:!1,withRevision:!1,withPostRevision:!1,reviewId:"",withModalBehavior:!0,filerrs:[],recipientIds:[],groupType:"seller",requiredGroupType:"seller"};var o_=r_;function i_(e){return(i_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a_(Object(n),!0).forEach((function(t){u_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u_(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l_(e,t){return(l_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f_(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h_(e);if(t){var o=h_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p_(this,n)}}function p_(e,t){if(t&&("object"===i_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return d_(e)}function d_(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h_(e){return(h_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l_(e,t)}(i,e);var t,n,r,o=f_(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state=c_({source:"undefined",filerrIds:[]},e),t.open=null,t.trigger=t.trigger.bind(d_(t)),t.handleAttachmentClicked=t.handleAttachmentClicked.bind(d_(t)),t.setProps=t.setProps.bind(d_(t)),t.getFilerrsIds=t.getFilerrsIds.bind(d_(t)),t}return t=i,(n=[{key:"componentDidMount",value:function(){document.addEventListener("attachment-clicked",this.handleAttachmentClicked)}},{key:"componentDidUpdate",value:function(e){e!==this.props&&this.setProps()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("attachment-clicked",this.handleAttachmentClicked)}},{key:"setProps",value:function(){this.setState(c_({},this.props))}},{key:"handleAttachmentClicked",value:function(e){var t=this;if(e){var n=e.detail||{},r=n.filerrIds,o=n.filerrs,i=n.currentFilerrId,a=n.userId,c=n.recipientIds,u=n.collaboratorId,s=n.contextType,l=n.contextId,f=n.withCollaboration,p=n.withPreRevision,d=n.withRevision,h=n.withPostRevision,m=n.reviewId,v=n.callbacks,y=n.source,b=n.requiredGroupType,g=n.teamId,O=n.groupType,w=e.detail.locale||this.props.locale;this.setState({filerrIds:r,filerrs:o,currentFilerrId:i,userId:a,recipientIds:c,collaboratorId:u,contextType:s,contextId:l,withCollaboration:f,withPreRevision:p,withRevision:d,withPostRevision:h,reviewId:m,callbacks:v,source:y,requiredGroupType:b,groupType:O,teamId:g,locale:w},(function(){t.open&&t.open()}))}}},{key:"trigger",value:function(e){return this.open=e,u.a.createElement("span",null)}},{key:"getFilerrsIds",value:function(){var e=this.state,t=e.filerrIds,n=e.filerrs;return t.length?t:n?n.map((function(e){return e.id})):[]}},{key:"render",value:function(){var e=this,t=this.state,n=t.filerrs,r=t.currentFilerrId,o=t.userId,i=t.recipientIds,a=t.collaboratorId,c=t.contextType,s=t.contextId,l=t.withCollaboration,f=t.withPreRevision,p=t.withRevision,d=t.withPostRevision,h=t.reviewId,m=t.source,v=t.callbacks,y=t.requiredGroupType,b=t.groupType,g=t.teamId,O=t.trigger,w=t.locale,C=this.getFilerrsIds();return u.a.createElement("div",{className:"__attachments-previewer-modal__"},u.a.createElement(ye,{bindBodyClickListener:!1,closeOnEscape:!1,className:"previewer-modal-base",name:"previewer-modal-container",trigger:function(t){var n=t.open;return O?O(n):e.trigger(n)}},(function(e){var t=e.close;return u.a.createElement(o_,{filerrIds:C,filerrs:n,currentFilerrId:r||n[0].id,userId:o,collaboratorId:a,recipientIds:i,contextType:c,contextId:s,withCollaboration:l,withPreRevision:f,withRevision:p,withPostRevision:d,reviewId:h,withModalBehavior:!0,source:m,callbacks:v,close:t,requiredGroupType:y,groupType:b,teamId:g,locale:w})})))}}])&&s_(t.prototype,n),r&&s_(t,r),i}(c.Component);m_.propTypes={locale:p.a.string};var v_="undefined"!=typeof document&&document.getElementById("AttachmentsPreview-component");if(v_){var y_=window.initialData.AttachmentsPreview;l.a.render(u.a.createElement(m_,y_),v_)}t.default=m_},uSWb:function(e,t,n){e.exports={}},uaXv:function(e,t,n){e.exports={}},uqdd:function(e,t,n){e.exports={}},"vYa/":function(e,t,n){e.exports={}},wkzA:function(e,t,n){window,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=79)}([function(e,t,n){var r=n(1),o=n(14),i=n(8),a=n(16),c=n(31),u=function(e,t,n){var s,l,f,p,d=e&u.F,h=e&u.G,m=e&u.S,v=e&u.P,y=e&u.B,b=h?r:m?r[t]||(r[t]={}):(r[t]||{}).prototype,g=h?o:o[t]||(o[t]={}),O=g.prototype||(g.prototype={});for(s in h&&(n=t),n)f=((l=!d&&b&&void 0!==b[s])?b:n)[s],p=y&&l?c(f,r):v&&"function"==typeof f?c(Function.call,f):f,b&&a(b,s,f,e&u.U),g[s]!=f&&i(g,s,p),v&&O[s]!=f&&(O[s]=f)};r.core=o,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){var r=n(28)("wks"),o=n(12),i=n(1).Symbol,a="function"==typeof i;(e.exports=function(e){return r[e]||(r[e]=a&&i[e]||(a?i:o)("Symbol."+e))}).store=r},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){e.exports=!n(5)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(13),o=n(54),i=n(32),a=Object.defineProperty;t.f=n(6)?Object.defineProperty:function(e,t,n){if(r(e),t=i(t,!0),r(n),o)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(7),o=n(17);e.exports=n(6)?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(0);r(r.S+r.F*!n(6),"Object",{defineProperty:n(7).f})},function(e,t,n){var r=n(50),o=n(29);e.exports=function(e){return r(o(e))}},function(e,t,n){var r=n(43),o=n(22);e.exports=Object.keys||function(e){return r(e,o)}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t,n){var r=n(3);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t){var n=e.exports={version:"2.5.7"};"number"==typeof __e&&(__e=n)},function(e,t){e.exports=!1},function(e,t,n){var r=n(1),o=n(8),i=n(4),a=n(12)("src"),c=Function.toString,u=(""+c).split("toString");n(14).inspectSource=function(e){return c.call(e)},(e.exports=function(e,t,n,c){var s="function"==typeof n;s&&(i(n,"name")||o(n,"name",t)),e[t]!==n&&(s&&(i(n,a)||o(n,a,e[t]?""+e[t]:u.join(String(t)))),e===r?e[t]=n:c?e[t]?e[t]=n:o(e,t,n):(delete e[t],o(e,t,n)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[a]||c.call(this)}))},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){"use strict";var r=n(1),o=n(4),i=n(6),a=n(0),c=n(16),u=n(64).KEY,s=n(5),l=n(28),f=n(21),p=n(12),d=n(2),h=n(38),m=n(39),v=n(63),y=n(46),b=n(13),g=n(3),O=n(10),w=n(32),C=n(17),E=n(24),S=n(62),_=n(35),k=n(7),T=n(11),P=_.f,j=k.f,R=S.f,N=r.Symbol,I=r.JSON,x=I&&I.stringify,A=d("_hidden"),L=d("toPrimitive"),D={}.propertyIsEnumerable,M=l("symbol-registry"),B=l("symbols"),F=l("op-symbols"),V=Object.prototype,U="function"==typeof N,H=r.QObject,W=!H||!H.prototype||!H.prototype.findChild,G=i&&s((function(){return 7!=E(j({},"a",{get:function(){return j(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=P(V,t);r&&delete V[t],j(e,t,n),r&&e!==V&&j(V,t,r)}:j,q=function(e){var t=B[e]=E(N.prototype);return t._k=e,t},z=U&&"symbol"==typeof N.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof N},Y=function(e,t,n){return e===V&&Y(F,t,n),b(e),t=w(t,!0),b(n),o(B,t)?(n.enumerable?(o(e,A)&&e[A][t]&&(e[A][t]=!1),n=E(n,{enumerable:C(0,!1)})):(o(e,A)||j(e,A,C(1,{})),e[A][t]=!0),G(e,t,n)):j(e,t,n)},K=function(e,t){b(e);for(var n,r=v(t=O(t)),o=0,i=r.length;i>o;)Y(e,n=r[o++],t[n]);return e},Z=function(e){var t=D.call(this,e=w(e,!0));return!(this===V&&o(B,e)&&!o(F,e))&&(!(t||!o(this,e)||!o(B,e)||o(this,A)&&this[A][e])||t)},X=function(e,t){if(e=O(e),t=w(t,!0),e!==V||!o(B,t)||o(F,t)){var n=P(e,t);return!n||!o(B,t)||o(e,A)&&e[A][t]||(n.enumerable=!0),n}},J=function(e){for(var t,n=R(O(e)),r=[],i=0;n.length>i;)o(B,t=n[i++])||t==A||t==u||r.push(t);return r},$=function(e){for(var t,n=e===V,r=R(n?F:O(e)),i=[],a=0;r.length>a;)!o(B,t=r[a++])||n&&!o(V,t)||i.push(B[t]);return i};U||(c((N=function(){if(this instanceof N)throw TypeError("Symbol is not a constructor!");var e=p(arguments.length>0?arguments[0]:void 0),t=function(n){this===V&&t.call(F,n),o(this,A)&&o(this[A],e)&&(this[A][e]=!1),G(this,e,C(1,n))};return i&&W&&G(V,e,{configurable:!0,set:t}),q(e)}).prototype,"toString",(function(){return this._k})),_.f=X,k.f=Y,n(36).f=S.f=J,n(18).f=Z,n(37).f=$,i&&!n(15)&&c(V,"propertyIsEnumerable",Z,!0),h.f=function(e){return q(d(e))}),a(a.G+a.W+a.F*!U,{Symbol:N});for(var Q="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ee=0;Q.length>ee;)d(Q[ee++]);for(var te=T(d.store),ne=0;te.length>ne;)m(te[ne++]);a(a.S+a.F*!U,"Symbol",{for:function(e){return o(M,e+="")?M[e]:M[e]=N(e)},keyFor:function(e){if(!z(e))throw TypeError(e+" is not a symbol!");for(var t in M)if(M[t]===e)return t},useSetter:function(){W=!0},useSimple:function(){W=!1}}),a(a.S+a.F*!U,"Object",{create:function(e,t){return void 0===t?E(e):K(E(e),t)},defineProperty:Y,defineProperties:K,getOwnPropertyDescriptor:X,getOwnPropertyNames:J,getOwnPropertySymbols:$}),I&&a(a.S+a.F*(!U||s((function(){var e=N();return"[null]"!=x([e])||"{}"!=x({a:e})||"{}"!=x(Object(e))}))),"JSON",{stringify:function(e){for(var t,n,r=[e],o=1;arguments.length>o;)r.push(arguments[o++]);if(n=t=r[1],(g(t)||void 0!==e)&&!z(e))return y(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!z(t))return t}),r[1]=t,x.apply(I,r)}}),N.prototype[L]||n(8)(N.prototype,L,N.prototype.valueOf),f(N,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},function(e,t,n){n(39)("asyncIterator")},function(e,t,n){var r=n(7).f,o=n(4),i=n(2)("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var r=n(28)("keys"),o=n(12);e.exports=function(e){return r[e]||(r[e]=o(e))}},function(e,t,n){var r=n(13),o=n(71),i=n(22),a=n(23)("IE_PROTO"),c=function(){},u=function(){var e,t=n(53)("iframe"),r=i.length;for(t.style.display="none",n(69).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),u=e.F;r--;)delete u.prototype[i[r]];return u()};e.exports=Object.create||function(e,t){var n;return null!==e?(c.prototype=r(e),n=new c,c.prototype=null,n[a]=e):n=u(),void 0===t?n:o(n,t)}},function(e,t){e.exports={}},function(e,t,n){"use strict";var r=n(75),o=n(74),i=n(25),a=n(10);e.exports=n(73)(Array,"Array",(function(e,t){this._t=a(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,o(1)):o(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},function(e,t,n){"use strict";var r=n(5);e.exports=function(e,t){return!!e&&r((function(){t?e.call(null,(function(){}),1):e.call(null)}))}},function(e,t,n){var r=n(14),o=n(1),i=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(15)?"pure":"global",copyright:" 2018 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r=n(29);e.exports=function(e){return Object(r(e))}},function(e,t,n){var r=n(52);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var r=n(3);e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r=n(0);r(r.S,"Object",{setPrototypeOf:n(57).set})},function(e,t,n){var r=n(0);r(r.S,"Object",{create:n(24)})},function(e,t,n){var r=n(18),o=n(17),i=n(10),a=n(32),c=n(4),u=n(54),s=Object.getOwnPropertyDescriptor;t.f=n(6)?s:function(e,t){if(e=i(e),t=a(t,!0),u)try{return s(e,t)}catch(e){}if(c(e,t))return o(!r.f.call(e,t),e[t])}},function(e,t,n){var r=n(43),o=n(22).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){t.f=n(2)},function(e,t,n){var r=n(1),o=n(14),i=n(15),a=n(38),c=n(7).f;e.exports=function(e){var t=o.Symbol||(o.Symbol=i?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||c(t,e,{value:a.f(e)})}},function(e,t,n){var r=n(0);r(r.P,"Function",{bind:n(66)})},function(e,t,n){var r=n(30),o=n(11);n(67)("keys",(function(){return function(e){return o(r(e))}}))},function(e,t,n){var r=n(10),o=n(48),i=n(70);e.exports=function(e){return function(t,n,a){var c,u=r(t),s=o(u.length),l=i(a,s);if(e&&n!=n){for(;s>l;)if((c=u[l++])!=c)return!0}else for(;s>l;l++)if((e||l in u)&&u[l]===n)return e||l||0;return!e&&-1}}},function(e,t,n){var r=n(4),o=n(10),i=n(42)(!1),a=n(23)("IE_PROTO");e.exports=function(e,t){var n,c=o(e),u=0,s=[];for(n in c)n!=a&&r(c,n)&&s.push(n);for(;t.length>u;)r(c,n=t[u++])&&(~i(s,n)||s.push(n));return s}},function(e,t,n){for(var r=n(26),o=n(11),i=n(16),a=n(1),c=n(8),u=n(25),s=n(2),l=s("iterator"),f=s("toStringTag"),p=u.Array,d={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},h=o(d),m=0;m<h.length;m++){var v,y=h[m],b=d[y],g=a[y],O=g&&g.prototype;if(O&&(O[l]||c(O,l,p),O[f]||c(O,f,y),u[y]=p,b))for(v in r)O[v]||i(O,v,r[v],!0)}},function(e,t,n){"use strict";var r=n(0),o=n(51)(2);r(r.P+r.F*!n(27)([].filter,!0),"Array",{filter:function(e){return o(this,e,arguments[1])}})},function(e,t,n){var r=n(49);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(47),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(49);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(31),o=n(50),i=n(30),a=n(48),c=n(77);e.exports=function(e,t){var n=1==e,u=2==e,s=3==e,l=4==e,f=6==e,p=5==e||f,d=t||c;return function(t,c,h){for(var m,v,y=i(t),b=o(y),g=r(c,h,3),O=a(b.length),w=0,C=n?d(t,O):u?d(t,0):void 0;O>w;w++)if((p||w in b)&&(v=g(m=b[w],w,y),e))if(n)C[w]=v;else if(v)switch(e){case 3:return!0;case 5:return m;case 6:return w;case 2:C.push(m)}else if(l)return!1;return f?-1:s||l?l:C}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var r=n(3),o=n(1).document,i=r(o)&&r(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},function(e,t,n){e.exports=!n(6)&&!n(5)((function(){return 7!=Object.defineProperty(n(53)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){"use strict";var r=n(0),o=n(51)(0),i=n(27)([].forEach,!0);r(r.P+r.F*!i,"Array",{forEach:function(e){return o(this,e,arguments[1])}})},function(e,t,n){"use strict";n.r(t),n(55),n(45),n(44),n(26),n(41),n(9),n(40);var r="driver-highlighted-element-stage",o='\n  <div id="'.concat("driver-popover-item",'">\n    <div class="').concat("driver-popover-tip",'"></div>\n    <div class="').concat("driver-popover-title",'">Popover Title</div>\n    <div class="').concat("driver-popover-description",'">Popover Description</div>\n    <div class="').concat("driver-popover-footer",'">\n      <button class="').concat("driver-close-btn",'">Close</button>\n      <span class="driver-btn-group">\n        <button class="').concat("driver-prev-btn",'">&larr; Previous</button>\n        <button class="').concat("driver-next-btn",'">Next &rarr;</button>\n      </span>\n    </div>\n  </div>'),i='<div id="'.concat("driver-page-overlay",'"></div>'),a='<div id="'.concat(r,'"></div>');function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n(20),n(19),n(61);var u=function(e){var t=document.createElement("div");return t.innerHTML=e.trim(),t.firstChild},s=function e(t,n){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2]){for(var r=["","-webkit-","-ms-","moz-","-o-"],o=0;o<r.length;o++){var i=e(t,r[o]+n);if(i)return i}return""}var a="";return t.currentStyle?a=t.currentStyle[n]:document.defaultView&&document.defaultView.getComputedStyle&&(a=document.defaultView.getComputedStyle(t,null).getPropertyValue(n)),a&&a.toLowerCase?a.toLowerCase():a},l=function(e){return e&&"object"===c(e)&&"nodeType"in e};function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var p=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=t,this.highlightedElement=null,this.lastHighlightedElement=null,this.hideTimer=null,this.window=n,this.document=r,this.removeNode=this.removeNode.bind(this)}return function(e,t,n){t&&f(e.prototype,t)}(e,[{key:"attachNode",value:function(){var e=this.document.getElementById("driver-page-overlay");e||(e=u(i),document.body.appendChild(e)),this.node=e,this.node.style.opacity="0",this.options.animate||this.node.parentElement&&this.node.parentElement.removeChild(this.node)}},{key:"highlight",value:function(e){e&&e.node?e.isSame(this.highlightedElement)||(this.window.clearTimeout(this.hideTimer),e.onHighlightStarted(),this.highlightedElement&&!this.highlightedElement.isSame(this.lastHighlightedElement)&&this.highlightedElement.onDeselected(),e.getCalculatedPosition().canHighlight()&&(this.lastHighlightedElement=this.highlightedElement,this.highlightedElement=e,this.show(),this.highlightedElement.onHighlighted())):console.warn("Invalid element to highlight. Must be an instance of `Element`")}},{key:"show",value:function(){var e=this;this.node&&this.node.parentElement||(this.attachNode(),window.setTimeout((function(){e.node.style.opacity="".concat(e.options.opacity),e.node.style.position="fixed",e.node.style.left="0",e.node.style.top="0",e.node.style.bottom="0",e.node.style.right="0"})))}},{key:"getHighlightedElement",value:function(){return this.highlightedElement}},{key:"getLastHighlightedElement",value:function(){return this.lastHighlightedElement}},{key:"clear",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.options.onReset&&this.options.onReset(this.highlightedElement),this.highlightedElement&&this.highlightedElement.onDeselected(!0),this.highlightedElement=null,this.lastHighlightedElement=null,this.node&&(this.window.clearTimeout(this.hideTimer),this.options.animate&&!e?(this.node.style.opacity="0",this.hideTimer=this.window.setTimeout(this.removeNode,400)):this.removeNode())}},{key:"removeNode",value:function(){this.node&&this.node.parentElement&&this.node.parentElement.removeChild(this.node)}},{key:"refresh",value:function(){this.highlightedElement&&(this.highlightedElement.showPopover(),this.highlightedElement.showStage())}}]),e}();function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n(58);var h=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.left,r=void 0===n?0:n,o=t.top,i=void 0===o?0:o,a=t.right,c=void 0===a?0:a,u=t.bottom,s=void 0===u?0:u;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.left=r,this.right=c,this.top=i,this.bottom=s}return function(e,t,n){t&&d(e.prototype,t)}(e,[{key:"canHighlight",value:function(){return this.left<this.right&&this.top<this.bottom}}]),e}();function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var v=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.node,r=t.options,o=t.popover,i=t.stage,a=t.overlay,c=t.window,u=t.document;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.node=n,this.document=u,this.window=c,this.options=r,this.overlay=a,this.popover=o,this.stage=i,this.animationTimeout=null}return function(e,t,n){t&&m(e.prototype,t)}(e,[{key:"isInView",value:function(){for(var e=this.node.offsetTop,t=this.node.offsetLeft,n=this.node.offsetWidth,r=this.node.offsetHeight,o=this.node;o.offsetParent;)e+=(o=o.offsetParent).offsetTop,t+=o.offsetLeft;return e>=this.window.pageYOffset&&t>=this.window.pageXOffset&&e+r<=this.window.pageYOffset+this.window.innerHeight&&t+n<=this.window.pageXOffset+this.window.innerWidth}},{key:"scrollManually",value:function(){var e=this.node.getBoundingClientRect().top+this.window.pageYOffset-this.window.innerHeight/2;this.window.scrollTo(0,e)}},{key:"bringInView",value:function(){if(!this.isInView())if(this.node.scrollIntoView)try{this.node.scrollIntoView(this.options.scrollIntoViewOptions||{behavior:"instant",block:"center"})}catch(e){this.scrollManually()}else this.scrollManually()}},{key:"getCalculatedPosition",value:function(){var e=this.document.body,t=this.document.documentElement,n=this.window,r=this.window.pageYOffset||t.scrollTop||e.scrollTop,o=n.pageXOffset||t.scrollLeft||e.scrollLeft,i=this.node.getBoundingClientRect();return new h({top:i.top+r,left:i.left+o,right:i.left+o+i.width,bottom:i.top+r+i.height})}},{key:"getPopover",value:function(){return this.popover}},{key:"onDeselected",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.hidePopover(),e&&this.hideStage(),this.removeHighlightClasses(),this.window.clearTimeout(this.animationTimeout),this.options.onDeselected&&this.options.onDeselected(this)}},{key:"isSame",value:function(e){return!(!e||!e.node)&&e.node===this.node}},{key:"onHighlightStarted",value:function(){this.options.onHighlightStarted&&this.options.onHighlightStarted(this)}},{key:"onHighlighted",value:function(){this.showPopover(),this.showStage(),this.addHighlightClasses();var e=this.popover;e&&!e.isInView()&&e.bringInView(),this.isInView()||this.bringInView(),this.options.onHighlighted&&this.options.onHighlighted(this)}},{key:"removeHighlightClasses",value:function(){this.node.classList.remove("driver-highlighted-element"),this.node.classList.remove("driver-position-relative");for(var e=this.document.querySelectorAll(".".concat("driver-fix-stacking")),t=0;t<e.length;t++)e[t].classList.remove("driver-fix-stacking")}},{key:"addHighlightClasses",value:function(){this.node.classList.add("driver-highlighted-element"),this.canMakeRelative()&&this.node.classList.add("driver-position-relative"),this.fixStackingContext()}},{key:"fixStackingContext",value:function(){for(var e=this.node.parentNode;e&&e.tagName&&"body"!==e.tagName.toLowerCase();){var t=s(e,"z-index"),n=parseFloat(s(e,"opacity")),r=s(e,"transform",!0),o=s(e,"transform-style",!0),i=s(e,"transform-box",!0),a=s(e,"filter",!0),c=s(e,"perspective",!0);(/[0-9]+/.test(t)||n<1||r&&"none"!==r||o&&"flat"!==o||i&&"border-box"!==i||a&&"none"!==a||c&&"none"!==c)&&e.classList.add("driver-fix-stacking"),e=e.parentNode}}},{key:"canMakeRelative",value:function(){var e=this.getStyleProperty("position");return-1===["absolute","fixed","relative"].indexOf(e)}},{key:"getStyleProperty",value:function(e){return s(this.node,e)}},{key:"showStage",value:function(){this.stage.show(this.getCalculatedPosition())}},{key:"getNode",value:function(){return this.node}},{key:"hideStage",value:function(){this.stage.hide()}},{key:"hidePopover",value:function(){this.popover&&this.popover.hide()}},{key:"showPopover",value:function(){var e=this;if(this.popover){var t=this.getCalculatedPosition(),n=400;this.options.animate&&this.overlay.lastHighlightedElement||(n=0),this.animationTimeout=this.window.setTimeout((function(){e.popover.show(t)}),n)}}},{key:"getFullPageSize",value:function(){var e=this.document.body,t=this.document.documentElement;return{height:Math.max(e.scrollHeight,e.offsetHeight,t.scrollHeight,t.offsetHeight),width:Math.max(e.scrollWidth,e.offsetWidth,t.scrollWidth,t.offsetWidth)}}},{key:"getSize",value:function(){return{height:Math.max(this.node.scrollHeight,this.node.offsetHeight),width:Math.max(this.node.scrollWidth,this.node.offsetWidth)}}}]),e}();function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n(34),n(33);var C=function(e){function t(e,n,r){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(o=function(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,O(t).call(this))).options=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){b(e,t,n[t])}))}return e}({isFirst:!0,isLast:!0,totalCount:1,currentIndex:0,offset:0,showButtons:!0,closeBtnText:"Close",doneBtnText:"Done",startBtnText:"Next &rarr;",nextBtnText:"Next &rarr;",prevBtnText:"&larr; Previous"},e),o.window=n,o.document=r,o.attachNode(),o.hide(),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(t,v),function(e,t,n){t&&g(e.prototype,t)}(t,[{key:"attachNode",value:function(){var e=this.document.getElementById("driver-popover-item");e||(e=u(o),document.body.appendChild(e)),this.node=e,this.tipNode=e.querySelector(".".concat("driver-popover-tip")),this.titleNode=e.querySelector(".".concat("driver-popover-title")),this.descriptionNode=e.querySelector(".".concat("driver-popover-description")),this.footerNode=e.querySelector(".".concat("driver-popover-footer")),this.nextBtnNode=e.querySelector(".".concat("driver-next-btn")),this.prevBtnNode=e.querySelector(".".concat("driver-prev-btn")),this.closeBtnNode=e.querySelector(".".concat("driver-close-btn"))}},{key:"getTitleNode",value:function(){return this.titleNode}},{key:"getDescriptionNode",value:function(){return this.descriptionNode}},{key:"hide",value:function(){this.node.style.display="none"}},{key:"setInitialState",value:function(){this.node.style.display="block",this.node.style.left="0",this.node.style.top="0",this.node.style.bottom="",this.node.style.right="",this.node.querySelector(".".concat("driver-popover-tip")).className="driver-popover-tip"}},{key:"show",value:function(e){switch(this.setInitialState(),this.titleNode.innerHTML=this.options.title,this.descriptionNode.innerHTML=this.options.description||"",this.renderFooter(),this.options.position){case"left":case"left-top":this.positionOnLeft(e);break;case"left-center":this.positionOnLeftCenter(e);break;case"left-bottom":this.positionOnLeftBottom(e);break;case"right":case"right-top":this.positionOnRight(e);break;case"right-center":this.positionOnRightCenter(e);break;case"right-bottom":this.positionOnRightBottom(e);break;case"top":case"top-left":this.positionOnTop(e);break;case"top-center":this.positionOnTopCenter(e);break;case"top-right":this.positionOnTopRight(e);break;case"bottom":case"bottom-left":this.positionOnBottom(e);break;case"bottom-center":this.positionOnBottomCenter(e);break;case"bottom-right":this.positionOnBottomRight(e);break;case"auto":default:this.autoPosition(e)}}},{key:"renderFooter",value:function(){this.nextBtnNode.innerHTML=this.options.nextBtnText,this.prevBtnNode.innerHTML=this.options.prevBtnText,this.closeBtnNode.innerHTML=this.options.closeBtnText,this.options.showButtons&&this.options.totalCount&&1!==this.options.totalCount?(this.footerNode.style.display="block",this.options.isFirst?(this.prevBtnNode.classList.add("driver-disabled"),this.nextBtnNode.innerHTML=this.options.startBtnText):this.prevBtnNode.classList.remove("driver-disabled"),this.options.isLast?this.nextBtnNode.innerHTML=this.options.doneBtnText:this.nextBtnNode.innerHTML=this.options.nextBtnText):this.footerNode.style.display="none"}},{key:"positionOnLeft",value:function(e){var t=this.getSize().width,n=this.options.padding+10;this.node.style.left="".concat(e.left-t-n,"px"),this.node.style.top="".concat(e.top+this.options.offset-this.options.padding,"px"),this.node.style.right="",this.node.style.bottom="",this.tipNode.classList.add("right")}},{key:"positionOnLeftBottom",value:function(e){var t=this.getSize(),n=t.width,r=this.options.padding+10;this.node.style.left="".concat(e.left-n-r,"px"),this.node.style.top="".concat(e.bottom+this.options.padding+this.options.offset-t.height,"px"),this.node.style.bottom="",this.node.style.right="",this.tipNode.classList.add("right","position-bottom")}},{key:"positionOnLeftCenter",value:function(e){var t=this.getSize(),n=t.width,r=t.height/2,o=this.options.padding+10,i=(e.bottom-e.top)/2,a=e.top-r+i+this.options.offset;this.node.style.left="".concat(e.left-n-o,"px"),this.node.style.top="".concat(a,"px"),this.node.style.right="",this.node.style.bottom="",this.tipNode.classList.add("right","position-center")}},{key:"positionOnRight",value:function(e){var t=this.options.padding+10;this.node.style.left="".concat(e.right+t,"px"),this.node.style.top="".concat(e.top+this.options.offset-this.options.padding,"px"),this.node.style.right="",this.node.style.bottom="",this.tipNode.classList.add("left")}},{key:"positionOnRightCenter",value:function(e){var t=this.getSize(),n=this.options.padding+10,r=t.height/2,o=(e.bottom-e.top)/2,i=e.top-r+o+this.options.offset;this.node.style.left="".concat(e.right+n,"px"),this.node.style.top="".concat(i,"px"),this.node.style.right="",this.node.style.bottom="",this.tipNode.classList.add("left","position-center")}},{key:"positionOnRightBottom",value:function(e){var t=this.options.padding+10,n=this.getSize();this.node.style.left="".concat(e.right+t,"px"),this.node.style.top="".concat(e.bottom+this.options.padding+this.options.offset-n.height,"px"),this.node.style.bottom="",this.node.style.right="",this.tipNode.classList.add("left","position-bottom")}},{key:"positionOnTop",value:function(e){var t=this.getSize().height,n=this.options.padding+10;this.node.style.top="".concat(e.top-t-n,"px"),this.node.style.left="".concat(e.left-this.options.padding+this.options.offset,"px"),this.node.style.right="",this.node.style.bottom="",this.tipNode.classList.add("bottom")}},{key:"positionOnTopCenter",value:function(e){var t=this.getSize(),n=t.height,r=t.width/2,o=this.options.padding+10,i=this.options.offset+e.left+(e.right-e.left)/2;this.node.style.top="".concat(e.top-n-o,"px"),this.node.style.left="".concat(i-r-this.options.padding,"px"),this.node.style.right="",this.node.style.bottom="",this.tipNode.classList.add("bottom","position-center")}},{key:"positionOnTopRight",value:function(e){var t=this.getSize(),n=t.height,r=this.options.padding+10;this.node.style.top="".concat(e.top-n-r,"px"),this.node.style.left="".concat(e.right+this.options.padding+this.options.offset-t.width,"px"),this.node.style.right="",this.node.style.bottom="",this.tipNode.classList.add("bottom","position-right")}},{key:"positionOnBottom",value:function(e){var t=this.options.padding+10;this.node.style.top="".concat(e.bottom+t,"px"),this.node.style.left="".concat(e.left-this.options.padding+this.options.offset,"px"),this.node.style.right="",this.node.style.bottom="",this.tipNode.classList.add("top")}},{key:"positionOnBottomCenter",value:function(e){var t=this.getSize().width/2,n=this.options.padding+10,r=this.options.offset+e.left+(e.right-e.left)/2;this.node.style.top="".concat(e.bottom+n,"px"),this.node.style.left="".concat(r-t-this.options.padding,"px"),this.node.style.right="",this.node.style.bottom="",this.tipNode.classList.add("top","position-center")}},{key:"positionOnBottomRight",value:function(e){var t=this.getSize(),n=this.options.padding+10;this.node.style.top="".concat(e.bottom+n,"px"),this.node.style.left="".concat(e.right+this.options.padding+this.options.offset-t.width,"px"),this.node.style.right="",this.node.style.bottom="",this.tipNode.classList.add("top","position-right")}},{key:"autoPosition",value:function(e){var t=this.getFullPageSize(),n=this.getSize(),r=t.height,o=n.height,i=this.options.padding+10;e.bottom+o+i>=r?this.positionOnTop(e):this.positionOnBottom(e)}}]),t}();function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var T=function(e){function t(e,n,r){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(o=function(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,_(t).call(this))).options=e,o.window=n,o.document=r,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(t,v),function(e,t,n){t&&S(e.prototype,t)}(t,[{key:"attachNode",value:function(){var e=this.document.getElementById(r);e||(e=u(a),document.body.appendChild(e)),this.node=e,this.options.animate?this.node.classList.remove("driver-stage-no-animation"):this.node.classList.add("driver-stage-no-animation")}},{key:"hide",value:function(){this.node&&this.node.parentElement&&this.node.parentElement.removeChild(this.node)}},{key:"setInitialStyle",value:function(){this.node.style.display="block",this.node.style.left="0",this.node.style.top="0",this.node.style.bottom="",this.node.style.right=""}},{key:"show",value:function(e){this.attachNode(),this.setInitialStyle();var t=2*this.options.padding,n=e.right-e.left+t,r=e.bottom-e.top+t;this.node.style.display="block",this.node.style.position="absolute",this.node.style.width="".concat(n,"px"),this.node.style.height="".concat(r,"px"),this.node.style.top="".concat(e.top-t/2,"px"),this.node.style.left="".concat(e.left-t/2,"px"),this.node.style.backgroundColor=this.options.stageBackground}}]),t}();function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){j(e,t,n[t])}))}return e}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.d(t,"default",(function(){return N}));var N=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=P({animate:!0,opacity:.75,padding:10,scrollIntoViewOptions:null,allowClose:!0,keyboardControl:!0,overlayClickNext:!1,stageBackground:"#ffffff",onHighlightStarted:function(){return null},onHighlighted:function(){return null},onDeselected:function(){return null},onReset:function(){return null},onNext:function(){return null},onPrevious:function(){return null}},t),this.document=document,this.window=window,this.isActivated=!1,this.steps=[],this.currentStep=0,this.currentMovePrevented=!1,this.overlay=new p(this.options,window,document),this.onResize=this.onResize.bind(this),this.onKeyUp=this.onKeyUp.bind(this),this.onClick=this.onClick.bind(this),this.moveNext=this.moveNext.bind(this),this.movePrevious=this.movePrevious.bind(this),this.preventMove=this.preventMove.bind(this),this.bind()}return function(e,t,n){t&&R(e.prototype,t)}(e,[{key:"getSteps",value:function(){return this.steps}},{key:"setSteps",value:function(e){this.steps=e}},{key:"bind",value:function(){this.window.addEventListener("resize",this.onResize,!1),this.window.addEventListener("keyup",this.onKeyUp,!1),this.window.addEventListener("click",this.onClick,!1),this.window.addEventListener("touchstart",this.onClick,!1)}},{key:"onClick",value:function(e){if(this.isActivated&&this.hasHighlightedElement()){var t=this.overlay.getHighlightedElement(),n=this.document.getElementById("driver-popover-item"),r=t.node.contains(e.target),o=n&&n.contains(e.target);if(r||o||!this.options.overlayClickNext)if(r||o||!this.options.allowClose){var i=e.target.classList.contains("driver-next-btn"),a=e.target.classList.contains("driver-prev-btn");e.target.classList.contains("driver-close-btn")?this.reset():i?this.handleNext():a&&this.handlePrevious()}else this.reset();else this.handleNext()}}},{key:"onResize",value:function(){this.isActivated&&this.overlay.refresh()}},{key:"onKeyUp",value:function(e){this.isActivated&&this.options.keyboardControl&&(27!==e.keyCode?0!==this.steps.length&&(39===e.keyCode?this.handleNext():37===e.keyCode&&this.handlePrevious()):this.reset())}},{key:"movePrevious",value:function(){var e=this.steps[this.currentStep-1];e?(this.overlay.highlight(e),this.currentStep-=1):this.reset()}},{key:"preventMove",value:function(){this.currentMovePrevented=!0}},{key:"handleNext",value:function(){this.currentMovePrevented=!1;var e=this.steps[this.currentStep];e.options.onNext&&e.options.onNext(this.overlay.highlightedElement),this.currentMovePrevented||this.moveNext()}},{key:"handlePrevious",value:function(){this.currentMovePrevented=!1;var e=this.steps[this.currentStep];e.options.onPrevious&&e.options.onPrevious(this.overlay.highlightedElement),this.currentMovePrevented||this.movePrevious()}},{key:"moveNext",value:function(){var e=this.steps[this.currentStep+1];e?(this.overlay.highlight(e),this.currentStep+=1):this.reset()}},{key:"hasNextStep",value:function(){return!!this.steps[this.currentStep+1]}},{key:"hasPreviousStep",value:function(){return!!this.steps[this.currentStep-1]}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.currentStep=0,this.isActivated=!1,this.overlay.clear(e)}},{key:"hasHighlightedElement",value:function(){var e=this.overlay.getHighlightedElement();return e&&e.node}},{key:"getHighlightedElement",value:function(){return this.overlay.getHighlightedElement()}},{key:"getLastHighlightedElement",value:function(){return this.overlay.getLastHighlightedElement()}},{key:"defineSteps",value:function(e){this.steps=[];for(var t=0;t<e.length;t++){var n=this.prepareElementFromStep(e[t],e,t);n&&this.steps.push(n)}}},{key:"prepareElementFromStep",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r={},o=e,i="string"!=typeof e&&!l(e);if(!e||i&&!e.element)throw new Error("Element is required in step ".concat(n));i&&(o=e.element,r=P({},this.options,e));var a=l(o)?o:this.document.querySelector(o);if(!a)return console.warn("Element to highlight ".concat(o," not found")),null;var c=null;if(r.popover&&r.popover.title){var u=P({},this.options,r.popover,{totalCount:t.length,currentIndex:n,isFirst:0===n,isLast:n===t.length-1});c=new C(u,this.window,this.document)}var s=P({},this.options,r),f=new T(s,this.window,this.document);return new v({node:a,options:r,popover:c,stage:f,overlay:this.overlay,window:this.window,document:this.document})}},{key:"start",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!this.steps||0===this.steps.length)throw new Error("There are no steps defined to iterate");this.isActivated=!0,this.currentStep=e,this.overlay.highlight(this.steps[e])}},{key:"highlight",value:function(e){this.isActivated=!0;var t=this.prepareElementFromStep(e);t&&this.overlay.highlight(t)}}]),e}()},function(e,t,n){var r=n(3),o=n(13),i=function(e,t){if(o(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=n(31)(Function.call,n(35).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return i(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:i}},function(e,t,n){"use strict";var r=n(0),o=n(42)(!1),i=[].indexOf,a=!!i&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(a||!n(27)(i)),"Array",{indexOf:function(e){return a?i.apply(this,arguments)||0:o(this,e,arguments[1])}})},function(e,t){e.exports="\t\n\v\f\r \u2028\u2029\ufeff"},function(e,t,n){var r=n(0),o=n(29),i=n(5),a=n(59),c="["+a+"]",u=RegExp("^"+c+c+"*"),s=RegExp(c+c+"*$"),l=function(e,t,n){var o={},c=i((function(){return!!a[e]()||""!=""[e]()})),u=o[e]=c?t(f):a[e];n&&(o[n]=u),r(r.P+r.F*c,"String",o)},f=l.trim=function(e,t){return e=String(o(e)),1&t&&(e=e.replace(u,"")),2&t&&(e=e.replace(s,"")),e};e.exports=l},function(e,t,n){"use strict";n(60)("trim",(function(e){return function(){return e(this,3)}}))},function(e,t,n){var r=n(10),o=n(36).f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==i.call(e)?function(e){try{return o(e)}catch(e){return a.slice()}}(e):o(r(e))}},function(e,t,n){var r=n(11),o=n(37),i=n(18);e.exports=function(e){var t=r(e),n=o.f;if(n)for(var a,c=n(e),u=i.f,s=0;c.length>s;)u.call(e,a=c[s++])&&t.push(a);return t}},function(e,t,n){var r=n(12)("meta"),o=n(3),i=n(4),a=n(7).f,c=0,u=Object.isExtensible||function(){return!0},s=!n(5)((function(){return u(Object.preventExtensions({}))})),l=function(e){a(e,r,{value:{i:"O"+ ++c,w:{}}})},f=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,r)){if(!u(e))return"F";if(!t)return"E";l(e)}return e[r].i},getWeak:function(e,t){if(!i(e,r)){if(!u(e))return!0;if(!t)return!1;l(e)}return e[r].w},onFreeze:function(e){return s&&f.NEED&&u(e)&&!i(e,r)&&l(e),e}}},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){"use strict";var r=n(52),o=n(3),i=n(65),a=[].slice,c={};e.exports=Function.bind||function(e){var t=r(this),n=a.call(arguments,1),u=function(){var r=n.concat(a.call(arguments));return this instanceof u?function(e,t,n){if(!(t in c)){for(var r=[],o=0;o<t;o++)r[o]="a["+o+"]";c[t]=Function("F,a","return new F("+r.join(",")+")")}return c[t](e,n)}(t,r.length,r):i(t,r,e)};return o(t.prototype)&&(u.prototype=t.prototype),u}},function(e,t,n){var r=n(0),o=n(14),i=n(5);e.exports=function(e,t){var n=(o.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*i((function(){n(1)})),"Object",a)}},function(e,t,n){var r=n(4),o=n(30),i=n(23)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),r(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){var r=n(1).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(47),o=Math.max,i=Math.min;e.exports=function(e,t){return(e=r(e))<0?o(e+t,0):i(e,t)}},function(e,t,n){var r=n(7),o=n(13),i=n(11);e.exports=n(6)?Object.defineProperties:function(e,t){o(e);for(var n,a=i(t),c=a.length,u=0;c>u;)r.f(e,n=a[u++],t[n]);return e}},function(e,t,n){"use strict";var r=n(24),o=n(17),i=n(21),a={};n(8)(a,n(2)("iterator"),(function(){return this})),e.exports=function(e,t,n){e.prototype=r(a,{next:o(1,n)}),i(e,t+" Iterator")}},function(e,t,n){"use strict";var r=n(15),o=n(0),i=n(16),a=n(8),c=n(25),u=n(72),s=n(21),l=n(68),f=n(2)("iterator"),p=!([].keys&&"next"in[].keys()),d=function(){return this};e.exports=function(e,t,n,h,m,v,y){u(n,t,h);var b,g,O,w=function(e){if(!p&&e in _)return _[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},C=t+" Iterator",E="values"==m,S=!1,_=e.prototype,k=_[f]||_["@@iterator"]||m&&_[m],T=k||w(m),P=m?E?w("entries"):T:void 0,j="Array"==t&&_.entries||k;if(j&&(O=l(j.call(new e)))!==Object.prototype&&O.next&&(s(O,C,!0),r||"function"==typeof O[f]||a(O,f,d)),E&&k&&"values"!==k.name&&(S=!0,T=function(){return k.call(this)}),r&&!y||!p&&!S&&_[f]||a(_,f,T),c[t]=T,c[C]=d,m)if(b={values:E?T:w("values"),keys:v?T:w("keys"),entries:P},y)for(g in b)g in _||i(_,g,b[g]);else o(o.P+o.F*(p||S),t,b);return b}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){var r=n(2)("unscopables"),o=Array.prototype;null==o[r]&&n(8)(o,r,{}),e.exports=function(e){o[r][e]=!0}},function(e,t,n){var r=n(3),o=n(46),i=n(2)("species");e.exports=function(e){var t;return o(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!o(t.prototype)||(t=void 0),r(t)&&null===(t=t[i])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){var r=n(76);e.exports=function(e,t){return new(r(e))(t)}},function(e,t){},function(e,t,n){n(78),e.exports=n(56)}]).default},x84W:function(e,t,n){var r=n("yNUO");e.exports=function(e,t){var n=t&&Number(t.weekStartsOn)||0,o=r(e),i=o.getDay(),a=(i<n?7:0)+i-n;return o.setDate(o.getDate()-a),o.setHours(0,0,0,0),o}},xD2B:function(e,t,n){(function(e){var r,o,i,a;function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}"undefined"!=typeof self&&self,a=function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===c(e)&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(t,n){t.exports=e},function(e,t,n){"use strict";n.r(t),n.d(t,"CLASS_NO_MODAL_CLICK",(function(){return a}));var r=n(0),o="function"==typeof Symbol&&"symbol"===c(Symbol.iterator)?function(e){return c(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":c(e)},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a="modal-no-click",u="togglerWillOpen",s="togglerDidOpen",l="togglerWillClose",f="togglerDidClose";function p(e){return"function"==typeof e}var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==c(t)&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.CLASS_NO_MODAL_CLICK=a,n.notPropagatingElements=new Set,n.open=function(){var e=n[u]||n.props[u],t=n[s]||n.props[s],r=function(){n.setState({isOpen:!0},(function(){n.bindClickListener(),p(t)&&t()}))};if(p(e)){if(e(r),!e.length)return r()}else r()},n.close=function(){var e=n[l]||n.props[l],t=n[f]||n.props[f],r=function(){n.setState({isOpen:!1},(function(){n.removeClickListener(),p(t)&&t()}))};if(p(e)){if(e(r),!e.length)return r()}else r()},n.toggle=function(){return n.state.isOpen?n.close():n.open()},n.bindClickListener=function(){!1!==n.props.bindBodyClickListener&&document.body.addEventListener("click",n.onBodyClick)},n.removeClickListener=function(){return document.body.removeEventListener("click",n.onBodyClick)},n.shouldPreventPropagationByClassName=function(e){return!(!e||!e.classList)&&e.classList.contains(n.CLASS_NO_MODAL_CLICK)},n.shouldPreventPropagationByElement=function(e){if(!e)return!1;if(!e.contains)return!1;if(!n.notPropagatingElements.size)return!1;if(n.notPropagatingElements.has(e))return!0;var t=!0,r=!1,o=void 0;try{for(var i,a=n.notPropagatingElements[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var c=i.value;if(c.contains&&c.contains(e))return!0}}catch(e){r=!0,o=e}finally{try{!t&&a.return&&a.return()}finally{if(r)throw o}}return!1},n.preventCloseAction=function(e){if(e)return n.notPropagatingElements.has(e)?null:void n.notPropagatingElements.add(e)},n.onBodyClick=n.onBodyClick.bind(n),n.state={isOpen:e.defaultOpen||!1},[u,s,l,f].forEach((function(e){p(n[e])&&(n[e]=n[e].bind(n))}),n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+c(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidMount",value:function(){this.state.isOpen&&this.bindClickListener()}},{key:"componentWillUnmount",value:function(){this.removeClickListener()}},{key:"onBodyClick",value:function(e){var t=e.target;return this.state.isOpen?p(this.shouldPreventCloseAction)&&!0===this.shouldPreventCloseAction(t)||this.shouldPreventPropagationByClassName(t)||this.shouldPreventPropagationByElement(t)?null:void this.close():null}},{key:"render",value:function(){var e=this.props.children,t=void 0===e?"undefined":o(e);if("undefined"!==t&&"function"!==t)throw new TypeError("Toggler: `children` must be a function");var n=this.close,r=this.open,i=this.toggle,a=this.CLASS_NO_MODAL_CLICK,c=this.preventCloseAction,u=this.state.isOpen,s=this.toggleContent?this.toggleContent.bind(this):e;return s?s({isOpen:u,close:n,open:r,toggle:i,CLASS_NO_MODAL_CLICK:a,preventCloseAction:c}):null}}]),t}(r.Component);d.defaultProps={defaultOpen:!1},t.default=d}])},"object"===c(t)&&"object"===c(e)?e.exports=a(n("cDcd")):(o=[n("cDcd")],void 0===(i="function"==typeof(r=a)?r.apply(t,o):r)||(e.exports=i))}).call(this,n("YuTi")(e))},yGgh:function(e,t,n){e.exports={}},yLpj:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},yNUO:function(e,t,n){var r=n("VGX7"),o=n("pzWd"),i=/[T ]/,a=/:/,c=/^(\d{2})$/,u=[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],s=/^(\d{4})/,l=[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],f=/^-(\d{2})$/,p=/^-?(\d{3})$/,d=/^-?(\d{2})-?(\d{2})$/,h=/^-?W(\d{2})$/,m=/^-?W(\d{2})-?(\d{1})$/,v=/^(\d{2}([.,]\d*)?)$/,y=/^(\d{2}):?(\d{2}([.,]\d*)?)$/,b=/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,g=/([Z+-].*)$/,O=/^(Z)$/,w=/^([+-])(\d{2})$/,C=/^([+-])(\d{2}):?(\d{2})$/;function E(e,t,n){t=t||0,n=n||0;var r=new Date(0);r.setUTCFullYear(e,0,4);var o=7*t+n+1-(r.getUTCDay()||7);return r.setUTCDate(r.getUTCDate()+o),r}e.exports=function(e,t){if(o(e))return new Date(e.getTime());if("string"!=typeof e)return new Date(e);var n=(t||{}).additionalDigits;n=null==n?2:Number(n);var S=function(e){var t,n={},r=e.split(i);a.test(r[0])?(n.date=null,t=r[0]):(n.date=r[0],t=r[1]);if(t){var o=g.exec(t);o?(n.time=t.replace(o[1],""),n.timezone=o[1]):n.time=t}return n}(e),_=function(e,t){var n,r=u[t],o=l[t];if(n=s.exec(e)||o.exec(e)){var i=n[1];return{year:parseInt(i,10),restDateString:e.slice(i.length)}}if(n=c.exec(e)||r.exec(e)){var a=n[1];return{year:100*parseInt(a,10),restDateString:e.slice(a.length)}}return{year:null}}(S.date,n),k=_.year,T=function(e,t){if(null===t)return null;var n,r,o,i;if(0===e.length)return(r=new Date(0)).setUTCFullYear(t),r;if(n=f.exec(e))return r=new Date(0),o=parseInt(n[1],10)-1,r.setUTCFullYear(t,o),r;if(n=p.exec(e)){r=new Date(0);var a=parseInt(n[1],10);return r.setUTCFullYear(t,0,a),r}if(n=d.exec(e)){r=new Date(0),o=parseInt(n[1],10)-1;var c=parseInt(n[2],10);return r.setUTCFullYear(t,o,c),r}if(n=h.exec(e))return i=parseInt(n[1],10)-1,E(t,i);if(n=m.exec(e)){i=parseInt(n[1],10)-1;var u=parseInt(n[2],10)-1;return E(t,i,u)}return null}(_.restDateString,k);if(T){var P,j=T.getTime(),R=0;if(S.time&&(R=function(e){var t,n,r;if(t=v.exec(e))return(n=parseFloat(t[1].replace(",",".")))%24*36e5;if(t=y.exec(e))return n=parseInt(t[1],10),r=parseFloat(t[2].replace(",",".")),n%24*36e5+6e4*r;if(t=b.exec(e)){n=parseInt(t[1],10),r=parseInt(t[2],10);var o=parseFloat(t[3].replace(",","."));return n%24*36e5+6e4*r+1e3*o}return null}(S.time)),S.timezone)P=6e4*function(e){var t,n;if(t=O.exec(e))return 0;if(t=w.exec(e))return n=60*parseInt(t[2],10),"+"===t[1]?-n:n;if(t=C.exec(e))return n=60*parseInt(t[2],10)+parseInt(t[3],10),"+"===t[1]?-n:n;return 0}(S.timezone);else{var N=j+R,I=new Date(N);P=r(I);var x=new Date(N);x.setDate(I.getDate()+1);var A=r(x)-r(I);A>0&&(P+=A)}return new Date(j+R+P)}return new Date(e)}},yPpY:function(e,t,n){e.exports={}},"yXM+":function(e,t,n){e.exports={}},yoks:function(e,t,n){e.exports={uid:"u4430a407"}},yxN8:function(e,t,n){e.exports={}},zDdf:function(e,t,n){e.exports={}},zWCN:function(e,t,n){e.exports={}},zr5I:function(e,t){e.exports=l}})}));