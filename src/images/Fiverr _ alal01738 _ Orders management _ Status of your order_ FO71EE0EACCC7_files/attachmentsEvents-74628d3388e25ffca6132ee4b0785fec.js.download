!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.attachmentsEvents=t():e.attachmentsEvents=t()}(this,function(){return function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=659)}({123:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.globalEventBus=void 0;var o=n(6),r=n(50),u=Symbol["for"]("globalEventBus");t.globalEventBus=o.glob[u]=o.glob[u]||new r.EventBus},23:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolve=void 0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(6);t.resolve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.glob;return e.split(".").reduce(function(e,t){return"object"===("undefined"==typeof e?"undefined":o(e))?e[t]:e},t)}},50:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=Symbol();t.EventBus=function(){function e(){o(this,e),this[u]=new Map}return r(e,[{key:"on",value:function(e,t){var n=this[u].get(e);n||(this[u].set(e,new Set),n=this[u].get(e)),n.add(t)}},{key:"once",value:function t(e,n){var o=this,t=function r(){o.off(e,r),n.apply(void 0,arguments)};this.on(e,t)}},{key:"one",value:function(e,t){this.has(e)||this.on(e,t)}},{key:"has",value:function(e){return this[u].has(e)}},{key:"off",value:function(e,t){if(this[u].has(e)){if("undefined"==typeof t)return void this[u]["delete"](e);var n=this[u].get(e);n["delete"](t),0===n.size&&this[u]["delete"](e)}}},{key:"emit",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;t>o;o++)n[o-1]=arguments[o];var r=this[u].get(e);r&&r.forEach(function(e){e.apply(void 0,n)})}},{key:"deferred",value:function(e){for(var t=this,n=arguments.length,o=Array(n>1?n-1:0),r=1;n>r;r++)o[r-1]=arguments[r];return Promise.resolve().then(function(){t.emit.apply(t,[e].concat(o))})}}]),e}()},6:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.glob="object"===("undefined"==typeof window?"undefined":n(window))&&window.window===window&&window||"object"===("undefined"==typeof e?"undefined":n(e))&&e.global===e&&e||"object"===("undefined"==typeof self?"undefined":n(self))&&self.self===self&&self}).call(t,n(7))},659:function(e,t,n){"use strict";var o=n(23),r=n(123),u={},i=o.resolve("models.user",Fiverr),f=o.resolve("models.ps",Fiverr),s=o.resolve("fOrders.models.order");i&&(u.user={id:i.userId}),s&&(u.order={encrypted_id:f.orderId}),r.globalEventBus.on("attachments-preview:report",function(e){Fiverr.sendClientEvents(Object.assign({},e,u))})},7:function(e,t,n){"use strict";var o,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};o=function(){return this}();try{o=o||Function("return this")()||(1,eval)("this")}catch(u){"object"===("undefined"==typeof window?"undefined":r(window))&&(o=window)}e.exports=o}})});