!function(t){var e,n,i,o={models:{c:Fiverr.models.context,b:Fiverr.models.browser,user:Fiverr.models.user,ps:Fiverr.models.ps,social:{}},selectors:{$ogUrl:t('meta[property="og:url"]'),$ogTitle:t('meta[property="og:title"]'),$ogDescription:t('meta[property="og:description"]'),$ogImage:t('meta[property="og:image"]'),$sharingIcons:t(".js-social-share-icons")},init:function(){i.$btns={$btnShareFacebook:i.$sharingIcons.find(".btn-share.facebook"),$btnShareTwitter:i.$sharingIcons.find(".btn-share.twitter"),$btnShareGPlus:i.$sharingIcons.find(".btn-share.gplus"),$btnShareLinkedIn:i.$sharingIcons.find(".btn-share.linkedin"),$btnShareEmail:i.$sharingIcons.find(".btn-share.email"),$btnShareDirectLink:i.$sharingIcons.find(".btn-share.link")},i.$twitterIcon=i.$sharingIcons.find(".twitter"),n.social.urlDefault=i.$ogUrl.attr("content")||document.location.href,n.social.titleContent=i.$ogTitle.attr("content")||document.title,n.social.descriptionContent=i.$ogDescription.attr("content")||!1,n.social.imageContent=i.$ogImage.attr("content")||!1,n.social.urlContent={facebook:i.$btns.$btnShareFacebook.data("trackUrl")||n.social.urlDefault,twitter:i.$btns.$btnShareTwitter.data("trackUrl")||n.social.urlDefault,gplus:i.$btns.$btnShareGPlus.data("trackUrl")||n.social.urlDefault,linkedin:i.$btns.$btnShareLinkedIn.data("trackUrl")||n.social.urlDefault},n.social.shareURLs={facebook:n.social.urlDefault,twitter:"https://twitter.com/intent/tweet?url="+n.social.urlContent.twitter+"&related=fiverr&text="+encodeURIComponent(n.social.titleContent),gplus:"https://plus.google.com/share?url="+n.social.urlContent.gplus+"&title="+encodeURIComponent(n.social.titleContent),linkedin:n.social.urlDefault},i.$btns.$btnShareTwitter.data("trackUrl")&&(n.social.shareURLs.twitter="https://twitter.com/intent/tweet?url="+n.social.urlContent.twitter+"&related=fiverr&text="+encodeURIComponent(n.social.descriptionContent)),i.$sharingIcons.data("twitter-use-desc")&&(n.social.shareURLs.twitter="https://twitter.com/intent/tweet?related=fiverr&text="+encodeURIComponent(n.social.descriptionContent)),i.$twitterIcon.attr("data-twitter-custom-copy")&&(n.social.shareURLs.twitterCustomCopy=i.$twitterIcon.data("twitter-custom-copy"),n.social.shareURLs.twitter="https://twitter.com/intent/tweet?related=fiverr&text="+encodeURIComponent(n.social.shareURLs.twitterCustomCopy)),e.bindShareButtons()},bindShareButtons:function(){var o=new e.shareHelpers;if(i.$btns.$btnShareFacebook.length&&(fSocialSDK.use("facebook"),t.each(i.$btns.$btnShareFacebook,function(e,n){t(n).on("click",function(e){e.preventDefault(),o.facebook(t(n))})})),i.$btns.$btnShareTwitter.length&&(fSocialSDK.use("twitter",function(){twttr.events.bind("tweet",function(n){Fiverr.sendSharingToDoCompleted(),e.sendClientEvents("social_share.click","twitter"),e.sendMixPanelEvent("twitter",t(n))})}),t.each(i.$btns.$btnShareTwitter,function(e,i){"#"===t(i).attr("href")&&t(i).attr("href",n.social.shareURLs.twitter),t(i).on("click",function(t){t.preventDefault()})})),i.$btns.$btnShareGPlus.length&&t.each(i.$btns.$btnShareGPlus,function(e,n){t(n).on("click",function(e){e.preventDefault(),o.gplus(t(n))})}),i.$btns.$btnShareLinkedIn.length&&(fSocialSDK.use("linkedin"),t.each(i.$btns.$btnShareLinkedIn,function(e,n){t(n).on("click",function(e){e.preventDefault(),o.linkedin(t(n))})})),n.ps.currentUser&&i.$btns.$btnShareEmail.length){if(i.$btns.$btnShareEmail.hasClass("no-popup"))return;var a={amsl:120,closeClass:"btn-close",opacity:.6,follow:[!0,!0],appending:!1,onOpen:function(){t("body").addClass("popup-active")},onClose:function(){t("body").removeClass("popup-active")}};fLoader({load:["//assetsv2.fiverrcdn.com/assets/desktop/popups/popup-email-sharing-f66f9bc95c29846175f660df9c2c8dc8.css","//assetsv2.fiverrcdn.com/assets/popups/popup-email-sharing-031730b51907e48ae001d6b347540718.js"],immediate:!0}),i.$btns.$btnShareEmail.on("click",function(e){e.preventDefault(),Fiverr.mainPopupBox=t(".js-popup-email-sharing").bPopup(a)})}i.$btns.$btnShareDirectLink.length&&(fLoader({load:["//assetsv2.fiverrcdn.com/assets/ZeroClipboard-2f89696936fe2269b8851d3948c23722.js"],complete:function(){ZeroClipboard.config({swfPath:"//assetsv2.fiverrcdn.com/assets/v2_globals/ZeroClipboard-69057f53873c427465b079d4cd4b00ba.swf"}),e.bindClipboard(i.$btns.$btnShareDirectLink)}}),i.$btns.$btnShareDirectLink.on("click",function(t){t.preventDefault()}))},sendClientEvents:function(t,e,i){var o={type:t,group:"share_on_social_network",reason:e,current_page_type:n.ps.main};n.ps.gig_id&&(o.gig={id:n.ps.gig_id}),Fiverr.sendClientEvents(o)},sendMixPanelEvent:function(t,e){var i=e.data("utm-campaign"),o={Campaign:i,Media:t,"Shared Asset":n.ps.gig_id?"Gig":null};MixpanelWrapper.trackEvent("Clicked Social Sharing",o)},shareHelpers:function(){var t=function(t,e,i){var o=t.attr("href");return o&&"#"!==o?o:i?n.social.urlDefault:n.social.shareURLs[e]};this.facebook=function(i){if(!_.isUndefined(window.FB)){e.sendClientEvents("social_share.click","facebook"),e.sendMixPanelEvent("facebook",i);var o={method:"share",href:t(i,"facebook")};n.ps.share_text&&(o.quote=n.ps.share_text),FB.ui(o,function(t){t&&!t.error_code&&(Fiverr.sendSharingToDoCompleted(),e.sendClientEvents("social_share.post","facebook"))})}},this.gplus=function(n){ft.utl.openWindow(t(n,"gplus",!1),"Google+",640,480),Fiverr.sendSharingToDoCompleted(),e.sendClientEvents("social_share.click","google_plus")},this.linkedin=function(n){e.sendClientEvents("social_share.click","linkedin"),e.sendMixPanelEvent("linkedin",n),IN.UI.Share().params({url:t(n,"linkedin"),success:function(t){Fiverr.sendSharingToDoCompleted(),e.sendClientEvents("social_share.post","linkedin")}}).place(document.body)}},bindClipboard:function(t){var e=t,n=e.attr("data-clipboard-text"),i=e.attr("data-hint"),o=new ZeroClipboard(e);o.on("ready",function(t){o.on("beforecopy",function(t){i?e.attr("data-hint","Copied!"):e.addClass("hint--bottom").attr("data-hint","Copied!")}),o.on("copy",function(t){var e=t.clipboardData;e.setData("text/plain",n)}),o.on("aftercopy",function(t){_.delay(function(){i?e.attr("data-hint",i):e.removeClass("hint--bottom").removeAttr("data-hint")},1500)})})}};e=o,n=e.models,i=e.selectors,window.fSocialSharing=o,t(document).ready(function(){o.init()})}(jQuery);